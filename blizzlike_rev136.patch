# HG changeset patch
# User asniker
# Date 1288853832 -18000
# Node ID cad7e28f89ce7bdc0f0da6fc56abf062a9525130
# Parent  780c114607fa33507ed1f6efea45bc3b3279fc4c
fix dungeon finder

diff --git a/src/server/game/DungeonFinding/LFGMgr.cpp b/src/server/game/DungeonFinding/LFGMgr.cpp
--- a/src/server/game/DungeonFinding/LFGMgr.cpp
+++ b/src/server/game/DungeonFinding/LFGMgr.cpp
@@ -1566,7 +1566,6 @@
         grp->SetDungeonDifficulty(Difficulty(dungeon->difficulty));
         grp->SetLfgDungeonEntry(dungeon->Entry());
         grp->SetLfgStatus(LFG_STATUS_NOT_SAVED);
-        grp->SendUpdate();
 
         // Remove players/groups from Queue
         for (LfgGuidList::const_iterator it = pProposal->queues.begin(); it != pProposal->queues.end(); ++it)
@@ -1576,6 +1575,9 @@
         for (LfgPlayerList::const_iterator it = players.begin(); it != players.end(); ++it)
             TeleportPlayer(*it, false);
 
+		// Update group info
+		grp->SendUpdate();
+
         for (LfgProposalPlayerMap::const_iterator it = pProposal->players.begin(); it != pProposal->players.end(); ++it)
             delete it->second;
         pProposal->players.clear();
