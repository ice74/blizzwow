# HG changeset patch
# User asniker
# Date 1289022500 -18000
# Node ID 9fcbe8a0d37b6cf1cdd70c5fc12950cd3bd4e7b8
# Parent  0ed9f43e0c6c8eb0d8eafab711e4d4126d51d46a
big update ruby sanctum

diff --git a/sql/Blizzlike@Sacred-core/Full sql and scripts/3) FULL sql.sql b/sql/Blizzlike@Sacred-core/Full sql and scripts/3) FULL sql.sql
--- a/sql/Blizzlike@Sacred-core/Full sql and scripts/3) FULL sql.sql	
+++ b/sql/Blizzlike@Sacred-core/Full sql and scripts/3) FULL sql.sql	
@@ -3476,14 +3476,21 @@
 INSERT INTO `spell_bonus_data` (`entry`, `direct_bonus`, `dot_bonus`, `ap_bonus`, `ap_dot_bonus`, `comments`) VALUES
 ('32645','0','0','0','0','Rogue - Envenom');
 
-
-
-SET NAMES 'UTF8';
 DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
 DELETE FROM script_texts where `entry` <= -1752001 AND `entry` >= -1752006;
 DELETE FROM script_texts where `entry` <= -1752017 AND `entry` >= -1752036;
 
 INSERT INTO script_texts (`entry`, `content_default`, `npc_entry`, `content_loc3`, `sound`, `type`, `language`) VALUES
+('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),         
+('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),         
+('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),         
+('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'),     
+('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'),     
+('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),    
+('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),    
+('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),    
+('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
+
 ( -1752001, "Ah, the entertainment has arrived.", 0, "", 17520, 1, 0),
 ( -1752002, "Baltharus leaves no survivors!", 0, "", 17521, 1, 0),
 ( -1752003, "This world has enough heroes.", 0, "", 17522, 1, 0),
@@ -3491,16 +3498,6 @@
 ( -1752005, "Twice the pain and half the fun.", 0, "", 17524, 1, 0),
 ( -1752006, "Your power wanes, ancient one.... Soon you will join your friends.", 0, "", 17525, 1, 0),
 
-('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),	 	
-('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),	 	
-('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),	 	
-('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'), 	
-('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'), 	
-('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),	
-('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),	
-('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),	
-('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
-
 ( -1752017, "Alexstrasza has chosen capable allies... A pity that I must END YOU!", 0, "", 17512, 1, 0),
 ( -1752018, "You thought you stood a chance?", 0, "", 17513, 1, 0),
 ( -1752019, "It''s for the best.", 0, "", 17514, 1, 0),
@@ -3532,27 +3529,25 @@
 UPDATE `creature_template` SET `ScriptName` = 'boss_ragefire' WHERE `entry` = '39747';
 UPDATE `creature_template` SET `ScriptName` = 'boss_halion' WHERE `entry`= '39863';
 UPDATE `creature_template` SET `ScriptName` = 'boss_twilight_halion' WHERE `entry` = '40142';
+UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike, `flags_extra`=128' WHERE `entry` = '40041';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
+UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
+UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
 
 REPLACE `spell_script_names` SET `ScriptName` = 'spell_halion_portal', `spell_id`=74812;
 
 UPDATE `gameobject_template` SET `data10`=74807 WHERE `entry`=202794;
+
 UPDATE `gameobject_template` SET `data10`=74812 WHERE `entry`=202796;
 
-
 DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74562') AND (`spell_effect`='74610');
 DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74792') AND (`spell_effect`='74800');
 INSERT INTO spell_linked_spell VALUES (-74562, 74610, 0, 'Fiery Combustion removed -> Combustion');
 INSERT INTO spell_linked_spell VALUES (-74792, 74800, 0, 'Soul Consumption removed -> Consumption');
 
 DELETE FROM creature WHERE `id`=39863 and `map`=724;
-INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0,0,0,0);
-
-UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
-
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike', `flags_extra`=128 WHERE `entry` = '40041';
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
-UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
-UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
+INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0);
 
 
 #Русский перевод
@@ -3599,8 +3594,6 @@
 
 
 
-
-SET NAMES 'UTF8';
 DELETE FROM `spell_proc_event` WHERE `entry` IN ('66799','66814','66815','66816','66817');
 INSERT INTO `spell_proc_event` (`entry`, `SchoolMask`, `SpellFamilyName`, `SpellFamilyMask0`, `SpellFamilyMask1`, `SpellFamilyMask2`, `procFlags`, `procEx`, `ppmRate`, `CustomChance`, `Cooldown`) VALUES
 ('66799','0','15','4194304','0','0','0','0','0','0','0'), -- Desolation (Rank 1)
diff --git a/sql/Blizzlike@Sacred-core/new fix/Ruby_sanctum.sql b/sql/Blizzlike@Sacred-core/new fix/Ruby_sanctum.sql
new file mode 100644
--- /dev/null
+++ b/sql/Blizzlike@Sacred-core/new fix/Ruby_sanctum.sql	
@@ -0,0 +1,121 @@
+﻿DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
+DELETE FROM script_texts where `entry` <= -1752001 AND `entry` >= -1752006;
+DELETE FROM script_texts where `entry` <= -1752017 AND `entry` >= -1752036;
+
+INSERT INTO script_texts (`entry`, `content_default`, `npc_entry`, `content_loc3`, `sound`, `type`, `language`) VALUES
+('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),         
+('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),         
+('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),         
+('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'),     
+('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'),     
+('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),    
+('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),    
+('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),    
+('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
+
+( -1752001, "Ah, the entertainment has arrived.", 0, "", 17520, 1, 0),
+( -1752002, "Baltharus leaves no survivors!", 0, "", 17521, 1, 0),
+( -1752003, "This world has enough heroes.", 0, "", 17522, 1, 0),
+( -1752004, "I..Didn''t saw...that coming...", 0, "", 17523, 1, 0),
+( -1752005, "Twice the pain and half the fun.", 0, "", 17524, 1, 0),
+( -1752006, "Your power wanes, ancient one.... Soon you will join your friends.", 0, "", 17525, 1, 0),
+
+( -1752017, "Alexstrasza has chosen capable allies... A pity that I must END YOU!", 0, "", 17512, 1, 0),
+( -1752018, "You thought you stood a chance?", 0, "", 17513, 1, 0),
+( -1752019, "It''s for the best.", 0, "", 17514, 1, 0),
+( -1752020, "HALION! I...", 0, "", 17515, 1, 0),
+( -1752021, "Turn them to ashes, minions!", 0, "", 17516, 1, 0),
+
+( -1752022, "You will sssuffer for this intrusion!", 0, "", 17528, 1, 0),
+( -1752023, "As it should be...", 0, "", 17529, 1, 0),
+( -1752024, "Halion will be pleased", 0, "", 17530, 1, 0),
+( -1752025, "Hhrr...Grr..", 0, "", 17531, 1, 0),
+( -1752026, "Burn in the master's flame!", 0, "", 17532, 1, 0),
+
+(-1752027, 'Insects! You''re too late. The Ruby Sanctum is lost.',NULL,NULL,17499,0,0),
+(-1752028, 'Your world teeters on the brink of annihilation. You will ALL bear witness to the coming of a new age of DESTRUCTION!',NULL,NULL,17500,0,0),
+(-1752029, 'Another hero falls.',NULL,NULL,17501,0,0),
+(-1752030, 'Hahahahaha.',NULL,NULL,17502,0,0),
+(-1752031, 'Relish this victory, mortals, for it will be your last! This world will burn with the master''s return!',NULL,NULL,17503,0,0),
+(-1752032, 'Not good enough.',NULL,NULL,17504,0,0),
+(-1752033, 'The heavens burn!',NULL,NULL,17505,0,0),
+(-1752034, 'Beware the shadow!',NULL,NULL,17506,0,0),
+(-1752035, 'You will find only suffering within the realm of twilight! Enter if you dare!',NULL,NULL,17507,0,0),
+(-1752036, 'I am the light and the darkness! Cower, mortals, before the herald of Deathwing!',NULL,NULL,17508,0,0);
+
+UPDATE `instance_template` SET `script`='instance_ruby_sanctum' WHERE (`map`='724');
+UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus' WHERE `entry` = '39751';
+UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus_summon' WHERE `entry` = '39899';
+UPDATE `creature_template` SET `ScriptName` = 'npc_xerestrasza' WHERE `entry` = '40429';
+UPDATE `creature_template` SET `ScriptName` = 'boss_zarithrian' WHERE `entry` = '39746';
+UPDATE `creature_template` SET `ScriptName` = 'boss_ragefire' WHERE `entry` = '39747';
+UPDATE `creature_template` SET `ScriptName` = 'boss_halion' WHERE `entry`= '39863';
+UPDATE `creature_template` SET `ScriptName` = 'boss_twilight_halion' WHERE `entry` = '40142';
+UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike, `flags_extra`=128' WHERE `entry` = '40041';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
+UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
+UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
+
+REPLACE `spell_script_names` SET `ScriptName` = 'spell_halion_portal', `spell_id`=74812;
+
+UPDATE `gameobject_template` SET `data10`=74807 WHERE `entry`=202794;
+
+UPDATE `gameobject_template` SET `data10`=74812 WHERE `entry`=202796;
+
+DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74562') AND (`spell_effect`='74610');
+DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74792') AND (`spell_effect`='74800');
+INSERT INTO spell_linked_spell VALUES (-74562, 74610, 0, 'Fiery Combustion removed -> Combustion');
+INSERT INTO spell_linked_spell VALUES (-74792, 74800, 0, 'Soul Consumption removed -> Consumption');
+
+DELETE FROM creature WHERE `id`=39863 and `map`=724;
+INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0);
+
+
+#Русский перевод
+
+
+UPDATE `script_texts` SET `content_loc8`='А-а-а, цирк приехал.' WHERE `entry`=-1752001;
+UPDATE `script_texts` SET `content_loc8`='Балтар не оставляет в живых!' WHERE `entry`=-1752002;
+UPDATE `script_texts` SET `content_loc8`='В мире хватает героев и без тебя...' WHERE `entry`=-1752003;
+UPDATE `script_texts` SET `content_loc8`='Как... это могло произойти?..' WHERE `entry`=-1752004;
+UPDATE `script_texts` SET `content_loc8`='Вдвое сильнее страдание.' WHERE `entry`=-1752005;
+UPDATE `script_texts` SET `content_loc8`='Твоя сила на исходе, древнейшая. Скоро ты присоеденишься к своим друзьям.' WHERE `entry`=-1752006;
+
+UPDATE `script_texts` SET `content_loc8`='Спасите! Я под этим деревом. Мне нужна помощь!' WHERE `entry`=-1752008;
+UPDATE `script_texts` SET `content_loc8`='Спасибо! Без вас я бы долго не продержалась... Здесь произошли страшные события... ' WHERE `entry`=-1752009;
+UPDATE `script_texts` SET `content_loc8`='Святилище считалось неприступным, но до сих пор оно не подвергалось такому штурму...' WHERE `entry`=-1752010;
+UPDATE `script_texts` SET `content_loc8`='Чёрный Дракон появился из воздуха, и поставил на нас крест, прежде чем мы успели отреагировать.' WHERE `entry`=-1752011;
+UPDATE `script_texts` SET `content_loc8`='У нас не единого шанса! Мои братья погибли здесь, вокруг меня, мне пришлось отступить здесь и найти выход.' WHERE `entry`=-1752012;
+UPDATE `script_texts` SET `content_loc8`='Они убили нас с холодной эффективностью, не хотя этого, их настоящая задача охранять яйца, которые находятся в святилище.' WHERE `entry`=-1752013;
+UPDATE `script_texts` SET `content_loc8`='Главного генерала, управляющего здесь всеми силами, зовут Заритриан, но я его боюсь.Здесь приобладают большие полномочия в сфере труда.' WHERE `entry`=-1752014;
+UPDATE `script_texts` SET `content_loc8`='В первоначальных нападение, я увидел их истинного лидера: грозного. взрослого сумеречного дракона.' WHERE `entry`=-1752015;
+UPDATE `script_texts` SET `content_loc8`='Я не знаю их истинных планов, герои, но я могу сказать одно: они не должны победить.' WHERE `entry`=-1752016;
+UPDATE `script_texts` SET `content_loc8`='Алекстраза выбрала достойных союзников... Жаль, что придется ПРИКОНЧИТЬ ВАС!' WHERE `entry`=-1752017;
+UPDATE `script_texts` SET `content_loc8`='Думаете, у вас есть шанс?' WHERE `entry`=-1752018;
+UPDATE `script_texts` SET `content_loc8`='Они и к лучшему.' WHERE `entry`=-1752019;
+UPDATE `script_texts` SET `content_loc8`='ХАЛИОН! Я...' WHERE `entry`=-1752020;
+UPDATE `script_texts` SET `content_loc8`='Слуги! Обратите их в пепел!' WHERE `entry`=-1752021;
+UPDATE `script_texts` SET `content_loc8`='Ваш-ш-ши муки с-станут платой за это вторжение!' WHERE `entry`=-1752022;
+UPDATE `script_texts` SET `content_loc8`='Как и должно быть...' WHERE `entry`=-1752023;
+UPDATE `script_texts` SET `content_loc8`='Халион будет доволен.' WHERE `entry`=-1752024;
+UPDATE `script_texts` SET `content_loc8`='Хрррр...Грррр...' WHERE `entry`=-1752024;
+UPDATE `script_texts` SET `content_loc8`='Горите в огне хозяина!' WHERE `entry`=-1752026;
+UPDATE `script_texts` SET `content_loc8`='Насекомые! Вы слишком поздно. Рубиновое Святилище потеряно.' WHERE `entry`=-1752027;
+UPDATE `script_texts` SET `content_loc8`='Этот мир вот-вот соскользнет в бездну. Вам выпала честь узреть начало эры РАЗРУШЕНИЯ!' WHERE `entry`=-1752028;
+UPDATE `script_texts` SET `content_loc8`='Другие герои пали.' WHERE `entry`=-1752029;
+UPDATE `script_texts` SET `content_loc8`='Ха-ха-ха.' WHERE `entry`=-1752030;
+UPDATE `script_texts` SET `content_loc8`='Это ваша последняя победа. Насладитесь ее вкусом. Ибо когда вернется мой господин, этот мир сгинет в огне!' WHERE `entry`=-1752031;
+UPDATE `script_texts` SET `content_loc8`='Не достаточно хорошо.' WHERE `entry`=-1752032;
+UPDATE `script_texts` SET `content_loc8`='Небеса в огне!' WHERE `entry`=-1752033;
+UPDATE `script_texts` SET `content_loc8`='Остерегайтесь теней!' WHERE `entry`=-1752034;
+UPDATE `script_texts` SET `content_loc8`='Вы найдете только страдание в царстве сумерек! Войдите, если сумеете!' WHERE `entry`=-1752035;
+UPDATE `script_texts` SET `content_loc8`='Я есть свет и я есть тьма! Трепещите, ничтожные, перед посланником Смертокрыла!' WHERE `entry`=-1752033;
+
+
+
+
+
+
+
+
diff --git a/sql/Blizzlike@Sacred-core/world/Ruby_sanctum.sql b/sql/Blizzlike@Sacred-core/world/Ruby_sanctum.sql
--- a/sql/Blizzlike@Sacred-core/world/Ruby_sanctum.sql
+++ b/sql/Blizzlike@Sacred-core/world/Ruby_sanctum.sql
@@ -1,9 +1,18 @@
-﻿SET NAMES 'UTF8';
-DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
+﻿DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
 DELETE FROM script_texts where `entry` <= -1752001 AND `entry` >= -1752006;
 DELETE FROM script_texts where `entry` <= -1752017 AND `entry` >= -1752036;
 
 INSERT INTO script_texts (`entry`, `content_default`, `npc_entry`, `content_loc3`, `sound`, `type`, `language`) VALUES
+('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),         
+('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),         
+('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),         
+('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'),     
+('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'),     
+('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),    
+('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),    
+('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),    
+('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
+
 ( -1752001, "Ah, the entertainment has arrived.", 0, "", 17520, 1, 0),
 ( -1752002, "Baltharus leaves no survivors!", 0, "", 17521, 1, 0),
 ( -1752003, "This world has enough heroes.", 0, "", 17522, 1, 0),
@@ -11,16 +20,6 @@
 ( -1752005, "Twice the pain and half the fun.", 0, "", 17524, 1, 0),
 ( -1752006, "Your power wanes, ancient one.... Soon you will join your friends.", 0, "", 17525, 1, 0),
 
-('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),	 	
-('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),	 	
-('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),	 	
-('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'), 	
-('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'), 	
-('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),	
-('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),	
-('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),	
-('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
-
 ( -1752017, "Alexstrasza has chosen capable allies... A pity that I must END YOU!", 0, "", 17512, 1, 0),
 ( -1752018, "You thought you stood a chance?", 0, "", 17513, 1, 0),
 ( -1752019, "It''s for the best.", 0, "", 17514, 1, 0),
@@ -52,27 +51,25 @@
 UPDATE `creature_template` SET `ScriptName` = 'boss_ragefire' WHERE `entry` = '39747';
 UPDATE `creature_template` SET `ScriptName` = 'boss_halion' WHERE `entry`= '39863';
 UPDATE `creature_template` SET `ScriptName` = 'boss_twilight_halion' WHERE `entry` = '40142';
+UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike, `flags_extra`=128' WHERE `entry` = '40041';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
+UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
+UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
 
 REPLACE `spell_script_names` SET `ScriptName` = 'spell_halion_portal', `spell_id`=74812;
 
 UPDATE `gameobject_template` SET `data10`=74807 WHERE `entry`=202794;
+
 UPDATE `gameobject_template` SET `data10`=74812 WHERE `entry`=202796;
 
-
 DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74562') AND (`spell_effect`='74610');
 DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74792') AND (`spell_effect`='74800');
 INSERT INTO spell_linked_spell VALUES (-74562, 74610, 0, 'Fiery Combustion removed -> Combustion');
 INSERT INTO spell_linked_spell VALUES (-74792, 74800, 0, 'Soul Consumption removed -> Consumption');
 
 DELETE FROM creature WHERE `id`=39863 and `map`=724;
-INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0,0,0,0);
-
-UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
-
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike', `flags_extra`=128 WHERE `entry` = '40041';
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
-UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
-UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
+INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0);
 
 
 #Русский перевод
diff --git a/src/server/scripts/Northrend/RubySanctum/boss_baltharus.cpp b/src/server/scripts/Northrend/RubySanctum/boss_baltharus.cpp
--- a/src/server/scripts/Northrend/RubySanctum/boss_baltharus.cpp
+++ b/src/server/scripts/Northrend/RubySanctum/boss_baltharus.cpp
@@ -1,4 +1,4 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
diff --git a/src/server/scripts/Northrend/RubySanctum/boss_halion.cpp b/src/server/scripts/Northrend/RubySanctum/boss_halion.cpp
--- a/src/server/scripts/Northrend/RubySanctum/boss_halion.cpp
+++ b/src/server/scripts/Northrend/RubySanctum/boss_halion.cpp
@@ -1,4 +1,4 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
@@ -160,13 +160,9 @@
 
             void RemoveAllGO()
             {
-                if (GameObject* flame1 = instance->instance->GetGameObject(instance->GetData64(GO_FLAME_WALLS2)))
+                if (GameObject* flame = instance->instance->GetGameObject(instance->GetData64(GO_FLAME_WALLS2)))
                 {
-                    flame1->Delete();
-                }
-                if (GameObject* flame2 = instance->instance->GetGameObject(instance->GetData64(GO_FLAME_WALLS3)))
-                {
-                    flame2->Delete();
+                    flame->Delete();
                 }
                 if (GameObject* portal1 = instance->instance->GetGameObject(instance->GetData64(GO_TWILIGHT_PORTAL1)))
                 {
@@ -232,13 +228,9 @@
                                 me->AddAura(SPELL_TWILIGHT_PRECISION, me); //test
                                 break;
                             case EVENT_FLAME_WALL:
-                                if (GameObject* go_flame1 = me->SummonGameObject(GO_FLAME_WALLS2, 3154.56f, 535.418f, 72.8889f, 4.47206f, 0, 0, 0.786772f, -0.617243f, 999999))
+                                if (go_flame = me->SummonGameObject(GO_FLAME_WALLS2, 3154.56f, 535.418f, 72.8889f, 4.47206f, 0, 0, 0.786772f, -0.617243f, 999999))
                                 {
-                                    go_flame1->SetPhaseMask(1,true);
-                                }
-                                if (GameObject* go_flame2 = me->SummonGameObject(GO_FLAME_WALLS3, 3154.56f, 535.418f, 72.8889f, 4.47206f, 0, 0, 0.786772f, -0.617243f, 999999))
-                                {
-                                    go_flame2->SetPhaseMask(32,true);
+                                    go_flame->SetPhaseMask(33,true);
                                 }
                                 break;
                             case EVENT_CAST_TAIL_LASH:
@@ -411,21 +403,11 @@
                 instance->DoRemoveAurasDueToSpellOnPlayers(SPELL_AURE_TWILIGHT);
                 RemoveAllGO();
                 DoScriptText(SAY_DEATH, me);
-                switch(instance->instance->GetDifficulty())
-                {
-                    case RAID_DIFFICULTY_10MAN_NORMAL:
-                        instance->DoCompleteAchievement(TWILIGHT_DESTROYER_NORMAL_10);
-                    case RAID_DIFFICULTY_10MAN_HEROIC:
-                        instance->DoCompleteAchievement(TWILIGHT_DESTROYER_HEROIC_10);
-                    case RAID_DIFFICULTY_25MAN_NORMAL:
-                        instance->DoCompleteAchievement(TWILIGHT_DESTROYER_NORMAL_25);
-                    case RAID_DIFFICULTY_25MAN_HEROIC:
-                        instance->DoCompleteAchievement(TWILIGHT_DESTROYER_HEROIC_25);
-                }
             }
 
         private:
             uint32 PercentDamage;
+            GameObject* go_flame;
         };
 
         CreatureAI* GetAI(Creature *pCreature) const
@@ -592,7 +574,6 @@
 
         class spell_halion_portal_SpellScript : public SpellScript
         {
-			PrepareSpellScript(spell_halion_portal_SpellScript)
             void HandleScript(SpellEffIndex /*effIndex*/)
             {
                 PreventHitDefaultEffect(EFFECT_0);
diff --git a/src/server/scripts/Northrend/RubySanctum/boss_ragefire.cpp b/src/server/scripts/Northrend/RubySanctum/boss_ragefire.cpp
--- a/src/server/scripts/Northrend/RubySanctum/boss_ragefire.cpp
+++ b/src/server/scripts/Northrend/RubySanctum/boss_ragefire.cpp
@@ -1,174 +1,174 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
-* This program is free software; you can redistribute it and/or modify
-* it under the terms of the GNU General Public License as published by
-* the Free Software Foundation; either version 2 of the License, or
-* (at your option) any later version.
-*
-* This program is distributed in the hope that it will be useful,
-* but WITHOUT ANY WARRANTY; without even the implied warranty of
-* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-* GNU General Public License for more details.
-*
-* You should have received a copy of the GNU General Public License
-* along with this program; if not, write to the Free Software
-* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-#include "ScriptPCH.h"
-#include "ruby_sanctum.h"
-
-enum eScriptTexts
-{
-    SAY_AGGRO           = -1752022,
-    SAY_SLAY1           = -1752023,
-    SAY_SLAY2           = -1752024,
-    SAY_DEATH           = -1752025
-};
-
-enum eSpells
-{
-    SPELL_CONFLAGRATION     = 74456,
-    SPELL_ENRAGE            = 78722,
-    SPELL_FLAME_BREATH_10   = 74403,
-    SPELL_FLAME_BREATH_25   = 74404,
-    SPELL_FLAME_BEACON      = 74453
-};
-
-enum eEvents
-{
-    EVENT_CAST_CONFLAGRATION      = 1,
-    EVENT_CAST_ENRAGE             = 2,
-    EVENT_CAST_FLAME_BREATH       = 3,
-    EVENT_CAST_FLAME_BEACON       = 4,
-    EVENT_CAST_CONFLAGRATION_FLY  = 5,
-    EVENT_CAST_CONFLAGRATION_CAST = 6
-};
-
-#define TARGETS_10 2
-#define TARGETS_25 5
-
-class boss_ragefire : public CreatureScript
-{
-    public:
-        boss_ragefire() : CreatureScript("boss_ragefire") { }
-
-        struct boss_ragefireAI : public BossAI
-        {
-            boss_ragefireAI(Creature *pCreature) : BossAI(pCreature, DATA_RAGEFIRE)
-            {
-                ASSERT(instance);
-                me->SetUnitMovementFlags(MOVEMENTFLAG_CAN_FLY);
-            }
-
-            void Reset()
-            {
-                instance->SetBossState(DATA_RAGEFIRE, NOT_STARTED);
-                playerList.clear();
-                bConflagration = false;
-                events.Reset();
-                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION, urand(45000,55000));
-                events.ScheduleEvent(EVENT_CAST_ENRAGE, urand(25000,35000));
-                events.ScheduleEvent(EVENT_CAST_FLAME_BREATH, urand(10000,15000));
-            }
-
-            void UpdateAI(const uint32 diff)
-            {
-                if (!UpdateVictim() || !CheckInRoom())
-                    return;
-
-                if (me->hasUnitState(UNIT_STAT_CASTING))
-                    return;
-
-                events.Update(diff);
-
-                if (!bConflagration)
-                {
-                    while (uint32 eventId = events.ExecuteEvent())
-                    {
-                        switch (eventId)
-                        {
-                            case EVENT_CAST_CONFLAGRATION:
-                                bConflagration = true;
-                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION_FLY, 1000);
-                                break;
-                            case EVENT_CAST_ENRAGE:
-                                DoCast(SPELL_ENRAGE);
-                                events.ScheduleEvent(EVENT_CAST_ENRAGE, urand(25000,35000));
-                                break;
-                            case EVENT_CAST_FLAME_BREATH:
-                                DoCast(RAID_MODE(SPELL_FLAME_BREATH_10,SPELL_FLAME_BREATH_25,SPELL_FLAME_BREATH_10,SPELL_FLAME_BREATH_25));
-                                events.ScheduleEvent(EVENT_CAST_FLAME_BREATH, urand(10000,15000));
-                                break;
-                        }
-                    }
-                }
-                else
-                {
-                    while (uint32 eventId = events.ExecuteEvent())
-                    {
-                        switch (eventId)
-                        {
-                            case EVENT_CAST_CONFLAGRATION_FLY:
-                                me->GetMotionMaster()->MovePoint(1, (float)3159.04, (float)676.08, (float)103.05);
-                                SelectTargetList(playerList, RAID_MODE(TARGETS_10,TARGETS_25,TARGETS_10,TARGETS_25), SELECT_TARGET_RANDOM, 0, true);
-                                for (std::list<Unit*>::const_iterator itr = playerList.begin(); itr != playerList.end(); ++itr)
-                                {
-                                    Unit *pTemp = (*itr);
-                                    me->CastSpell(pTemp, SPELL_FLAME_BEACON, true);
-                                }
-                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION_CAST, 5000);
-                                break;
-                            case EVENT_CAST_CONFLAGRATION_CAST:
-                                for (std::list<Unit*>::const_iterator itr = playerList.begin(); itr != playerList.end(); ++itr)
-                                {
-                                    Unit *pTemp = (*itr);
-                                    me->CastSpell(pTemp, SPELL_CONFLAGRATION, true);
-                                }
-                                playerList.clear();
-                                me->GetMotionMaster()->MoveTargetedHome();
-                                bConflagration = false;
-                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION, urand(45000,55000));
-                                break;
-                        }
-                    }
-                }
-
-                DoMeleeAttackIfReady();
-            }
-
-            void EnterCombat(Unit*)
-            {
-                instance->SetBossState(DATA_RAGEFIRE, IN_PROGRESS);
-                DoScriptText(SAY_AGGRO, me);
-            }
-
-            void KilledUnit(Unit* /*victim*/)
-            {
-                DoScriptText(RAND(SAY_SLAY1,SAY_SLAY2), me);
-            }
-
-            void JustDied(Unit*)
-            {
-                _JustDied();
-                DoScriptText(SAY_DEATH, me);
-                instance->SetBossState(DATA_RAGEFIRE, DONE);
-            }
-
-        private:
-            bool bConflagration;
-            std::list<Unit *> playerList;
-
-        };
-
-        CreatureAI* GetAI(Creature *pCreature) const
-        {
-            return new boss_ragefireAI(pCreature);
-        }
-
-};
-
-
-void AddSC_boss_ragefire()
-{
-    new boss_ragefire;
-}
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+* This program is free software; you can redistribute it and/or modify
+* it under the terms of the GNU General Public License as published by
+* the Free Software Foundation; either version 2 of the License, or
+* (at your option) any later version.
+*
+* This program is distributed in the hope that it will be useful,
+* but WITHOUT ANY WARRANTY; without even the implied warranty of
+* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+* GNU General Public License for more details.
+*
+* You should have received a copy of the GNU General Public License
+* along with this program; if not, write to the Free Software
+* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+*/
+
+#include "ScriptPCH.h"
+#include "ruby_sanctum.h"
+
+enum eScriptTexts
+{
+    SAY_AGGRO           = -1752022,
+    SAY_SLAY1           = -1752023,
+    SAY_SLAY2           = -1752024,
+    SAY_DEATH           = -1752025
+};
+
+enum eSpells
+{
+    SPELL_CONFLAGRATION     = 74456,
+    SPELL_ENRAGE            = 78722,
+    SPELL_FLAME_BREATH_10   = 74403,
+    SPELL_FLAME_BREATH_25   = 74404,
+    SPELL_FLAME_BEACON      = 74453
+};
+
+enum eEvents
+{
+    EVENT_CAST_CONFLAGRATION      = 1,
+    EVENT_CAST_ENRAGE             = 2,
+    EVENT_CAST_FLAME_BREATH       = 3,
+    EVENT_CAST_FLAME_BEACON       = 4,
+    EVENT_CAST_CONFLAGRATION_FLY  = 5,
+    EVENT_CAST_CONFLAGRATION_CAST = 6
+};
+
+#define TARGETS_10 2
+#define TARGETS_25 5
+
+class boss_ragefire : public CreatureScript
+{
+    public:
+        boss_ragefire() : CreatureScript("boss_ragefire") { }
+
+        struct boss_ragefireAI : public BossAI
+        {
+            boss_ragefireAI(Creature *pCreature) : BossAI(pCreature, DATA_RAGEFIRE)
+            {
+                ASSERT(instance);
+                me->SetUnitMovementFlags(MOVEMENTFLAG_CAN_FLY);
+            }
+
+            void Reset()
+            {
+                instance->SetBossState(DATA_RAGEFIRE, NOT_STARTED);
+                playerList.clear();
+                bConflagration = false;
+                events.Reset();
+                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION, urand(45000,55000));
+                events.ScheduleEvent(EVENT_CAST_ENRAGE, urand(25000,35000));
+                events.ScheduleEvent(EVENT_CAST_FLAME_BREATH, urand(10000,15000));
+            }
+
+            void UpdateAI(const uint32 diff)
+            {
+                if (!UpdateVictim() || !CheckInRoom())
+                    return;
+
+                if (me->hasUnitState(UNIT_STAT_CASTING))
+                    return;
+
+                events.Update(diff);
+
+                if (!bConflagration)
+                {
+                    while (uint32 eventId = events.ExecuteEvent())
+                    {
+                        switch (eventId)
+                        {
+                            case EVENT_CAST_CONFLAGRATION:
+                                bConflagration = true;
+                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION_FLY, 1000);
+                                break;
+                            case EVENT_CAST_ENRAGE:
+                                DoCast(SPELL_ENRAGE);
+                                events.ScheduleEvent(EVENT_CAST_ENRAGE, urand(25000,35000));
+                                break;
+                            case EVENT_CAST_FLAME_BREATH:
+                                DoCast(RAID_MODE(SPELL_FLAME_BREATH_10,SPELL_FLAME_BREATH_25,SPELL_FLAME_BREATH_10,SPELL_FLAME_BREATH_25));
+                                events.ScheduleEvent(EVENT_CAST_FLAME_BREATH, urand(10000,15000));
+                                break;
+                        }
+                    }
+                }
+                else
+                {
+                    while (uint32 eventId = events.ExecuteEvent())
+                    {
+                        switch (eventId)
+                        {
+                            case EVENT_CAST_CONFLAGRATION_FLY:
+                                me->GetMotionMaster()->MovePoint(1, (float)3159.04, (float)676.08, (float)103.05);
+                                SelectTargetList(playerList, RAID_MODE(TARGETS_10,TARGETS_25,TARGETS_10,TARGETS_25), SELECT_TARGET_RANDOM, 0, true);
+                                for (std::list<Unit*>::const_iterator itr = playerList.begin(); itr != playerList.end(); ++itr)
+
+                                {
+                                    Unit *pTemp = (*itr);
+                                    me->CastSpell(pTemp, SPELL_FLAME_BEACON, true);
+                                }
+                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION_CAST, 5000);
+                                break;
+                            case EVENT_CAST_CONFLAGRATION_CAST:
+                                for (std::list<Unit*>::const_iterator itr = playerList.begin(); itr != playerList.end(); ++itr)
+
+                                {
+                                    Unit *pTemp = (*itr);
+                                    me->CastSpell(pTemp, SPELL_CONFLAGRATION, true);
+                                }
+                                playerList.clear();
+                                me->GetMotionMaster()->MoveTargetedHome();
+                                bConflagration = false;
+                                events.ScheduleEvent(EVENT_CAST_CONFLAGRATION, urand(45000,55000));
+                                break;
+                        }
+                    }
+                }
+
+                DoMeleeAttackIfReady();
+            }
+
+            void EnterCombat(Unit*)
+            {
+                instance->SetBossState(DATA_RAGEFIRE, IN_PROGRESS);
+                DoScriptText(SAY_AGGRO, me);
+            }
+
+            void KilledUnit(Unit* /*victim*/)
+            {
+                DoScriptText(RAND(SAY_SLAY1,SAY_SLAY2), me);
+            }
+
+            void JustDied(Unit*)
+            {
+                _JustDied();
+                DoScriptText(SAY_DEATH, me);
+                instance->SetBossState(DATA_RAGEFIRE, DONE);
+            }
+
+        private:
+            bool bConflagration;
+            std::list<Unit *> playerList;
+
+        };
+
+        CreatureAI* GetAI(Creature *pCreature) const
+        {
+            return new boss_ragefireAI(pCreature);
+        }
+
+};
+
+
+void AddSC_boss_ragefire()
+{
diff --git a/src/server/scripts/Northrend/RubySanctum/boss_zarithrian.cpp b/src/server/scripts/Northrend/RubySanctum/boss_zarithrian.cpp
--- a/src/server/scripts/Northrend/RubySanctum/boss_zarithrian.cpp
+++ b/src/server/scripts/Northrend/RubySanctum/boss_zarithrian.cpp
@@ -1,4 +1,4 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
@@ -49,13 +49,20 @@
 };
 
 static const Position SpawnPos[4] =
+
 {
+
     {3022.67f, 479.01f, 89.23f, 2.38f},
+
     {3016.55f, 510.26f, 90.03f, 0.89f},
+
     {3039.37f, 590.13f, 87.90f, 3.74f},
+
     {3018.86f, 549.40f, 89.25f, 5.23f}
+
 };
 
+
 Creature* pZarithrian;
 
 class boss_zarithrian : public CreatureScript
@@ -212,10 +219,3 @@
         {
             return new npc_onyx_flamecallerAI(pCreature);
         }
-};
-
-void AddSC_boss_zarithrian()
-{
-    new boss_zarithrian;
-    new npc_onyx_flamecaller;
-}
diff --git a/src/server/scripts/Northrend/RubySanctum/instance_ruby_sanctum.cpp b/src/server/scripts/Northrend/RubySanctum/instance_ruby_sanctum.cpp
--- a/src/server/scripts/Northrend/RubySanctum/instance_ruby_sanctum.cpp
+++ b/src/server/scripts/Northrend/RubySanctum/instance_ruby_sanctum.cpp
@@ -1,4 +1,4 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
@@ -52,7 +52,6 @@
                 m_uiXerestraszaGUID = 0;
                 m_uiTwilightHalionGUID = 0;
                 m_uiGOFlameWallsGUID = 0;
-                m_uiGOTwilightWallsGUID = 0;
             }
 
             void OnCreatureCreate(Creature *pCreature, bool  /*add*/)
@@ -106,7 +105,6 @@
                     case GO_TWILIGHT_PORTAL1: m_uiHalionPortalGUID = pGo->GetGUID(); break;
                     case GO_TWILIGHT_PORTAL2: m_uiTwilightPortalGUID = pGo->GetGUID(); break;
                     case GO_FLAME_WALLS2:     m_uiGOFlameWallsGUID = pGo->GetGUID(); break;
-                    case GO_FLAME_WALLS3:     m_uiGOTwilightWallsGUID = pGo->GetGUID(); break;
                     default: break;
                 }
             }
@@ -196,8 +194,7 @@
                     case DATA_XERESTRASZA:     return m_uiXerestraszaGUID;    break;
                     case GO_TWILIGHT_PORTAL1:  return m_uiHalionPortalGUID;   break;
                     case GO_TWILIGHT_PORTAL2:  return m_uiTwilightPortalGUID; break;
-                    case GO_FLAME_WALLS2:      return m_uiGOFlameWallsGUID;   break; 
-                    case GO_FLAME_WALLS3:      return m_uiGOTwilightWallsGUID;   break; 
+                    case GO_FLAME_WALLS2:      return m_uiGOFlameWallsGUID;   break;  
                     default: break;
                 }
                 return 0;
@@ -246,7 +243,6 @@
                 uint64 m_uiHalionPortalGUID;
                 uint64 m_uiTwilightPortalGUID;
                 uint64 m_uiGOFlameWallsGUID;
-                uint64 m_uiGOTwilightWallsGUID;
         };
         
         InstanceScript* GetInstanceScript (InstanceMap *pMap) const
diff --git a/src/server/scripts/Northrend/RubySanctum/ruby_sanctum.h b/src/server/scripts/Northrend/RubySanctum/ruby_sanctum.h
--- a/src/server/scripts/Northrend/RubySanctum/ruby_sanctum.h
+++ b/src/server/scripts/Northrend/RubySanctum/ruby_sanctum.h
@@ -1,143 +1,142 @@
-﻿/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
-* This program is free software; you can redistribute it and/or modify
-* it under the terms of the GNU General Public License as published by
-* the Free Software Foundation; either version 2 of the License, or
-* (at your option) any later version.
-*
-* This program is distributed in the hope that it will be useful,
-* but WITHOUT ANY WARRANTY; without even the implied warranty of
-* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-* GNU General Public License for more details.
-*
-* You should have received a copy of the GNU General Public License
-* along with this program; if not, write to the Free Software
-* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-/*
-DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
-DELETE FROM script_texts where `entry` <= -1752001 AND `entry` >= -1752006;
-DELETE FROM script_texts where `entry` <= -1752017 AND `entry` >= -1752036;
-
-INSERT INTO script_texts (`entry`, `content_default`, `npc_entry`, `content_loc3`, `sound`, `type`, `language`) VALUES
-('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),         
-('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),         
-('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),         
-('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'),     
-('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'),     
-('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),    
-('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),    
-('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),    
-('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
-
-( -1752001, "Ah, the entertainment has arrived.", 0, "", 17520, 1, 0),
-( -1752002, "Baltharus leaves no survivors!", 0, "", 17521, 1, 0),
-( -1752003, "This world has enough heroes.", 0, "", 17522, 1, 0),
-( -1752004, "I..Didn''t saw...that coming...", 0, "", 17523, 1, 0),
-( -1752005, "Twice the pain and half the fun.", 0, "", 17524, 1, 0),
-( -1752006, "Your power wanes, ancient one.... Soon you will join your friends.", 0, "", 17525, 1, 0),
-
-( -1752017, "Alexstrasza has chosen capable allies... A pity that I must END YOU!", 0, "", 17512, 1, 0),
-( -1752018, "You thought you stood a chance?", 0, "", 17513, 1, 0),
-( -1752019, "It''s for the best.", 0, "", 17514, 1, 0),
-( -1752020, "HALION! I...", 0, "", 17515, 1, 0),
-( -1752021, "Turn them to ashes, minions!", 0, "", 17516, 1, 0),
-
-( -1752022, "You will sssuffer for this intrusion!", 0, "", 17528, 1, 0),
-( -1752023, "As it should be...", 0, "", 17529, 1, 0),
-( -1752024, "Halion will be pleased", 0, "", 17530, 1, 0),
-( -1752025, "Hhrr...Grr..", 0, "", 17531, 1, 0),
-( -1752026, "Burn in the master's flame!", 0, "", 17532, 1, 0),
-
-(-1752027, 'Insects! You''re too late. The Ruby Sanctum is lost.',NULL,NULL,17499,0,0),
-(-1752028, 'Your world teeters on the brink of annihilation. You will ALL bear witness to the coming of a new age of DESTRUCTION!',NULL,NULL,17500,0,0),
-(-1752029, 'Another hero falls.',NULL,NULL,17501,0,0),
-(-1752030, 'Hahahahaha.',NULL,NULL,17502,0,0),
-(-1752031, 'Relish this victory, mortals, for it will be your last! This world will burn with the master''s return!',NULL,NULL,17503,0,0),
-(-1752032, 'Not good enough.',NULL,NULL,17504,0,0),
-(-1752033, 'The heavens burn!',NULL,NULL,17505,0,0),
-(-1752034, 'Beware the shadow!',NULL,NULL,17506,0,0),
-(-1752035, 'You will find only suffering within the realm of twilight! Enter if you dare!',NULL,NULL,17507,0,0),
-(-1752036, 'I am the light and the darkness! Cower, mortals, before the herald of Deathwing!',NULL,NULL,17508,0,0);
-
-UPDATE `instance_template` SET `script`='instance_ruby_sanctum' WHERE (`map`='724');
-UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus' WHERE `entry` = '39751';
-UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus_summon' WHERE `entry` = '39899';
-UPDATE `creature_template` SET `ScriptName` = 'npc_xerestrasza' WHERE `entry` = '40429';
-UPDATE `creature_template` SET `ScriptName` = 'boss_zarithrian' WHERE `entry` = '39746';
-UPDATE `creature_template` SET `ScriptName` = 'boss_ragefire' WHERE `entry` = '39747';
-UPDATE `creature_template` SET `ScriptName` = 'boss_halion' WHERE `entry`= '39863';
-UPDATE `creature_template` SET `ScriptName` = 'boss_twilight_halion' WHERE `entry` = '40142';
-UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike, `flags_extra`=128' WHERE `entry` = '40041';
-UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
-UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
-UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
-
-REPLACE `spell_script_names` SET `ScriptName` = 'spell_halion_portal', `spell_id`=74812;
-
-UPDATE `gameobject_template` SET `data10`=74807 WHERE `entry`=202794;
-UPDATE `gameobject_template` SET `data10`=74812 WHERE `entry`=202796;
-
-DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74562') AND (`spell_effect`='74610');
-DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74792') AND (`spell_effect`='74800');
-INSERT INTO spell_linked_spell VALUES (-74562, 74610, 0, 'Fiery Combustion removed -> Combustion');
-INSERT INTO spell_linked_spell VALUES (-74792, 74800, 0, 'Soul Consumption removed -> Consumption');
-
-DELETE FROM creature WHERE `id`=39863 and `map`=724;
-INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0);
-*/
-
-#ifndef DEF_RUBY_SANCTUM_H
-#define DEF_RUBY_SANCTUM_H
-
-static const Position SpawnPosHalion = {3144.93f, 527.233f, 72.8887f, 0.110395f};
-
-enum eData
-{
-    DATA_BALTHARUS       = 0,
-    DATA_RAGEFIRE        = 1,
-    DATA_ZARITHRIAN      = 2,
-    DATA_HALION          = 3,
-    MAX_ENCOUNTER        = 4,
-    DATA_XERESTRASZA     = 5,
-    DATA_TWILIGHT_HALION = 6,
-    DATA_DAMAGE          = 7
-};
-
-enum eAchievementData
-{
-    TWILIGHT_DESTROYER_NORMAL_10    = 4817,
-    TWILIGHT_DESTROYER_NORMAL_25    = 4815,
-    TWILIGHT_DESTROYER_HEROIC_10    = 4818,
-    TWILIGHT_DESTROYER_HEROIC_25    = 4816
-};
-
-enum eCreature
-{
-    NPC_BALTHARUS        = 39751,
-    NPC_BALTHARUS_SUMMON = 39899,
-    NPC_ZARITHRIAN       = 39746,
-    NPC_RAGEFIRE         = 39747,
-    NPC_HALION           = 39863,
-    NPC_TWILIGHT_HALION  = 40142,
-    NPC_XERESTRASZA      = 40429,
-    NPC_ONYX_FLAMECALLER = 39814,
-    NPC_METEOR_STRIKE    = 40041,//40029
-    NPC_METEOR_FLAME     = 40042,
-    NPC_SUMMON_HALIOH    = 40044,
-    //возгорание         = 40001
-};
-
-enum eGameObject
-{
-    GO_FIRE_FIELD       = 203005,
-    GO_FLAME_WALLS      = 203006,
-    GO_FLAME_WALLS2     = 203007,
-    GO_FLAME_WALLS3     = 203624,
-    GO_TWILIGHT_PORTAL1 = 202794,
-    GO_TWILIGHT_PORTAL2 = 202796
-};
-
-#endif
-
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+* This program is free software; you can redistribute it and/or modify
+* it under the terms of the GNU General Public License as published by
+* the Free Software Foundation; either version 2 of the License, or
+* (at your option) any later version.
+*
+* This program is distributed in the hope that it will be useful,
+* but WITHOUT ANY WARRANTY; without even the implied warranty of
+* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+* GNU General Public License for more details.
+*
+* You should have received a copy of the GNU General Public License
+* along with this program; if not, write to the Free Software
+* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+*/
+
+/*
+DELETE FROM script_texts where `entry` <= -1752008 AND `entry` >= -1752016;
+DELETE FROM script_texts where `entry` <= -1752001 AND `entry` >= -1752006;
+DELETE FROM script_texts where `entry` <= -1752017 AND `entry` >= -1752036;
+
+INSERT INTO script_texts (`entry`, `content_default`, `npc_entry`, `content_loc3`, `sound`, `type`, `language`) VALUES
+('-1752008', 'Help! I am trapped within this tree! I require aid!', '0', '', '17490', '1', '0'),         
+('-1752009', 'Thank you! I could not have held out for much longer.... A terrible thing has happened here.', '0', '', '17491', '1', '0'),         
+('-1752010', 'We believed the Sanctum was well-fortified, but we were not prepared for the nature of this assault.', '0', '', '17492', '0', '0'),         
+('-1752011', 'The Black dragonkin materialized from thin air, and set upon us before we could react.', '0', '', '17493', '0', '0'),     
+('-1752012', 'We did not stand a chance. As my brethren perished around me, I managed to retreat here and bar the entrance.', '0', '', '17494', '0', '0'),     
+('-1752013', 'They slaughtered us with cold efficiency, but the true focus of their interest seemed to be the eggs kept here in the Sanctum.', '0', '', '17495', '0', '0'),    
+('-1752014', 'The commander of the forces on the ground here is a cruel brute named Zarithrian, but I fear there are greater powers at work.', '0', '', '17496', '0', '0'),    
+('-1752015', 'In their initial assault, I caught a glimpse of their true leader, a fearsome full-grown twilight dragon.', '0', '', '17497', '0', '0'),    
+('-1752016', 'I know not the extent of their plans, heroes, but I know this: They cannot be allowed to succeed!', '0', '', '17498', '0', '0'),
+
+( -1752001, "Ah, the entertainment has arrived.", 0, "", 17520, 1, 0),
+( -1752002, "Baltharus leaves no survivors!", 0, "", 17521, 1, 0),
+( -1752003, "This world has enough heroes.", 0, "", 17522, 1, 0),
+( -1752004, "I..Didn''t saw...that coming...", 0, "", 17523, 1, 0),
+( -1752005, "Twice the pain and half the fun.", 0, "", 17524, 1, 0),
+( -1752006, "Your power wanes, ancient one.... Soon you will join your friends.", 0, "", 17525, 1, 0),
+
+( -1752017, "Alexstrasza has chosen capable allies... A pity that I must END YOU!", 0, "", 17512, 1, 0),
+( -1752018, "You thought you stood a chance?", 0, "", 17513, 1, 0),
+( -1752019, "It''s for the best.", 0, "", 17514, 1, 0),
+( -1752020, "HALION! I...", 0, "", 17515, 1, 0),
+( -1752021, "Turn them to ashes, minions!", 0, "", 17516, 1, 0),
+
+( -1752022, "You will sssuffer for this intrusion!", 0, "", 17528, 1, 0),
+( -1752023, "As it should be...", 0, "", 17529, 1, 0),
+( -1752024, "Halion will be pleased", 0, "", 17530, 1, 0),
+( -1752025, "Hhrr...Grr..", 0, "", 17531, 1, 0),
+( -1752026, "Burn in the master's flame!", 0, "", 17532, 1, 0),
+
+(-1752027, 'Insects! You''re too late. The Ruby Sanctum is lost.',NULL,NULL,17499,0,0),
+(-1752028, 'Your world teeters on the brink of annihilation. You will ALL bear witness to the coming of a new age of DESTRUCTION!',NULL,NULL,17500,0,0),
+(-1752029, 'Another hero falls.',NULL,NULL,17501,0,0),
+(-1752030, 'Hahahahaha.',NULL,NULL,17502,0,0),
+(-1752031, 'Relish this victory, mortals, for it will be your last! This world will burn with the master''s return!',NULL,NULL,17503,0,0),
+(-1752032, 'Not good enough.',NULL,NULL,17504,0,0),
+(-1752033, 'The heavens burn!',NULL,NULL,17505,0,0),
+(-1752034, 'Beware the shadow!',NULL,NULL,17506,0,0),
+(-1752035, 'You will find only suffering within the realm of twilight! Enter if you dare!',NULL,NULL,17507,0,0),
+(-1752036, 'I am the light and the darkness! Cower, mortals, before the herald of Deathwing!',NULL,NULL,17508,0,0);
+
+UPDATE `instance_template` SET `script`='instance_ruby_sanctum' WHERE (`map`='724');
+UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus' WHERE `entry` = '39751';
+UPDATE `creature_template` SET `ScriptName` = 'boss_baltharus_summon' WHERE `entry` = '39899';
+UPDATE `creature_template` SET `ScriptName` = 'npc_xerestrasza' WHERE `entry` = '40429';
+UPDATE `creature_template` SET `ScriptName` = 'boss_zarithrian' WHERE `entry` = '39746';
+UPDATE `creature_template` SET `ScriptName` = 'boss_ragefire' WHERE `entry` = '39747';
+UPDATE `creature_template` SET `ScriptName` = 'boss_halion' WHERE `entry`= '39863';
+UPDATE `creature_template` SET `ScriptName` = 'boss_twilight_halion' WHERE `entry` = '40142';
+UPDATE `creature_template` SET `ScriptName` = 'npc_onyx_flamecaller' WHERE `entry` = '39814';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_strike, `flags_extra`=128' WHERE `entry` = '40041';
+UPDATE `creature_template` SET `ScriptName` = 'npc_meteor_flame', `flags_extra`=128 WHERE `entry` = '40042';
+UPDATE `creature_template` SET `ScriptName` = 'npc_spell_meteor_strike', `flags_extra`=128 WHERE `entry` = '40029';
+UPDATE `creature_template` SET `name`='summon halion', `ScriptName` = 'npc_summon_halion', `flags_extra`=128 WHERE `entry` = '40044';
+
+REPLACE `spell_script_names` SET `ScriptName` = 'spell_halion_portal', `spell_id`=74812;
+
+UPDATE `gameobject_template` SET `data10`=74807 WHERE `entry`=202794;
+
+UPDATE `gameobject_template` SET `data10`=74812 WHERE `entry`=202796;
+
+DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74562') AND (`spell_effect`='74610');
+DELETE FROM `spell_linked_spell` WHERE (`spell_trigger`='-74792') AND (`spell_effect`='74800');
+INSERT INTO spell_linked_spell VALUES (-74562, 74610, 0, 'Fiery Combustion removed -> Combustion');
+INSERT INTO spell_linked_spell VALUES (-74792, 74800, 0, 'Soul Consumption removed -> Consumption');
+
+DELETE FROM creature WHERE `id`=39863 and `map`=724;
+INSERT INTO creature VALUES (null,39863,724,15,1,0,0,3144.93,527.233,72.8887,0.110395,300,0,0,11156000,0,0,0);
+*/
+
+#ifndef DEF_RUBY_SANCTUM_H
+#define DEF_RUBY_SANCTUM_H
+
+static const Position SpawnPosHalion = {3144.93f, 527.233f, 72.8887f, 0.110395f};
+
+enum eData
+{
+    DATA_BALTHARUS       = 0,
+    DATA_RAGEFIRE        = 1,
+    DATA_ZARITHRIAN      = 2,
+    DATA_HALION          = 3,
+    MAX_ENCOUNTER        = 4,
+    DATA_XERESTRASZA     = 5,
+    DATA_TWILIGHT_HALION = 6,
+    DATA_DAMAGE          = 7
+};
+
+enum eAchievementData
+{
+    TWILIGHT_DESTROYER_NORMAL_10    = 4817,
+    TWILIGHT_DESTROYER_NORMAL_25    = 4815,
+    TWILIGHT_DESTROYER_HEROIC_10    = 4818,
+    TWILIGHT_DESTROYER_HEROIC_25    = 4816
+};
+
+enum eCreature
+{
+    NPC_BALTHARUS        = 39751,
+    NPC_BALTHARUS_SUMMON = 39899,
+    NPC_ZARITHRIAN       = 39746,
+    NPC_RAGEFIRE         = 39747,
+    NPC_HALION           = 39863,
+    NPC_TWILIGHT_HALION  = 40142,
+    NPC_XERESTRASZA      = 40429,
+    NPC_ONYX_FLAMECALLER = 39814,
+    NPC_METEOR_STRIKE    = 40041,//40029
+    NPC_METEOR_FLAME     = 40042,
+    NPC_SUMMON_HALIOH    = 40044,
+    //         = 40001
+};
+
+enum eGameObject
+{
+    GO_FIRE_FIELD       = 203005,
+    GO_FLAME_WALLS      = 203006,
+    GO_FLAME_WALLS2     = 203007,
+    GO_TWILIGHT_PORTAL1 = 202794,
+    GO_TWILIGHT_PORTAL2 = 202796
+};
+
+#endif
