# HG changeset patch
# User asniker
# Date 1288589141 -18000
# Node ID 5b047b5f596d90636d01011a74652e5e705e1baf
# Parent  460a6f6d99ed6b6973718204916052a6907753e8
add wintergrasp, fix icecrown citdel, add pvp system, and many intersting things

diff --git a/revision.h.in.cmake b/revision.h.in.cmake
--- a/revision.h.in.cmake
+++ b/revision.h.in.cmake
@@ -1,7 +1,7 @@
 #ifndef __REVISION_H__
 #define __REVISION_H__
- #define _REVISION      "6"
- #define _HASH          "18.10.10"
+ #define _REVISION      "7"
+ #define _HASH          "01.11.10"
  #define FILEVER        0,0,@rev_id@,0
  #define PRODUCTVER     0,0,@rev_id@,0
  #define STRFILEVER     "0, 0, @rev_id@, @rev_hash@"
diff --git a/src/server/game/CMakeLists.txt b/src/server/game/CMakeLists.txt
--- a/src/server/game/CMakeLists.txt
+++ b/src/server/game/CMakeLists.txt
@@ -1,212 +1,213 @@
-# Copyright (C) 2008-2010 Trinity <http://www.trinitycore.org/>
-#
-# This file is free software; as a special exception the author gives
-# unlimited permission to copy and/or distribute it, with or without
-# modifications, as long as this notice is preserved.
-#
-# This program is distributed in the hope that it will be useful, but
-# WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
-# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
-
-if( USE_COREPCH )
-  include_directories(${CMAKE_CURRENT_BINARY_DIR})
-endif()
-
-file(GLOB_RECURSE sources_Accounts Accounts/*.cpp Accounts/*.h)
-file(GLOB_RECURSE sources_Achievements Achievements/*.cpp Achievements/*.h)
-file(GLOB_RECURSE sources_Addons Addons/*.cpp Addons/*.h)
-file(GLOB_RECURSE sources_AI AI/*.cpp AI/*.h)
-file(GLOB_RECURSE sources_AuctionHouse AuctionHouse/*.cpp AuctionHouse/*.h)
-file(GLOB_RECURSE sources_AuctionHouseBot AuctionHouse/AuctionHouseBot/*.cpp AuctionHouse/AuctionHouseBot/*.h)
-file(GLOB_RECURSE sources_Battlegrounds Battlegrounds/*.cpp Battlegrounds/*.h)
-file(GLOB_RECURSE sources_Calendar Calendar/*.cpp Calendar/*.h)
-file(GLOB_RECURSE sources_Chat Chat/*.cpp Chat/*.h)
-file(GLOB_RECURSE sources_Combat Combat/*.cpp Combat/*.h)
-file(GLOB_RECURSE sources_Conditions Conditions/*.cpp Conditions/*.h)
-file(GLOB_RECURSE sources_DataStores DataStores/*.cpp DataStores/*.h)
-file(GLOB_RECURSE sources_DungeonFinding DungeonFinding/*.cpp DungeonFinding/*.h)
-file(GLOB_RECURSE sources_Entities Entities/*.cpp Entities/*.h)
-file(GLOB_RECURSE sources_Events Events/*.cpp Events/*.h)
-file(GLOB_RECURSE sources_Globals Globals/*.cpp Globals/*.h)
-file(GLOB_RECURSE sources_Grids Grids/*.cpp Grids/*.h)
-file(GLOB_RECURSE sources_Groups Groups/*.cpp Groups/*.h)
-file(GLOB_RECURSE sources_Guilds Guilds/*.cpp Guilds/*.h)
-file(GLOB_RECURSE sources_Instances Instances/*.cpp Instances/*.h)
-file(GLOB_RECURSE sources_Loot Loot/*.cpp Loot/*.h)
-file(GLOB_RECURSE sources_Mails Mails/*.cpp Mails/*.h)
-file(GLOB_RECURSE sources_Maps Maps/*.cpp Maps/*.h)
-file(GLOB_RECURSE sources_Miscellaneous Miscellaneous/*.cpp Miscellaneous/*.h)
-file(GLOB_RECURSE sources_Movement Movement/*.cpp Movement/*.h)
-file(GLOB_RECURSE sources_OutdoorPvP OutdoorPvP/*.cpp OutdoorPvP/*.h)
-file(GLOB_RECURSE sources_Pools Pools/*.cpp Pools/*.h)
-file(GLOB_RECURSE sources_Quests Quests/*.cpp Quests/*.h)
-file(GLOB_RECURSE sources_Reputation Reputation/*.cpp Reputation/*.h)
-file(GLOB_RECURSE sources_Scripting Scripting/*.cpp Scripting/*.h)
-file(GLOB_RECURSE sources_Server Server/*.cpp Server/*.h)
-file(GLOB_RECURSE sources_Skills Skills/*.cpp Skills/*.h)
-file(GLOB_RECURSE sources_Spells Spells/*.cpp Spells/*.h)
-file(GLOB_RECURSE sources_Texts Texts/*.cpp Texts/*.h)
-file(GLOB_RECURSE sources_Tools Tools/*.cpp Tools/*.h)
-file(GLOB_RECURSE sources_Tickets Tickets/*.cpp Tickets/*.h)
-file(GLOB_RECURSE sources_Weather Weather/*.cpp Weather/*.h)
-file(GLOB_RECURSE sources_World World/*.cpp World/*.h)
-
-# Create game-libary
-
-if( USE_COREPCH AND MSVC )
-  set(game_STAT_SRCS
-    PrecompiledHeaders/gamePCH.cpp
-    PrecompiledHeaders/gamePCH.h
-  )
-endif()
-
-set(game_STAT_SRCS
-  ${game_STAT_SRCS}
-  ${sources_Accounts}
-  ${sources_Achievements}
-  ${sources_Addons}
-  ${sources_AI}
-  ${sources_AuctionHouse}
-  ${sources_AuctionHouseBot}
-  ${sources_Battlegrounds}
-  ${sources_Calendar}
-  ${sources_Chat}
-  ${sources_Combat}
-  ${sources_Conditions}
-  ${sources_DataStores}
-  ${sources_DungeonFinding}
-  ${sources_Entities}
-  ${sources_Events}
-  ${sources_Globals}
-  ${sources_Grids}
-  ${sources_Groups}
-  ${sources_Guilds}
-  ${sources_Instances}
-  ${sources_Loot}
-  ${sources_Mails}
-  ${sources_Maps}
-  ${sources_Miscellaneous}
-  ${sources_Movement}
-  ${sources_OutdoorPvP}
-  ${sources_Pools}
-  ${sources_Quests}
-  ${sources_Reputation}
-  ${sources_Scripting}
-  ${sources_Server}
-  ${sources_Skills}
-  ${sources_Spells}
-  ${sources_Texts}
-  ${sources_Tools}
-  ${sources_Tickets}
-  ${sources_Weather}
-  ${sources_World}
-)
-
-include_directories(
-  ${CMAKE_BINARY_DIR}
-  ${CMAKE_SOURCE_DIR}/dep/mersennetwister
-  ${CMAKE_SOURCE_DIR}/dep/SFMT
-  ${CMAKE_SOURCE_DIR}/dep/zlib
-  ${CMAKE_SOURCE_DIR}/src/server/collision
-  ${CMAKE_SOURCE_DIR}/src/server/collision/Management
-  ${CMAKE_SOURCE_DIR}/src/server/shared
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography/Authentication
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
-  ${CMAKE_SOURCE_DIR}/src/server/shared/DataStores
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Debugging
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/CountedReference
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/LinkedReference
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Logging
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Packets
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Policies
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Threading
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Utilities
-  ${CMAKE_CURRENT_SOURCE_DIR}
-  ${CMAKE_CURRENT_SOURCE_DIR}/Accounts
-  ${CMAKE_CURRENT_SOURCE_DIR}/Achievements
-  ${CMAKE_CURRENT_SOURCE_DIR}/Addons
-  ${CMAKE_CURRENT_SOURCE_DIR}/AI
-  ${CMAKE_CURRENT_SOURCE_DIR}/AI/CoreAI
-  ${CMAKE_CURRENT_SOURCE_DIR}/AI/EventAI
-  ${CMAKE_CURRENT_SOURCE_DIR}/AI/ScriptedAI
-  ${CMAKE_CURRENT_SOURCE_DIR}/AI/SmartAI
-  ${CMAKE_CURRENT_SOURCE_DIR}/AuctionHouse
-  ${CMAKE_CURRENT_SOURCE_DIR}/AuctionHouse/AuctionHouseBot
-  ${CMAKE_CURRENT_SOURCE_DIR}/Battlegrounds
-  ${CMAKE_CURRENT_SOURCE_DIR}/Battlegrounds/Zones
-  ${CMAKE_CURRENT_SOURCE_DIR}/Calendar
-  ${CMAKE_CURRENT_SOURCE_DIR}/Chat
-  ${CMAKE_CURRENT_SOURCE_DIR}/Chat/Channels
-  ${CMAKE_CURRENT_SOURCE_DIR}/Chat/Commands
-  ${CMAKE_CURRENT_SOURCE_DIR}/Combat
-  ${CMAKE_CURRENT_SOURCE_DIR}/Conditions
-  ${CMAKE_CURRENT_SOURCE_DIR}/DataStores
-  ${CMAKE_CURRENT_SOURCE_DIR}/DungeonFinding
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Creature
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Corpse
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/DynamicObject
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/GameObject
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Item
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Item/Container
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Object
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Object/Updates
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Pet
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Player
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Totem
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Unit
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Vehicle
-  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Transport
-  ${CMAKE_CURRENT_SOURCE_DIR}/Events
-  ${CMAKE_CURRENT_SOURCE_DIR}/Globals
-  ${CMAKE_CURRENT_SOURCE_DIR}/Grids/Cells
-  ${CMAKE_CURRENT_SOURCE_DIR}/Grids/Notifiers
-  ${CMAKE_CURRENT_SOURCE_DIR}/Grids
-  ${CMAKE_CURRENT_SOURCE_DIR}/Groups
-  ${CMAKE_CURRENT_SOURCE_DIR}/Guilds
-  ${CMAKE_CURRENT_SOURCE_DIR}/Instances
-  ${CMAKE_CURRENT_SOURCE_DIR}/Loot
-  ${CMAKE_CURRENT_SOURCE_DIR}/Mails
-  ${CMAKE_CURRENT_SOURCE_DIR}/Maps
-  ${CMAKE_CURRENT_SOURCE_DIR}/Miscellaneous
-  ${CMAKE_CURRENT_SOURCE_DIR}/Movement
-  ${CMAKE_CURRENT_SOURCE_DIR}/Movement/MovementGenerators
-  ${CMAKE_CURRENT_SOURCE_DIR}/Movement/Waypoints
-  ${CMAKE_CURRENT_SOURCE_DIR}/OutdoorPvP
-  ${CMAKE_CURRENT_SOURCE_DIR}/Pools
-  ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders
-  ${CMAKE_CURRENT_SOURCE_DIR}/Quests
-  ${CMAKE_CURRENT_SOURCE_DIR}/Reputation
-  ${CMAKE_CURRENT_SOURCE_DIR}/Scripting
-  ${CMAKE_CURRENT_SOURCE_DIR}/Server/Protocol
-  ${CMAKE_CURRENT_SOURCE_DIR}/Server/Protocol/Handlers
-  ${CMAKE_CURRENT_SOURCE_DIR}/Server
-  ${CMAKE_CURRENT_SOURCE_DIR}/Skills
-  ${CMAKE_CURRENT_SOURCE_DIR}/Spells
-  ${CMAKE_CURRENT_SOURCE_DIR}/Spells/Auras
-  ${CMAKE_CURRENT_SOURCE_DIR}/Texts
-  ${CMAKE_CURRENT_SOURCE_DIR}/Tools
-  ${CMAKE_CURRENT_SOURCE_DIR}/Tickets
-  ${CMAKE_CURRENT_SOURCE_DIR}/Weather
-  ${CMAKE_CURRENT_SOURCE_DIR}/World
-  ${CMAKE_SOURCE_DIR}/src/server/scripts/PrecompiledHeaders
-  ${ACE_INCLUDE_DIR}
-  ${MYSQL_INCLUDE_DIR}
-  ${OPENSSL_INCLUDE_DIR}
-)
-
-add_library(game STATIC ${game_STAT_SRCS})
-
-add_dependencies(game revision.h)
-
-# Generate precompiled header
-if( USE_COREPCH )
-  if(CMAKE_COMPILER_IS_GNUCXX)
-    add_precompiled_header(game ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/gamePCH.h)
-  elseif(MSVC)
-    add_native_precompiled_header(game ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/gamePCH)
-  endif()
-endif()
+# Copyright (C) 2008-2010 Trinity <http://www.trinitycore.org/>
+#
+# This file is free software; as a special exception the author gives
+# unlimited permission to copy and/or distribute it, with or without
+# modifications, as long as this notice is preserved.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
+# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+
+if( USE_COREPCH )
+  include_directories(${CMAKE_CURRENT_BINARY_DIR})
+endif()
+
+file(GLOB_RECURSE sources_Accounts Accounts/*.cpp Accounts/*.h)
+file(GLOB_RECURSE sources_Achievements Achievements/*.cpp Achievements/*.h)
+file(GLOB_RECURSE sources_Addons Addons/*.cpp Addons/*.h)
+file(GLOB_RECURSE sources_AI AI/*.cpp AI/*.h)
+file(GLOB_RECURSE sources_AuctionHouse AuctionHouse/*.cpp AuctionHouse/*.h)
+file(GLOB_RECURSE sources_AuctionHouseBot AuctionHouse/AuctionHouseBot/*.cpp AuctionHouse/AuctionHouseBot/*.h)
+file(GLOB_RECURSE sources_Battlegrounds Battlegrounds/*.cpp Battlegrounds/*.h)
+file(GLOB_RECURSE sources_Calendar Calendar/*.cpp Calendar/*.h)
+file(GLOB_RECURSE sources_Chat Chat/*.cpp Chat/*.h)
+file(GLOB_RECURSE sources_Combat Combat/*.cpp Combat/*.h)
+file(GLOB_RECURSE sources_Conditions Conditions/*.cpp Conditions/*.h)
+file(GLOB_RECURSE sources_DataStores DataStores/*.cpp DataStores/*.h)
+file(GLOB_RECURSE sources_DungeonFinding DungeonFinding/*.cpp DungeonFinding/*.h)
+file(GLOB_RECURSE sources_Entities Entities/*.cpp Entities/*.h)
+file(GLOB_RECURSE sources_Events Events/*.cpp Events/*.h)
+file(GLOB_RECURSE sources_Globals Globals/*.cpp Globals/*.h)
+file(GLOB_RECURSE sources_Grids Grids/*.cpp Grids/*.h)
+file(GLOB_RECURSE sources_Groups Groups/*.cpp Groups/*.h)
+file(GLOB_RECURSE sources_Guilds Guilds/*.cpp Guilds/*.h)
+file(GLOB_RECURSE sources_Instances Instances/*.cpp Instances/*.h)
+file(GLOB_RECURSE sources_Loot Loot/*.cpp Loot/*.h)
+file(GLOB_RECURSE sources_Mails Mails/*.cpp Mails/*.h)
+file(GLOB_RECURSE sources_Maps Maps/*.cpp Maps/*.h)
+file(GLOB_RECURSE sources_Miscellaneous Miscellaneous/*.cpp Miscellaneous/*.h)
+file(GLOB_RECURSE sources_Movement Movement/*.cpp Movement/*.h)
+file(GLOB_RECURSE sources_OutdoorPvP OutdoorPvP/*.cpp OutdoorPvP/*.h)
+file(GLOB_RECURSE sources_Pools Pools/*.cpp Pools/*.h)
+file(GLOB_RECURSE sources_Quests Quests/*.cpp Quests/*.h)
+file(GLOB_RECURSE sources_Reputation Reputation/*.cpp Reputation/*.h)
+file(GLOB_RECURSE sources_Scripting Scripting/*.cpp Scripting/*.h)
+file(GLOB_RECURSE sources_Server Server/*.cpp Server/*.h)
+file(GLOB_RECURSE sources_Skills Skills/*.cpp Skills/*.h)
+file(GLOB_RECURSE sources_Spells Spells/*.cpp Spells/*.h)
+file(GLOB_RECURSE sources_Texts Texts/*.cpp Texts/*.h)
+file(GLOB_RECURSE sources_Tools Tools/*.cpp Tools/*.h)
+file(GLOB_RECURSE sources_Tickets Tickets/*.cpp Tickets/*.h)
+file(GLOB_RECURSE sources_Weather Weather/*.cpp Weather/*.h)
+file(GLOB_RECURSE sources_World World/*.cpp World/*.h)
+
+# Create game-libary
+
+if( USE_COREPCH AND MSVC )
+  set(game_STAT_SRCS
+    PrecompiledHeaders/gamePCH.cpp
+    PrecompiledHeaders/gamePCH.h
+  )
+endif()
+
+set(game_STAT_SRCS
+  ${game_STAT_SRCS}
+  ${sources_Accounts}
+  ${sources_Achievements}
+  ${sources_Addons}
+  ${sources_AI}
+  ${sources_AuctionHouse}
+  ${sources_AuctionHouseBot}
+  ${sources_Battlegrounds}
+  ${sources_Calendar}
+  ${sources_Chat}
+  ${sources_Combat}
+  ${sources_Conditions}
+  ${sources_DataStores}
+  ${sources_DungeonFinding}
+  ${sources_Entities}
+  ${sources_Events}
+  ${sources_Globals}
+  ${sources_Grids}
+  ${sources_Groups}
+  ${sources_Guilds}
+  ${sources_Instances}
+  ${sources_Loot}
+  ${sources_Mails}
+  ${sources_Maps}
+  ${sources_Miscellaneous}
+  ${sources_Movement}
+  ${sources_OutdoorPvP}
+  ${sources_Pools}
+  ${sources_Quests}
+  ${sources_Reputation}
+  ${sources_Scripting}
+  ${sources_Server}
+  ${sources_Skills}
+  ${sources_Spells}
+  ${sources_Texts}
+  ${sources_Tools}
+  ${sources_Tickets}
+  ${sources_Weather}
+  ${sources_World}
+)
+
+include_directories(
+  ${CMAKE_BINARY_DIR}
+  ${CMAKE_SOURCE_DIR}/dep/mersennetwister
+  ${CMAKE_SOURCE_DIR}/dep/SFMT
+  ${CMAKE_SOURCE_DIR}/dep/zlib
+  ${CMAKE_SOURCE_DIR}/src/server/collision
+  ${CMAKE_SOURCE_DIR}/src/server/collision/Management
+  ${CMAKE_SOURCE_DIR}/src/server/shared
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography/Authentication
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
+  ${CMAKE_SOURCE_DIR}/src/server/shared/DataStores
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Debugging
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/CountedReference
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/LinkedReference
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Logging
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Packets
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Policies
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Threading
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Utilities
+  ${CMAKE_CURRENT_SOURCE_DIR}
+  ${CMAKE_CURRENT_SOURCE_DIR}/Accounts
+  ${CMAKE_CURRENT_SOURCE_DIR}/Achievements
+  ${CMAKE_CURRENT_SOURCE_DIR}/Addons
+  ${CMAKE_CURRENT_SOURCE_DIR}/AI
+  ${CMAKE_CURRENT_SOURCE_DIR}/AI/CoreAI
+  ${CMAKE_CURRENT_SOURCE_DIR}/AI/EventAI
+  ${CMAKE_CURRENT_SOURCE_DIR}/AI/ScriptedAI
+  ${CMAKE_CURRENT_SOURCE_DIR}/AI/SmartAI
+  ${CMAKE_CURRENT_SOURCE_DIR}/AuctionHouse
+  ${CMAKE_CURRENT_SOURCE_DIR}/AuctionHouse/AuctionHouseBot
+  ${CMAKE_CURRENT_SOURCE_DIR}/Battlegrounds
+  ${CMAKE_CURRENT_SOURCE_DIR}/Battlegrounds/Zones
+  ${CMAKE_CURRENT_SOURCE_DIR}/Calendar
+  ${CMAKE_CURRENT_SOURCE_DIR}/Chat
+  ${CMAKE_CURRENT_SOURCE_DIR}/Chat/Channels
+  ${CMAKE_CURRENT_SOURCE_DIR}/Chat/Commands
+  ${CMAKE_CURRENT_SOURCE_DIR}/Combat
+  ${CMAKE_CURRENT_SOURCE_DIR}/Conditions
+  ${CMAKE_CURRENT_SOURCE_DIR}/DataStores
+  ${CMAKE_CURRENT_SOURCE_DIR}/DungeonFinding
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Creature
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Corpse
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/DynamicObject
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/GameObject
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Item
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Item/Container
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Object
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Object/Updates
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Pet
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Player
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Totem
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Unit
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Vehicle
+  ${CMAKE_CURRENT_SOURCE_DIR}/Entities/Transport
+  ${CMAKE_CURRENT_SOURCE_DIR}/Events
+  ${CMAKE_CURRENT_SOURCE_DIR}/Globals
+  ${CMAKE_CURRENT_SOURCE_DIR}/Grids/Cells
+  ${CMAKE_CURRENT_SOURCE_DIR}/Grids/Notifiers
+  ${CMAKE_CURRENT_SOURCE_DIR}/Grids
+  ${CMAKE_CURRENT_SOURCE_DIR}/Groups
+  ${CMAKE_CURRENT_SOURCE_DIR}/Guilds
+  ${CMAKE_CURRENT_SOURCE_DIR}/Instances
+  ${CMAKE_CURRENT_SOURCE_DIR}/Loot
+  ${CMAKE_CURRENT_SOURCE_DIR}/Mails
+  ${CMAKE_CURRENT_SOURCE_DIR}/Maps
+  ${CMAKE_CURRENT_SOURCE_DIR}/Miscellaneous
+  ${CMAKE_CURRENT_SOURCE_DIR}/Movement
+  ${CMAKE_CURRENT_SOURCE_DIR}/Movement/MovementGenerators
+  ${CMAKE_CURRENT_SOURCE_DIR}/Movement/Waypoints
+  ${CMAKE_CURRENT_SOURCE_DIR}/OutdoorPvP
+  ${CMAKE_CURRENT_SOURCE_DIR}/Pools
+  ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders
+  ${CMAKE_CURRENT_SOURCE_DIR}/Quests
+  ${CMAKE_CURRENT_SOURCE_DIR}/Reputation
+  ${CMAKE_CURRENT_SOURCE_DIR}/Scripting
+  ${CMAKE_CURRENT_SOURCE_DIR}/Server/Protocol
+  ${CMAKE_CURRENT_SOURCE_DIR}/Server/Protocol/Handlers
+  ${CMAKE_CURRENT_SOURCE_DIR}/Server
+  ${CMAKE_CURRENT_SOURCE_DIR}/Skills
+  ${CMAKE_CURRENT_SOURCE_DIR}/Spells
+  ${CMAKE_CURRENT_SOURCE_DIR}/Spells/Auras
+  ${CMAKE_CURRENT_SOURCE_DIR}/Texts
+  ${CMAKE_CURRENT_SOURCE_DIR}/Tools
+  ${CMAKE_CURRENT_SOURCE_DIR}/Tickets
+  ${CMAKE_CURRENT_SOURCE_DIR}/Weather
+  ${CMAKE_CURRENT_SOURCE_DIR}/World
+  ${CMAKE_SOURCE_DIR}/src/server/scripts/PrecompiledHeaders
+  ${CMAKE_SOURCE_DIR}/src/server/scripts/OutdoorPvP
+  ${ACE_INCLUDE_DIR}
+  ${MYSQL_INCLUDE_DIR}
+  ${OPENSSL_INCLUDE_DIR}
+)
+
+add_library(game STATIC ${game_STAT_SRCS})
+
+add_dependencies(game revision.h)
+
+# Generate precompiled header
+if( USE_COREPCH )
+  if(CMAKE_COMPILER_IS_GNUCXX)
+    add_precompiled_header(game ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/gamePCH.h)
+  elseif(MSVC)
+    add_native_precompiled_header(game ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/gamePCH)
+  endif()
+endif()
diff --git a/src/server/game/Chat/Chat.cpp b/src/server/game/Chat/Chat.cpp
--- a/src/server/game/Chat/Chat.cpp
+++ b/src/server/game/Chat/Chat.cpp
@@ -656,6 +656,17 @@
         { NULL,             0,                  false, NULL,                                          "", NULL }
     };
 
+    static ChatCommand wintergraspCommandTable[] =
+    {
+        { "status",         SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspStatusCommand,       "", NULL },
+        { "enable",         SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspEnableCommand,       "", NULL },
+        { "start",          SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspStartCommand,        "", NULL },
+        { "stop",           SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspStopCommand,         "", NULL },
+        { "switch",         SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspSwitchTeamCommand,   "", NULL },
+        { "timer",          SEC_ADMINISTRATOR,  false, &ChatHandler::HandleWintergraspTimerCommand,        "", NULL },
+        { NULL,             0,                  false, NULL,                                               "", NULL }
+    };
+
     static ChatCommand wpCommandTable[] =
     {
         { "show",           SEC_GAMEMASTER,     false, &ChatHandler::HandleWpShowCommand,              "", NULL },
@@ -804,6 +815,7 @@
         { "bindsight",      SEC_ADMINISTRATOR,  false, &ChatHandler::HandleBindSightCommand,           "", NULL },
         { "unbindsight",    SEC_ADMINISTRATOR,  false, &ChatHandler::HandleUnbindSightCommand,         "", NULL },
         { "playall",        SEC_GAMEMASTER,  false, &ChatHandler::HandlePlayAllCommand,             "", NULL },
+        { "wg",             SEC_ADMINISTRATOR,  false, NULL,                                           "", wintergraspCommandTable },
         { NULL,             0,                  false, NULL,                                           "", NULL }
     };
 
diff --git a/src/server/game/Chat/Chat.h b/src/server/game/Chat/Chat.h
--- a/src/server/game/Chat/Chat.h
+++ b/src/server/game/Chat/Chat.h
@@ -508,6 +508,13 @@
         bool HandleWpShowCommand(const char* args);
         bool HandleReloadAllPaths(const char *args);
 
+        bool HandleWintergraspStatusCommand(const char *args);
+        bool HandleWintergraspStartCommand(const char *args);
+        bool HandleWintergraspStopCommand(const char *args);
+        bool HandleWintergraspEnableCommand(const char *args);
+        bool HandleWintergraspSwitchTeamCommand(const char *args);
+        bool HandleWintergraspTimerCommand(const char *args);
+
         bool HandleHelpCommand(const char* args);
         bool HandleCommandsCommand(const char* args);
         bool HandleStartCommand(const char* args);
diff --git a/src/server/game/Chat/Commands/Level2.cpp b/src/server/game/Chat/Commands/Level2.cpp
--- a/src/server/game/Chat/Commands/Level2.cpp
+++ b/src/server/game/Chat/Commands/Level2.cpp
@@ -41,6 +41,7 @@
 #include <fstream>
 #include <map>
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "Transport.h"
 #include "TargetedMovementGenerator.h"                      // for HandleNpcUnFollowCommand
 #include "CreatureGroups.h"
@@ -4300,6 +4301,151 @@
     return true;
 }
 
+bool ChatHandler::HandleWintergraspStatusCommand(const char* /*args*/)
+{
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG || !sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+
+    PSendSysMessage(LANG_BG_WG_STATUS, sObjectMgr.GetTrinityStringForDBCLocale(
+        pvpWG->getDefenderTeam() == TEAM_ALLIANCE ? LANG_BG_AB_ALLY : LANG_BG_AB_HORDE),
+        secsToTimeString(pvpWG->GetTimer(), true).c_str(),
+        pvpWG->isWarTime() ? "Yes" : "No",
+        pvpWG->GetNumPlayersH(),
+        pvpWG->GetNumPlayersA());
+    return true;
+}
+
+bool ChatHandler::HandleWintergraspStartCommand(const char* /*args*/)
+{
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG || !sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+    pvpWG->forceStartBattle();
+    PSendSysMessage(LANG_BG_WG_BATTLE_FORCE_START);
+    return true;
+}
+
+bool ChatHandler::HandleWintergraspStopCommand(const char* /*args*/)
+{
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG || !sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+    pvpWG->forceStopBattle();
+    PSendSysMessage(LANG_BG_WG_BATTLE_FORCE_STOP);
+    return true;
+}
+
+bool ChatHandler::HandleWintergraspEnableCommand(const char* args)
+{
+    if(!*args)
+        return false;
+
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG || !sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+
+    if (!strncmp(args, "on", 3))
+    {
+        if (!sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+        {
+            pvpWG->forceStopBattle();
+            sWorld.setBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED, true);
+        }
+        PSendSysMessage(LANG_BG_WG_ENABLE);
+        return true;
+    }
+    else if (!strncmp(args, "off", 4))
+    {
+        if (sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+        {
+            pvpWG->forceStopBattle();
+            sWorld.setBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED, false);
+        }
+        PSendSysMessage(LANG_BG_WG_DISABLE);
+        return true;
+    }
+    else
+    {
+        SendSysMessage(LANG_USE_BOL);
+        SetSentErrorMessage(true);
+        return false;
+    }
+}
+
+bool ChatHandler::HandleWintergraspTimerCommand(const char* args)
+{
+    if(!*args)
+        return false;
+
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG)
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+
+    int32 time = atoi (args);
+
+    // Min value 1 min
+    if (1 > time)
+        time = 1;
+    // Max value during wartime = 60. No wartime = 1440 (day)
+    if (pvpWG->isWarTime())
+    {
+        if (60 < time)
+            return false;
+    }
+    else
+        if (1440 < time)
+            return false;
+    time *= MINUTE * IN_MILLISECONDS;
+
+    pvpWG->setTimer((uint32)time);
+
+    PSendSysMessage(LANG_BG_WG_CHANGE_TIMER, secsToTimeString(pvpWG->GetTimer(), true).c_str());
+    return true;
+}
+
+bool ChatHandler::HandleWintergraspSwitchTeamCommand(const char* /*args*/)
+{
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
+    if (!pvpWG)
+    {
+        SendSysMessage(LANG_BG_WG_DISABLE);
+        SetSentErrorMessage(true);
+        return false;
+    }
+    uint32 timer = pvpWG->GetTimer();
+    pvpWG->forceChangeTeam();
+    pvpWG->setTimer(timer);
+    PSendSysMessage(LANG_BG_WG_SWITCH_FACTION, GetTrinityString(pvpWG->getDefenderTeam() == TEAM_ALLIANCE ? LANG_BG_AB_ALLY : LANG_BG_AB_HORDE));
+    return true;
+}
+
 bool ChatHandler::HandleLookupTitleCommand(const char* args)
 {
     if (!*args)
diff --git a/src/server/game/Entities/Player/Player.cpp b/src/server/game/Entities/Player/Player.cpp
--- a/src/server/game/Entities/Player/Player.cpp
+++ b/src/server/game/Entities/Player/Player.cpp
@@ -57,6 +57,7 @@
 #include "BattlegroundMgr.h"
 #include "OutdoorPvP.h"
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "ArenaTeam.h"
 #include "Chat.h"
 #include "Spell.h"
@@ -7131,7 +7132,7 @@
     }
 
     pvpInfo.inNoPvPArea = false;
-    if (zone->IsSanctuary() || GetZoneId() == 15)       // in sanctuary
+    if (zone->IsSanctuary() || GetZoneId() == 3)       // in sanctuary
     {
         SetByteFlag(UNIT_FIELD_BYTES_2, 1, UNIT_BYTE2_FLAG_SANCTUARY);
         pvpInfo.inNoPvPArea = true;
@@ -8778,6 +8779,12 @@
                                                             // 7 1 - Arena season in progress, 0 - end of season
     data << uint32(0xC77) << uint32(sWorld.getBoolConfig(CONFIG_ARENA_SEASON_IN_PROGRESS));
                                                             // 8 Arena season id
+    // May be send timer to start Wintergrasp
+    if(sWorld.GetWintergrapsState()==4354)
+        data << uint32(0x1102) << sWorld.GetWintergrapsTimer();
+    else
+        data << uint32(0xEC5) << sWorld.GetWintergrapsTimer();
+    // ---
     data << uint32(0xF3D) << uint32(sWorld.getIntConfig(CONFIG_ARENA_SEASON_ID));
 
     if (mapid == 530)                                       // Outland
diff --git a/src/server/game/Miscellaneous/Language.h b/src/server/game/Miscellaneous/Language.h
--- a/src/server/game/Miscellaneous/Language.h
+++ b/src/server/game/Miscellaneous/Language.h
@@ -704,6 +704,29 @@
 //  LANG_BG_AB_START_TWO_MINUTES        = 754, - defined above
 //  LANG_BG_EY_START_TWO_MINUTES        = 755, - defined above
 
+    LANG_BG_WG_BATTLE_STARTS            = 756,
+    LANG_BG_WG_DEFENDED                 = 757,
+    LANG_BG_WG_CAPTURED                 = 758,
+    LANG_BG_WG_WORKSHOP_DAMAGED         = 759,
+    LANG_BG_WG_WORKSHOP_DESTROYED       = 760,
+    LANG_BG_WG_TOWER_DAMAGED            = 761,
+    LANG_BG_WG_TOWER_DESTROYED          = 762,
+    LANG_BG_WG_FORTRESS_UNDER_ATTACK    = 763,
+    LANG_BG_WG_SWITCH_FACTION           = 764,
+    LANG_BG_WG_CHANGE_TIMER             = 765,
+    LANG_BG_WG_BATTLE_FORCE_START       = 766,
+    LANG_BG_WG_BATTLE_FORCE_STOP        = 767,
+    LANG_BG_WG_STATUS                   = 768,
+    LANG_BG_WG_DISABLE                  = 769,
+    LANG_BG_WG_ENABLE                   = 770,
+    LANG_BG_WG_RANK1                    = 771,
+    LANG_BG_WG_RANK2                    = 772,
+
+    LANG_BG_WG_WORLD_ANNOUNCE_30        = 780,
+    LANG_BG_WG_WORLD_ANNOUNCE_10        = 781,
+    LANG_BG_WG_WORLD_NO_DEF             = 782,
+    LANG_BG_WG_WORLD_NO_ATK             = 783,
+
     // Room for BG/ARENA                = 773-784, 788-799 not used
     LANG_ARENA_TESTING                  = 785,
     LANG_AUTO_ANN                       = 786,
diff --git a/src/server/game/OutdoorPvP/OutdoorPvP.h b/src/server/game/OutdoorPvP/OutdoorPvP.h
--- a/src/server/game/OutdoorPvP/OutdoorPvP.h
+++ b/src/server/game/OutdoorPvP/OutdoorPvP.h
@@ -32,9 +32,10 @@
     OUTDOOR_PVP_ZM = 4,
     OUTDOOR_PVP_SI = 5,
     OUTDOOR_PVP_EP = 6,
+    OUTDOOR_PVP_WG = 7,
 };
 
-#define MAX_OUTDOORPVP_TYPES 7
+#define MAX_OUTDOORPVP_TYPES 8
 
 const uint8 CapturePointArtKit[3] = {2, 1, 21};
 
diff --git a/src/server/game/OutdoorPvP/OutdoorPvPMgr.cpp b/src/server/game/OutdoorPvP/OutdoorPvPMgr.cpp
--- a/src/server/game/OutdoorPvP/OutdoorPvPMgr.cpp
+++ b/src/server/game/OutdoorPvP/OutdoorPvPMgr.cpp
@@ -16,6 +16,7 @@
  */
 
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "ObjectMgr.h"
 #include "Player.h"
 #include "ProgressBar.h"
diff --git a/src/server/game/Scripting/ScriptLoader.cpp b/src/server/game/Scripting/ScriptLoader.cpp
--- a/src/server/game/Scripting/ScriptLoader.cpp
+++ b/src/server/game/Scripting/ScriptLoader.cpp
@@ -1,1205 +1,1220 @@
-/* Copyright (C) 2008 - 2010 TrinityCore <http://www.trinitycore.org>
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- */
-
-#include "ScriptPCH.h"
-#include "ScriptLoader.h"
-
-
-//examples
-void AddSC_example_creature();
-void AddSC_example_escort();
-void AddSC_example_gossip_codebox();
-void AddSC_example_misc();
-
-//TeleNPC2
-void AddSC_npc_teleport();
-
-// spells
-void AddSC_deathknight_spell_scripts();
-void AddSC_druid_spell_scripts();
-void AddSC_generic_spell_scripts();
-void AddSC_hunter_spell_scripts();
-void AddSC_mage_spell_scripts();
-void AddSC_paladin_spell_scripts();
-void AddSC_priest_spell_scripts();
-void AddSC_rogue_spell_scripts();
-void AddSC_shaman_spell_scripts();
-void AddSC_warlock_spell_scripts();
-void AddSC_warrior_spell_scripts();
-void AddSC_quest_spell_scripts();
-void AddSC_item_spell_scripts();
-void AddSC_example_spell_scripts();
-
-
-#ifdef SCRIPTS
-//world
-void AddSC_npc_mount();
-void AddSC_areatrigger_scripts();
-void AddSC_boss_emeriss();
-void AddSC_boss_taerar();
-void AddSC_boss_ysondre();
-void AddSC_generic_creature();
-void AddSC_go_scripts();
-void AddSC_guards();
-void AddSC_item_scripts();
-void AddSC_npc_professions();
-void AddSC_npc_innkeeper();
-void AddSC_npcs_special();
-void AddSC_npc_taxi();
-void AddSC_achievement_scripts();
-void AddSC_npc_customize();
-void AddSC_dungeon_finder();
-
-//guildhouse
-void AddSC_guildmaster();
-
-//eastern kingdoms
-void AddSC_alterac_valley();                 //Alterac Valley
-void AddSC_boss_balinda();
-void AddSC_boss_drekthar();
-void AddSC_boss_galvangar();
-void AddSC_boss_vanndar();
-void AddSC_blackrock_depths();               //Blackrock Depths
-void AddSC_boss_ambassador_flamelash();
-void AddSC_boss_anubshiah();
-void AddSC_boss_draganthaurissan();
-void AddSC_boss_general_angerforge();
-void AddSC_boss_gorosh_the_dervish();
-void AddSC_boss_grizzle();
-void AddSC_boss_high_interrogator_gerstahn();
-void AddSC_boss_magmus();
-void AddSC_boss_moira_bronzebeard();
-void AddSC_boss_tomb_of_seven();
-void AddSC_instance_blackrock_depths();
-void AddSC_boss_drakkisath();                //Blackrock Spire
-void AddSC_boss_halycon();
-void AddSC_boss_highlordomokk();
-void AddSC_boss_mothersmolderweb();
-void AddSC_boss_overlordwyrmthalak();
-void AddSC_boss_shadowvosh();
-void AddSC_boss_thebeast();
-void AddSC_boss_warmastervoone();
-void AddSC_boss_quatermasterzigris();
-void AddSC_boss_pyroguard_emberseer();
-void AddSC_boss_gyth();
-void AddSC_boss_rend_blackhand();
-void AddSC_boss_razorgore();                 //Blackwing lair
-void AddSC_boss_vael();
-void AddSC_boss_broodlord();
-void AddSC_boss_firemaw();
-void AddSC_boss_ebonroc();
-void AddSC_boss_flamegor();
-void AddSC_boss_chromaggus();
-void AddSC_boss_nefarian();
-void AddSC_boss_victor_nefarius();
-void AddSC_boss_mr_smite();
-void AddSC_deadmines();                      //Deadmines
-void AddSC_instance_deadmines();
-void AddSC_gnomeregan();                     //Gnomeregan
-void AddSC_instance_gnomeregan();
-void AddSC_boss_attumen();                   //Karazhan
-void AddSC_boss_curator();
-void AddSC_boss_maiden_of_virtue();
-void AddSC_boss_shade_of_aran();
-void AddSC_boss_malchezaar();
-void AddSC_boss_terestian_illhoof();
-void AddSC_boss_moroes();
-void AddSC_bosses_opera();
-void AddSC_boss_netherspite();
-void AddSC_instance_karazhan();
-void AddSC_karazhan();
-void AddSC_boss_nightbane();
-void AddSC_boss_felblood_kaelthas();         // Magister's Terrace
-void AddSC_boss_selin_fireheart();
-void AddSC_boss_vexallus();
-void AddSC_boss_priestess_delrissa();
-void AddSC_instance_magisters_terrace();
-void AddSC_magisters_terrace();
-void AddSC_boss_lucifron();                  //Molten core
-void AddSC_boss_magmadar();
-void AddSC_boss_gehennas();
-void AddSC_boss_garr();
-void AddSC_boss_baron_geddon();
-void AddSC_boss_shazzrah();
-void AddSC_boss_golemagg();
-void AddSC_boss_sulfuron();
-void AddSC_boss_majordomo();
-void AddSC_boss_ragnaros();
-void AddSC_instance_molten_core();
-void AddSC_molten_core();
-void AddSC_the_scarlet_enclave();            //Scarlet Enclave
-void AddSC_the_scarlet_enclave_c1();
-void AddSC_the_scarlet_enclave_c2();
-void AddSC_the_scarlet_enclave_c5();
-void AddSC_boss_arcanist_doan();             //Scarlet Monastery
-void AddSC_boss_azshir_the_sleepless();
-void AddSC_boss_bloodmage_thalnos();
-void AddSC_boss_headless_horseman();
-void AddSC_boss_herod();
-void AddSC_boss_high_inquisitor_fairbanks();
-void AddSC_boss_houndmaster_loksey();
-void AddSC_boss_interrogator_vishas();
-void AddSC_boss_scorn();
-void AddSC_instance_scarlet_monastery();
-void AddSC_boss_mograine_and_whitemane();
-void AddSC_boss_darkmaster_gandling();       //Scholomance
-void AddSC_boss_death_knight_darkreaver();
-void AddSC_boss_theolenkrastinov();
-void AddSC_boss_illuciabarov();
-void AddSC_boss_instructormalicia();
-void AddSC_boss_jandicebarov();
-void AddSC_boss_kormok();
-void AddSC_boss_lordalexeibarov();
-void AddSC_boss_lorekeeperpolkelt();
-void AddSC_boss_rasfrost();
-void AddSC_boss_theravenian();
-void AddSC_boss_vectus();
-void AddSC_instance_scholomance();
-void AddSC_shadowfang_keep();                //Shadowfang keep
-void AddSC_instance_shadowfang_keep();
-void AddSC_boss_magistrate_barthilas();      //Stratholme
-void AddSC_boss_maleki_the_pallid();
-void AddSC_boss_nerubenkan();
-void AddSC_boss_cannon_master_willey();
-void AddSC_boss_baroness_anastari();
-void AddSC_boss_ramstein_the_gorger();
-void AddSC_boss_timmy_the_cruel();
-void AddSC_boss_postmaster_malown();
-void AddSC_boss_baron_rivendare();
-void AddSC_boss_dathrohan_balnazzar();
-void AddSC_boss_order_of_silver_hand();
-void AddSC_instance_stratholme();
-void AddSC_stratholme();
-void AddSC_sunken_temple();                  // Sunken Temple
-void AddSC_instance_sunken_temple();
-void AddSC_instance_sunwell_plateau();       //Sunwell Plateau
-void AddSC_boss_kalecgos();
-void AddSC_boss_brutallus();
-void AddSC_boss_felmyst();
-void AddSC_boss_eredar_twins();
-void AddSC_boss_muru();
-void AddSC_boss_kiljaeden();
-void AddSC_sunwell_plateau();
-void AddSC_boss_archaedas();                 //Uldaman
-void AddSC_boss_ironaya();
-void AddSC_uldaman();
-void AddSC_instance_uldaman();
-void AddSC_boss_akilzon();                   //Zul'Aman
-void AddSC_boss_halazzi();
-void AddSC_boss_hex_lord_malacrass();
-void AddSC_boss_janalai();
-void AddSC_boss_nalorakk();
-void AddSC_boss_zuljin();
-void AddSC_instance_zulaman();
-void AddSC_zulaman();
-void AddSC_boss_jeklik();                    //Zul'Gurub
-void AddSC_boss_venoxis();
-void AddSC_boss_marli();
-void AddSC_boss_mandokir();
-void AddSC_boss_gahzranka();
-void AddSC_boss_thekal();
-void AddSC_boss_arlokk();
-void AddSC_boss_jindo();
-void AddSC_boss_hakkar();
-void AddSC_boss_grilek();
-void AddSC_boss_hazzarah();
-void AddSC_boss_renataki();
-void AddSC_boss_wushoolay();
-void AddSC_instance_zulgurub();
-
-//void AddSC_alterac_mountains();
-void AddSC_arathi_highlands();
-void AddSC_blasted_lands();
-void AddSC_boss_kruul();
-void AddSC_burning_steppes();
-void AddSC_dun_morogh();
-void AddSC_duskwood();
-void AddSC_eastern_plaguelands();
-void AddSC_elwynn_forest();
-void AddSC_eversong_woods();
-void AddSC_ghostlands();
-void AddSC_hinterlands();
-void AddSC_ironforge();
-void AddSC_isle_of_queldanas();
-void AddSC_loch_modan();
-void AddSC_redridge_mountains();
-void AddSC_searing_gorge();
-void AddSC_silvermoon_city();
-void AddSC_silverpine_forest();
-void AddSC_stormwind_city();
-void AddSC_stranglethorn_vale();
-void AddSC_swamp_of_sorrows();
-void AddSC_tirisfal_glades();
-void AddSC_undercity();
-void AddSC_western_plaguelands();
-void AddSC_westfall();
-void AddSC_wetlands();
-
-//kalimdor
-void AddSC_blackfathom_deeps();              //Blackfathom Depths
-void AddSC_boss_gelihast();
-void AddSC_boss_kelris();
-void AddSC_boss_aku_mai();
-void AddSC_instance_blackfathom_deeps();
-void AddSC_hyjal();                          //CoT Battle for Mt. Hyjal
-void AddSC_boss_archimonde();
-void AddSC_instance_mount_hyjal();
-void AddSC_hyjal_trash();
-void AddSC_boss_rage_winterchill();
-void AddSC_boss_anetheron();
-void AddSC_boss_kazrogal();
-void AddSC_boss_azgalor();
-void AddSC_boss_captain_skarloc();           //CoT Old Hillsbrad
-void AddSC_boss_epoch_hunter();
-void AddSC_boss_lieutenant_drake();
-void AddSC_instance_old_hillsbrad();
-void AddSC_old_hillsbrad();
-void AddSC_boss_aeonus();                    //CoT The Dark Portal
-void AddSC_boss_chrono_lord_deja();
-void AddSC_boss_temporus();
-void AddSC_dark_portal();
-void AddSC_instance_dark_portal();
-void AddSC_boss_epoch();                     //CoT Culling Of Stratholme
-void AddSC_boss_infinite_corruptor();
-void AddSC_boss_salramm();
-void AddSC_boss_mal_ganis();
-void AddSC_boss_meathook();
-void AddSC_culling_of_stratholme();
-void AddSC_instance_culling_of_stratholme();
-void AddSC_boss_celebras_the_cursed();       //Maraudon
-void AddSC_boss_landslide();
-void AddSC_boss_noxxion();
-void AddSC_boss_ptheradras();
-void AddSC_boss_onyxia();                    //Onyxia's Lair
-void AddSC_instance_onyxias_lair();
-void AddSC_boss_amnennar_the_coldbringer();  //Razorfen Downs
-void AddSC_razorfen_downs();
-void AddSC_instance_razorfen_downs();
-void AddSC_razorfen_kraul();                 //Razorfen Kraul
-void AddSC_boss_kurinnaxx();                 //Ruins of ahn'qiraj
-void AddSC_boss_rajaxx();
-void AddSC_boss_moam();
-void AddSC_boss_buru();
-void AddSC_boss_ayamiss();
-void AddSC_boss_ossirian();
-void AddSC_instance_ruins_of_ahnqiraj();
-void AddSC_boss_cthun();                     //Temple of ahn'qiraj
-void AddSC_boss_fankriss();
-void AddSC_boss_huhuran();
-void AddSC_bug_trio();
-void AddSC_boss_sartura();
-void AddSC_boss_skeram();
-void AddSC_boss_twinemperors();
-void AddSC_mob_anubisath_sentinel();
-void AddSC_instance_temple_of_ahnqiraj();
-void AddSC_wailing_caverns();                //Wailing caverns
-void AddSC_instance_wailing_caverns();
-void AddSC_zulfarrak();                     //Zul'Farrak generic
-void AddSC_instance_zulfarrak();            //Zul'Farrak instance script
-
-void AddSC_ashenvale();
-void AddSC_azshara();
-void AddSC_azuremyst_isle();
-void AddSC_bloodmyst_isle();
-void AddSC_boss_azuregos();
-void AddSC_darkshore();
-void AddSC_desolace();
-void AddSC_durotar();
-void AddSC_dustwallow_marsh();
-void AddSC_felwood();
-void AddSC_feralas();
-void AddSC_moonglade();
-void AddSC_mulgore();
-void AddSC_orgrimmar();
-void AddSC_silithus();
-void AddSC_stonetalon_mountains();
-void AddSC_tanaris();
-void AddSC_teldrassil();
-void AddSC_the_barrens();
-void AddSC_thousand_needles();
-void AddSC_thunder_bluff();
-void AddSC_ungoro_crater();
-void AddSC_winterspring();
-
-//northrend
-void AddSC_boss_slad_ran();
-void AddSC_boss_moorabi();
-void AddSC_boss_drakkari_colossus();
-void AddSC_boss_gal_darah();
-void AddSC_boss_eck();
-void AddSC_instance_gundrak();
-void AddSC_boss_krik_thir();             //Azjol-Nerub
-void AddSC_boss_hadronox();
-void AddSC_boss_anub_arak();
-void AddSC_instance_azjol_nerub();
-void AddSC_instance_ahnkahet();          //Azjol-Nerub Ahn'kahet
-void AddSC_boss_amanitar();
-void AddSC_boss_taldaram();
-void AddSC_boss_jedoga_shadowseeker();
-void AddSC_boss_elder_nadox();
-void AddSC_boss_volazj();
-void AddSC_boss_argent_challenge();      //Trial of the Champion
-void AddSC_boss_black_knight();
-void AddSC_boss_grand_champions();
-void AddSC_instance_trial_of_the_champion();
-void AddSC_trial_of_the_champion();
-void AddSC_boss_anubarak_trial();        //Trial of the Crusader
-void AddSC_boss_faction_champions();
-void AddSC_boss_lord_jaraxxus();
-void AddSC_boss_twins_valkyr();
-void AddSC_trial_of_the_crusader();
-void AddSC_instance_trial_of_the_crusader();
-void AddSC_boss_beasts_of_northrend();
-void AddSC_boss_anubrekhan();            //Naxxramas
-void AddSC_boss_maexxna();
-void AddSC_boss_patchwerk();
-void AddSC_boss_grobbulus();
-void AddSC_boss_razuvious();
-void AddSC_boss_kelthuzad();
-void AddSC_boss_loatheb();
-void AddSC_boss_noth();
-void AddSC_boss_gluth();
-void AddSC_boss_sapphiron();
-void AddSC_boss_four_horsemen();
-void AddSC_boss_faerlina();
-void AddSC_boss_heigan();
-void AddSC_boss_gothik();
-void AddSC_boss_thaddius();
-void AddSC_instance_naxxramas();
-void AddSC_boss_magus_telestra();        //The Nexus Nexus
-void AddSC_boss_anomalus();
-void AddSC_boss_ormorok();
-void AddSC_boss_keristrasza();
-void AddSC_instance_nexus();
-void AddSC_boss_malygos();            //The Nexus Eye Of Eternity
-void AddSC_instance_eye_of_eternity();
-void AddSC_npc_alexstraza();
-void AddSC_boss_drakos();                //The Nexus The Oculus
-void AddSC_boss_urom();
-void AddSC_instance_oculus();
-void AddSC_oculus();
-void AddSC_boss_sartharion();            //Obsidian Sanctum
-void AddSC_instance_obsidian_sanctum();
-void AddSC_boss_bjarngrim();             //Ulduar Halls of Lightning
-void AddSC_boss_loken();
-void AddSC_boss_ionar();
-void AddSC_boss_volkhan();
-void AddSC_instance_halls_of_lightning();
-void AddSC_boss_maiden_of_grief();       //Ulduar Halls of Stone
-void AddSC_boss_krystallus();
-void AddSC_boss_sjonnir();
-void AddSC_instance_halls_of_stone();
-void AddSC_halls_of_stone();
-void AddSC_boss_auriaya();               //Ulduar Ulduar
-void AddSC_boss_flame_leviathan();
-void AddSC_boss_ignis();
-void AddSC_boss_razorscale();
-void AddSC_boss_xt002();
-void AddSC_boss_kologarn();
-void AddSC_bosses_assembly_of_iron();
-void AddSC_ulduar_teleporter();
-void AddSC_instance_ulduar();
-void AddSC_boss_keleseth();              //Utgarde Keep
-void AddSC_boss_skarvald_dalronn();
-void AddSC_boss_ingvar_the_plunderer();
-void AddSC_instance_utgarde_keep();
-void AddSC_boss_svala();                 //Utgarde pinnacle
-void AddSC_boss_palehoof();
-void AddSC_boss_skadi();
-void AddSC_boss_ymiron();
-void AddSC_instance_utgarde_pinnacle();
-void AddSC_utgarde_keep();
-void AddSC_boss_archavon();              //Vault of Archavon
-void AddSC_boss_emalon();
-void AddSC_boss_koralon();
-void AddSC_boss_toravon();
-void AddSC_instance_archavon();
-void AddSC_boss_trollgore();             //Drak'Tharon Keep
-void AddSC_boss_novos();
-void AddSC_boss_dred();
-void AddSC_boss_tharon_ja();
-void AddSC_instance_drak_tharon();
-void AddSC_boss_cyanigosa();             //Violet Hold
-void AddSC_boss_erekem();
-void AddSC_boss_ichoron();
-void AddSC_boss_lavanthor();
-void AddSC_boss_moragg();
-void AddSC_boss_xevozz();
-void AddSC_boss_zuramat();
-void AddSC_instance_violet_hold();
-void AddSC_violet_hold();
-void AddSC_instance_forge_of_souls();   //Forge of Souls
-void AddSC_forge_of_souls();
-void AddSC_boss_bronjahm();
-void AddSC_boss_devourer_of_souls();
-void AddSC_instance_pit_of_saron();     //Pit of Saron
-void AddSC_pit_of_saron();
-void AddSC_boss_garfrost();
-void AddSC_boss_ick();
-void AddSC_boss_tyrannus();
-void AddSC_instance_halls_of_reflection();   // Halls of Reflection
-void AddSC_halls_of_reflection();
-void AddSC_boss_falric();
-void AddSC_boss_marwyn();
-void AddSC_boss_lich_king_hr();
-void AddSC_instance_icecrown_citadel();    // Icecrown Citadel
-void AddSC_icecrown_citadel();
-void AddSC_boss_valithria();
-void AddSC_boss_lichking();
-void AddSC_boss_sindragosa();
-void AddSC_boss_rotface();
-void AddSC_boss_rat_des_blutes();
-void AddSC_boss_professor_putricide();
-void AddSC_boss_lord_marrowgar();
-void AddSC_boss_lady_deathwhisper();
-void AddSC_boss_festergut();
-void AddSC_boss_saurfang();
-void AddSC_boss_blood_queen_lana_thel();
-void AddSC_boss_gunship_battle();
-void AddSC_boss_baltharus();	//RubySanctum
-void AddSC_boss_halion();
-void AddSC_boss_ragefire();
-void AddSC_boss_zarithrian();
-void AddSC_instance_ruby_sanctum();
-
-void AddSC_dalaran();
-void AddSC_borean_tundra();
-void AddSC_dragonblight();
-void AddSC_grizzly_hills();
-void AddSC_howling_fjord();
-void AddSC_icecrown();
-void AddSC_sholazar_basin();
-void AddSC_storm_peaks();
-void AddSC_zuldrak();
-void AddSC_crystalsong_forest();
-void AddSC_isle_of_conquest();
-
-//outland
-void AddSC_boss_exarch_maladaar();           //Auchindoun Auchenai Crypts
-void AddSC_boss_shirrak_the_dead_watcher();
-void AddSC_boss_nexusprince_shaffar();       //Auchindoun Mana Tombs
-void AddSC_boss_pandemonius();
-void AddSC_boss_darkweaver_syth();           //Auchindoun Sekketh Halls
-void AddSC_boss_talon_king_ikiss();
-void AddSC_instance_sethekk_halls();
-void AddSC_instance_shadow_labyrinth();      //Auchindoun Shadow Labyrinth
-void AddSC_boss_ambassador_hellmaw();
-void AddSC_boss_blackheart_the_inciter();
-void AddSC_boss_grandmaster_vorpil();
-void AddSC_boss_murmur();
-void AddSC_black_temple();                   //Black Temple
-void AddSC_boss_illidan();
-void AddSC_boss_shade_of_akama();
-void AddSC_boss_supremus();
-void AddSC_boss_gurtogg_bloodboil();
-void AddSC_boss_mother_shahraz();
-void AddSC_boss_reliquary_of_souls();
-void AddSC_boss_teron_gorefiend();
-void AddSC_boss_najentus();
-void AddSC_boss_illidari_council();
-void AddSC_instance_black_temple();
-void AddSC_boss_fathomlord_karathress();     //CR Serpent Shrine Cavern
-void AddSC_boss_hydross_the_unstable();
-void AddSC_boss_lady_vashj();
-void AddSC_boss_leotheras_the_blind();
-void AddSC_boss_morogrim_tidewalker();
-void AddSC_instance_serpentshrine_cavern();
-void AddSC_boss_the_lurker_below();
-void AddSC_boss_hydromancer_thespia();       //CR Steam Vault
-void AddSC_boss_mekgineer_steamrigger();
-void AddSC_boss_warlord_kalithresh();
-void AddSC_instance_steam_vault();
-void AddSC_boss_hungarfen();                 //CR Underbog
-void AddSC_boss_the_black_stalker();
-void AddSC_boss_gruul();                     //Gruul's Lair
-void AddSC_boss_high_king_maulgar();
-void AddSC_instance_gruuls_lair();
-void AddSC_boss_broggok();                   //HC Blood Furnace
-void AddSC_boss_kelidan_the_breaker();
-void AddSC_boss_the_maker();
-void AddSC_instance_blood_furnace();
-void AddSC_boss_magtheridon();               //HC Magtheridon's Lair
-void AddSC_instance_magtheridons_lair();
-void AddSC_boss_grand_warlock_nethekurse();  //HC Shattered Halls
-void AddSC_boss_warbringer_omrogg();
-void AddSC_boss_warchief_kargath_bladefist();
-void AddSC_instance_shattered_halls();
-void AddSC_boss_watchkeeper_gargolmar();     //HC Ramparts
-void AddSC_boss_omor_the_unscarred();
-void AddSC_boss_vazruden_the_herald();
-void AddSC_instance_ramparts();
-void AddSC_arcatraz();                       //TK Arcatraz
-void AddSC_boss_harbinger_skyriss();
-void AddSC_instance_arcatraz();
-void AddSC_boss_high_botanist_freywinn();    //TK Botanica
-void AddSC_boss_laj();
-void AddSC_boss_warp_splinter();
-void AddSC_boss_alar();                      //TK The Eye
-void AddSC_boss_kaelthas();
-void AddSC_boss_void_reaver();
-void AddSC_boss_high_astromancer_solarian();
-void AddSC_instance_the_eye();
-void AddSC_the_eye();
-void AddSC_boss_gatewatcher_iron_hand();     //TK The Mechanar
-void AddSC_boss_nethermancer_sepethrea();
-void AddSC_boss_pathaleon_the_calculator();
-void AddSC_instance_mechanar();
-
-void AddSC_blades_edge_mountains();
-void AddSC_boss_doomlordkazzak();
-void AddSC_boss_doomwalker();
-void AddSC_hellfire_peninsula();
-void AddSC_nagrand();
-void AddSC_netherstorm();
-void AddSC_shadowmoon_valley();
-void AddSC_shattrath_city();
-void AddSC_terokkar_forest();
-void AddSC_zangarmarsh();
-
-// battlegrounds
-
-// outdoor pvp
-void AddSC_outdoorpvp_ep();
-void AddSC_outdoorpvp_hp();
-void AddSC_outdoorpvp_na();
-void AddSC_outdoorpvp_si();
-void AddSC_outdoorpvp_tf();
-void AddSC_outdoorpvp_zm();
-
-
-// player
-void AddSC_chat_log();
-
-#endif
-
-void AddScripts()
-{
-    AddExampleScripts();
-    AddSpellScripts();
-#ifdef SCRIPTS
-    AddWorldScripts();
-    AddEasternKingdomsScripts();
-    AddKalimdorScripts();
-    AddOutlandScripts();
-    AddNorthrendScripts();
-    AddBattlegroundScripts();
-    AddOutdoorPvPScripts();
-    AddCustomScripts();
-	//guildhouse
-	AddSC_guildmaster();
-#endif
-}
-
-void AddExampleScripts()
-{
-    AddSC_example_creature();
-    AddSC_example_escort();
-    AddSC_example_gossip_codebox();
-    AddSC_example_misc();
-}
-
-void AddSpellScripts()
-{
-    AddSC_deathknight_spell_scripts();
-    AddSC_druid_spell_scripts();
-    AddSC_generic_spell_scripts();
-    AddSC_hunter_spell_scripts();
-    AddSC_mage_spell_scripts();
-    AddSC_paladin_spell_scripts();
-    AddSC_priest_spell_scripts();
-    AddSC_rogue_spell_scripts();
-    AddSC_shaman_spell_scripts();
-    AddSC_warlock_spell_scripts();
-    AddSC_warrior_spell_scripts();
-    AddSC_quest_spell_scripts();
-    AddSC_item_spell_scripts();
-    AddSC_example_spell_scripts();
-	
-}
-
-void AddWorldScripts()
-{
-#ifdef SCRIPTS
-	AddSC_npc_mount();
-    AddSC_areatrigger_scripts();
-    AddSC_boss_emeriss();
-    AddSC_boss_taerar();
-    AddSC_boss_ysondre();
-    AddSC_generic_creature();
-    AddSC_go_scripts();
-    AddSC_guards();
-    AddSC_item_scripts();
-    AddSC_npc_professions();
-    AddSC_npc_innkeeper();
-    AddSC_npcs_special();
-    AddSC_npc_taxi();
-    AddSC_achievement_scripts();
-    AddSC_chat_log();
-	AddSC_npc_customize();
-	AddSC_dungeon_finder();
-#endif
-}
-
-void AddEasternKingdomsScripts()
-{
-#ifdef SCRIPTS
-    AddSC_alterac_valley();                 //Alterac Valley
-    AddSC_boss_balinda();
-    AddSC_boss_drekthar();
-    AddSC_boss_galvangar();
-    AddSC_boss_vanndar();
-    AddSC_blackrock_depths();               //Blackrock Depths
-    AddSC_boss_ambassador_flamelash();
-    AddSC_boss_anubshiah();
-    AddSC_boss_draganthaurissan();
-    AddSC_boss_general_angerforge();
-    AddSC_boss_gorosh_the_dervish();
-    AddSC_boss_grizzle();
-    AddSC_boss_high_interrogator_gerstahn();
-    AddSC_boss_magmus();
-    AddSC_boss_moira_bronzebeard();
-    AddSC_boss_tomb_of_seven();
-    AddSC_instance_blackrock_depths();
-    AddSC_boss_drakkisath();                //Blackrock Spire
-    AddSC_boss_halycon();
-    AddSC_boss_highlordomokk();
-    AddSC_boss_mothersmolderweb();
-    AddSC_boss_overlordwyrmthalak();
-    AddSC_boss_shadowvosh();
-    AddSC_boss_thebeast();
-    AddSC_boss_warmastervoone();
-    AddSC_boss_quatermasterzigris();
-    AddSC_boss_pyroguard_emberseer();
-    AddSC_boss_gyth();
-    AddSC_boss_rend_blackhand();
-    AddSC_boss_razorgore();                 //Blackwing lair
-    AddSC_boss_vael();
-    AddSC_boss_broodlord();
-    AddSC_boss_firemaw();
-    AddSC_boss_ebonroc();
-    AddSC_boss_flamegor();
-    AddSC_boss_chromaggus();
-    AddSC_boss_nefarian();
-    AddSC_boss_victor_nefarius();
-    AddSC_boss_mr_smite();
-    AddSC_deadmines();                      //Deadmines
-    AddSC_instance_deadmines();
-    AddSC_gnomeregan();                     //Gnomeregan
-    AddSC_instance_gnomeregan();
-    AddSC_boss_attumen();                   //Karazhan
-    AddSC_boss_curator();
-    AddSC_boss_maiden_of_virtue();
-    AddSC_boss_shade_of_aran();
-    AddSC_boss_malchezaar();
-    AddSC_boss_terestian_illhoof();
-    AddSC_boss_moroes();
-    AddSC_bosses_opera();
-    AddSC_boss_netherspite();
-    AddSC_instance_karazhan();
-    AddSC_karazhan();
-    AddSC_boss_nightbane();
-    AddSC_boss_felblood_kaelthas();         // Magister's Terrace
-    AddSC_boss_selin_fireheart();
-    AddSC_boss_vexallus();
-    AddSC_boss_priestess_delrissa();
-    AddSC_instance_magisters_terrace();
-    AddSC_magisters_terrace();
-    AddSC_boss_lucifron();                  //Molten core
-    AddSC_boss_magmadar();
-    AddSC_boss_gehennas();
-    AddSC_boss_garr();
-    AddSC_boss_baron_geddon();
-    AddSC_boss_shazzrah();
-    AddSC_boss_golemagg();
-    AddSC_boss_sulfuron();
-    AddSC_boss_majordomo();
-    AddSC_boss_ragnaros();
-    AddSC_instance_molten_core();
-    AddSC_molten_core();
-    AddSC_the_scarlet_enclave();            //Scarlet Enclave
-    AddSC_the_scarlet_enclave_c1();
-    AddSC_the_scarlet_enclave_c2();
-    AddSC_the_scarlet_enclave_c5();
-    AddSC_boss_arcanist_doan();             //Scarlet Monastery
-    AddSC_boss_azshir_the_sleepless();
-    AddSC_boss_bloodmage_thalnos();
-    AddSC_boss_headless_horseman();
-    AddSC_boss_herod();
-    AddSC_boss_high_inquisitor_fairbanks();
-    AddSC_boss_houndmaster_loksey();
-    AddSC_boss_interrogator_vishas();
-    AddSC_boss_scorn();
-    AddSC_instance_scarlet_monastery();
-    AddSC_boss_mograine_and_whitemane();
-    AddSC_boss_darkmaster_gandling();       //Scholomance
-    AddSC_boss_death_knight_darkreaver();
-    AddSC_boss_theolenkrastinov();
-    AddSC_boss_illuciabarov();
-    AddSC_boss_instructormalicia();
-    AddSC_boss_jandicebarov();
-    AddSC_boss_kormok();
-    AddSC_boss_lordalexeibarov();
-    AddSC_boss_lorekeeperpolkelt();
-    AddSC_boss_rasfrost();
-    AddSC_boss_theravenian();
-    AddSC_boss_vectus();
-    AddSC_instance_scholomance();
-    AddSC_shadowfang_keep();                //Shadowfang keep
-    AddSC_instance_shadowfang_keep();
-    AddSC_boss_magistrate_barthilas();      //Stratholme
-    AddSC_boss_maleki_the_pallid();
-    AddSC_boss_nerubenkan();
-    AddSC_boss_cannon_master_willey();
-    AddSC_boss_baroness_anastari();
-    AddSC_boss_ramstein_the_gorger();
-    AddSC_boss_timmy_the_cruel();
-    AddSC_boss_postmaster_malown();
-    AddSC_boss_baron_rivendare();
-    AddSC_boss_dathrohan_balnazzar();
-    AddSC_boss_order_of_silver_hand();
-    AddSC_instance_stratholme();
-    AddSC_stratholme();
-    AddSC_sunken_temple();                  // Sunken Temple
-    AddSC_instance_sunken_temple();
-    AddSC_instance_sunwell_plateau();       //Sunwell Plateau
-    AddSC_boss_kalecgos();
-    AddSC_boss_brutallus();
-    AddSC_boss_felmyst();
-    AddSC_boss_eredar_twins();
-    AddSC_boss_muru();
-    AddSC_boss_kiljaeden();
-    AddSC_sunwell_plateau();
-    AddSC_boss_archaedas();                 //Uldaman
-    AddSC_boss_ironaya();
-    AddSC_uldaman();
-    AddSC_instance_uldaman();
-    AddSC_boss_akilzon();                   //Zul'Aman
-    AddSC_boss_halazzi();
-    AddSC_boss_hex_lord_malacrass();
-    AddSC_boss_janalai();
-    AddSC_boss_nalorakk();
-    AddSC_boss_zuljin();
-    AddSC_instance_zulaman();
-    AddSC_zulaman();
-    AddSC_boss_jeklik();                    //Zul'Gurub
-    AddSC_boss_venoxis();
-    AddSC_boss_marli();
-    AddSC_boss_mandokir();
-    AddSC_boss_gahzranka();
-    AddSC_boss_thekal();
-    AddSC_boss_arlokk();
-    AddSC_boss_jindo();
-    AddSC_boss_hakkar();
-    AddSC_boss_grilek();
-    AddSC_boss_hazzarah();
-    AddSC_boss_renataki();
-    AddSC_boss_wushoolay();
-    AddSC_instance_zulgurub();
-
-    //AddSC_alterac_mountains();
-    AddSC_arathi_highlands();
-    AddSC_blasted_lands();
-    AddSC_boss_kruul();
-    AddSC_burning_steppes();
-    AddSC_dun_morogh();
-    AddSC_duskwood();
-    AddSC_eastern_plaguelands();
-    AddSC_elwynn_forest();
-    AddSC_eversong_woods();
-    AddSC_ghostlands();
-    AddSC_hinterlands();
-    AddSC_ironforge();
-    AddSC_isle_of_queldanas();
-    AddSC_loch_modan();
-    AddSC_redridge_mountains();
-    AddSC_searing_gorge();
-    AddSC_silvermoon_city();
-    AddSC_silverpine_forest();
-    AddSC_stormwind_city();
-    AddSC_stranglethorn_vale();
-    AddSC_swamp_of_sorrows();
-    AddSC_tirisfal_glades();
-    AddSC_undercity();
-    AddSC_western_plaguelands();
-    AddSC_westfall();
-    AddSC_wetlands();
-#endif
-}
-
-void AddKalimdorScripts()
-{
-#ifdef SCRIPTS
-    AddSC_blackfathom_deeps();              //Blackfathom Depths
-    AddSC_boss_gelihast();
-    AddSC_boss_kelris();
-    AddSC_boss_aku_mai();
-    AddSC_instance_blackfathom_deeps();
-    AddSC_hyjal();                          //CoT Battle for Mt. Hyjal
-    AddSC_boss_archimonde();
-    AddSC_instance_mount_hyjal();
-    AddSC_hyjal_trash();
-    AddSC_boss_rage_winterchill();
-    AddSC_boss_anetheron();
-    AddSC_boss_kazrogal();
-    AddSC_boss_azgalor();
-    AddSC_boss_captain_skarloc();           //CoT Old Hillsbrad
-    AddSC_boss_epoch_hunter();
-    AddSC_boss_lieutenant_drake();
-    AddSC_instance_old_hillsbrad();
-    AddSC_old_hillsbrad();
-    AddSC_boss_aeonus();                    //CoT The Dark Portal
-    AddSC_boss_chrono_lord_deja();
-    AddSC_boss_temporus();
-    AddSC_dark_portal();
-    AddSC_instance_dark_portal();
-    AddSC_boss_epoch();                     //CoT Culling Of Stratholme
-    AddSC_boss_infinite_corruptor();
-    AddSC_boss_salramm();
-    AddSC_boss_mal_ganis();
-    AddSC_boss_meathook();
-    AddSC_culling_of_stratholme();
-    AddSC_instance_culling_of_stratholme();
-    AddSC_boss_celebras_the_cursed();       //Maraudon
-    AddSC_boss_landslide();
-    AddSC_boss_noxxion();
-    AddSC_boss_ptheradras();
-    AddSC_boss_onyxia();                    //Onyxia's Lair
-    AddSC_instance_onyxias_lair();
-    AddSC_boss_amnennar_the_coldbringer();  //Razorfen Downs
-    AddSC_razorfen_downs();
-    AddSC_instance_razorfen_downs();
-    AddSC_razorfen_kraul();                 //Razorfen Kraul
-    AddSC_boss_kurinnaxx();                 //Ruins of ahn'qiraj
-    AddSC_boss_rajaxx();
-    AddSC_boss_moam();
-    AddSC_boss_buru();
-    AddSC_boss_ayamiss();
-    AddSC_boss_ossirian();
-    AddSC_instance_ruins_of_ahnqiraj();
-    AddSC_boss_cthun();                     //Temple of ahn'qiraj
-    AddSC_boss_fankriss();
-    AddSC_boss_huhuran();
-    AddSC_bug_trio();
-    AddSC_boss_sartura();
-    AddSC_boss_skeram();
-    AddSC_boss_twinemperors();
-    AddSC_mob_anubisath_sentinel();
-    AddSC_instance_temple_of_ahnqiraj();
-    AddSC_wailing_caverns();                //Wailing caverns
-    AddSC_instance_wailing_caverns();
-    AddSC_zulfarrak();                      //Zul'Farrak generic
-    AddSC_instance_zulfarrak();             //Zul'Farrak instance script
-
-    AddSC_ashenvale();
-    AddSC_azshara();
-    AddSC_azuremyst_isle();
-    AddSC_bloodmyst_isle();
-    AddSC_boss_azuregos();
-    AddSC_darkshore();
-    AddSC_desolace();
-    AddSC_durotar();
-    AddSC_dustwallow_marsh();
-    AddSC_felwood();
-    AddSC_feralas();
-    AddSC_moonglade();
-    AddSC_mulgore();
-    AddSC_orgrimmar();
-    AddSC_silithus();
-    AddSC_stonetalon_mountains();
-    AddSC_tanaris();
-    AddSC_teldrassil();
-    AddSC_the_barrens();
-    AddSC_thousand_needles();
-    AddSC_thunder_bluff();
-    AddSC_ungoro_crater();
-    AddSC_winterspring();
-#endif
-}
-
-void AddOutlandScripts()
-{
-#ifdef SCRIPTS
-    AddSC_boss_exarch_maladaar();           //Auchindoun Auchenai Crypts
-    AddSC_boss_shirrak_the_dead_watcher();
-    AddSC_boss_nexusprince_shaffar();       //Auchindoun Mana Tombs
-    AddSC_boss_pandemonius();
-    AddSC_boss_darkweaver_syth();           //Auchindoun Sekketh Halls
-    AddSC_boss_talon_king_ikiss();
-    AddSC_instance_sethekk_halls();
-    AddSC_instance_shadow_labyrinth();      //Auchindoun Shadow Labyrinth
-    AddSC_boss_ambassador_hellmaw();
-    AddSC_boss_blackheart_the_inciter();
-    AddSC_boss_grandmaster_vorpil();
-    AddSC_boss_murmur();
-    AddSC_black_temple();                   //Black Temple
-    AddSC_boss_illidan();
-    AddSC_boss_shade_of_akama();
-    AddSC_boss_supremus();
-    AddSC_boss_gurtogg_bloodboil();
-    AddSC_boss_mother_shahraz();
-    AddSC_boss_reliquary_of_souls();
-    AddSC_boss_teron_gorefiend();
-    AddSC_boss_najentus();
-    AddSC_boss_illidari_council();
-    AddSC_instance_black_temple();
-    AddSC_boss_fathomlord_karathress();     //CR Serpent Shrine Cavern
-    AddSC_boss_hydross_the_unstable();
-    AddSC_boss_lady_vashj();
-    AddSC_boss_leotheras_the_blind();
-    AddSC_boss_morogrim_tidewalker();
-    AddSC_instance_serpentshrine_cavern();
-    AddSC_boss_the_lurker_below();
-    AddSC_boss_hydromancer_thespia();       //CR Steam Vault
-    AddSC_boss_mekgineer_steamrigger();
-    AddSC_boss_warlord_kalithresh();
-    AddSC_instance_steam_vault();
-    AddSC_boss_hungarfen();                 //CR Underbog
-    AddSC_boss_the_black_stalker();
-    AddSC_boss_gruul();                     //Gruul's Lair
-    AddSC_boss_high_king_maulgar();
-    AddSC_instance_gruuls_lair();
-    AddSC_boss_broggok();                   //HC Blood Furnace
-    AddSC_boss_kelidan_the_breaker();
-    AddSC_boss_the_maker();
-    AddSC_instance_blood_furnace();
-    AddSC_boss_magtheridon();               //HC Magtheridon's Lair
-    AddSC_instance_magtheridons_lair();
-    AddSC_boss_grand_warlock_nethekurse();  //HC Shattered Halls
-    AddSC_boss_warbringer_omrogg();
-    AddSC_boss_warchief_kargath_bladefist();
-    AddSC_instance_shattered_halls();
-    AddSC_boss_watchkeeper_gargolmar();     //HC Ramparts
-    AddSC_boss_omor_the_unscarred();
-    AddSC_boss_vazruden_the_herald();
-    AddSC_instance_ramparts();
-    AddSC_arcatraz();                       //TK Arcatraz
-    AddSC_boss_harbinger_skyriss();
-    AddSC_instance_arcatraz();
-    AddSC_boss_high_botanist_freywinn();    //TK Botanica
-    AddSC_boss_laj();
-    AddSC_boss_warp_splinter();
-    AddSC_boss_alar();                      //TK The Eye
-    AddSC_boss_kaelthas();
-    AddSC_boss_void_reaver();
-    AddSC_boss_high_astromancer_solarian();
-    AddSC_instance_the_eye();
-    AddSC_the_eye();
-    AddSC_boss_gatewatcher_iron_hand();     //TK The Mechanar
-    AddSC_boss_nethermancer_sepethrea();
-    AddSC_boss_pathaleon_the_calculator();
-    AddSC_instance_mechanar();
-
-    AddSC_blades_edge_mountains();
-    AddSC_boss_doomlordkazzak();
-    AddSC_boss_doomwalker();
-    AddSC_hellfire_peninsula();
-    AddSC_nagrand();
-    AddSC_netherstorm();
-    AddSC_shadowmoon_valley();
-    AddSC_shattrath_city();
-    AddSC_terokkar_forest();
-    AddSC_zangarmarsh();
-#endif
-}
-
-void AddNorthrendScripts()
-{
-#ifdef SCRIPTS
-    AddSC_boss_slad_ran();               //Gundrak
-    AddSC_boss_moorabi();
-    AddSC_boss_drakkari_colossus();
-    AddSC_boss_gal_darah();
-    AddSC_boss_eck();
-    AddSC_instance_gundrak();
-    AddSC_boss_amanitar();
-    AddSC_boss_taldaram();              //Azjol-Nerub Ahn'kahet
-    AddSC_boss_elder_nadox();
-    AddSC_boss_jedoga_shadowseeker();
-    AddSC_boss_volazj();
-    AddSC_instance_ahnkahet();
-    AddSC_boss_argent_challenge();      //Trial of the Champion
-    AddSC_boss_black_knight();
-    AddSC_boss_grand_champions();
-    AddSC_instance_trial_of_the_champion();
-    AddSC_trial_of_the_champion();
-    AddSC_boss_anubarak_trial();        //Trial of the Crusader
-    AddSC_boss_faction_champions();
-    AddSC_boss_lord_jaraxxus();
-    AddSC_trial_of_the_crusader();
-    AddSC_boss_twins_valkyr();
-    AddSC_instance_trial_of_the_crusader();
-	AddSC_boss_beasts_of_northrend();
-    AddSC_boss_krik_thir();             //Azjol-Nerub Azjol-Nerub
-    AddSC_boss_hadronox();
-    AddSC_boss_anub_arak();
-    AddSC_instance_azjol_nerub();
-    AddSC_boss_anubrekhan();            //Naxxramas
-    AddSC_boss_maexxna();
-    AddSC_boss_patchwerk();
-    AddSC_boss_grobbulus();
-    AddSC_boss_razuvious();
-    AddSC_boss_kelthuzad();
-    AddSC_boss_loatheb();
-    AddSC_boss_noth();
-    AddSC_boss_gluth();
-    AddSC_boss_sapphiron();
-    AddSC_boss_four_horsemen();
-    AddSC_boss_faerlina();
-    AddSC_boss_heigan();
-    AddSC_boss_gothik();
-    AddSC_boss_thaddius();
-    AddSC_instance_naxxramas();
-    AddSC_boss_magus_telestra();        //The Nexus Nexus
-    AddSC_boss_anomalus();
-    AddSC_boss_ormorok();
-    AddSC_boss_keristrasza();
-    AddSC_instance_nexus();
-	AddSC_boss_malygos();            //The Nexus Eye Of Eternity
-    AddSC_instance_eye_of_eternity();
-    AddSC_npc_alexstraza();
-    AddSC_boss_drakos();                //The Nexus The Oculus
-    AddSC_boss_urom();
-    AddSC_instance_oculus();
-    AddSC_oculus();
-
-    AddSC_boss_sartharion();            //Obsidian Sanctum
-    AddSC_instance_obsidian_sanctum();
-    AddSC_boss_bjarngrim();             //Ulduar Halls of Lightning
-    AddSC_boss_loken();
-    AddSC_boss_ionar();
-    AddSC_boss_volkhan();
-    AddSC_instance_halls_of_lightning();
-    AddSC_boss_maiden_of_grief();       //Ulduar Halls of Stone
-    AddSC_boss_krystallus();
-    AddSC_boss_sjonnir();
-    AddSC_instance_halls_of_stone();
-    AddSC_halls_of_stone();
-    AddSC_boss_auriaya();               //Ulduar Ulduar
-    AddSC_boss_flame_leviathan();
-    AddSC_boss_ignis();
-    AddSC_boss_razorscale();
-    AddSC_boss_xt002();
-    AddSC_bosses_assembly_of_iron();
-    AddSC_boss_kologarn();
-    AddSC_ulduar_teleporter();
-    AddSC_instance_ulduar();
-    AddSC_boss_keleseth();              //Utgarde Keep
-    AddSC_boss_skarvald_dalronn();
-    AddSC_boss_ingvar_the_plunderer();
-    AddSC_instance_utgarde_keep();
-    AddSC_boss_svala();                 //Utgarde pinnacle
-    AddSC_boss_palehoof();
-    AddSC_boss_skadi();
-    AddSC_boss_ymiron();
-    AddSC_instance_utgarde_pinnacle();
-    AddSC_utgarde_keep();
-    AddSC_boss_archavon();              //Vault of Archavon
-    AddSC_boss_emalon();
-    AddSC_boss_koralon();
-    AddSC_boss_toravon();
-    AddSC_instance_archavon();
-    AddSC_boss_trollgore();             //Drak'Tharon Keep
-    AddSC_boss_novos();
-    AddSC_boss_dred();
-    AddSC_boss_tharon_ja();
-    AddSC_instance_drak_tharon();
-    AddSC_boss_cyanigosa();             //Violet Hold
-    AddSC_boss_erekem();
-    AddSC_boss_ichoron();
-    AddSC_boss_lavanthor();
-    AddSC_boss_moragg();
-    AddSC_boss_xevozz();
-    AddSC_boss_zuramat();
-    AddSC_instance_violet_hold();
-    AddSC_violet_hold();
-    AddSC_instance_forge_of_souls();   //Forge of Souls
-    AddSC_forge_of_souls();
-    AddSC_boss_bronjahm();
-    AddSC_boss_devourer_of_souls();
-    AddSC_instance_pit_of_saron();      //Pit of Saron
-    AddSC_pit_of_saron();
-    AddSC_boss_garfrost();
-    AddSC_boss_ick();
-    AddSC_boss_tyrannus();
-    AddSC_instance_halls_of_reflection();   // Halls of Reflection
-    AddSC_halls_of_reflection();
-    AddSC_boss_falric();
-    AddSC_boss_marwyn();
-	AddSC_boss_lich_king_hr();
-    AddSC_instance_icecrown_citadel();    // Icecrown Citadel
-    AddSC_icecrown_citadel();
-    AddSC_boss_valithria();
-    AddSC_boss_lichking();
-    AddSC_boss_sindragosa();
-    AddSC_boss_rotface();
-    AddSC_boss_rat_des_blutes();
-    AddSC_boss_professor_putricide();
-    AddSC_boss_lord_marrowgar();
-    AddSC_boss_lady_deathwhisper();
-    AddSC_boss_festergut();
-    AddSC_boss_saurfang();
-    AddSC_boss_blood_queen_lana_thel();
-	AddSC_boss_gunship_battle();
-	AddSC_boss_baltharus();	//RubySanctum
-    AddSC_boss_halion();
-    AddSC_boss_ragefire();
-    AddSC_boss_zarithrian();
-    AddSC_instance_ruby_sanctum();
-
-    AddSC_dalaran();
-    AddSC_borean_tundra();
-    AddSC_dragonblight();
-    AddSC_grizzly_hills();
-    AddSC_howling_fjord();
-    AddSC_icecrown();
-    AddSC_sholazar_basin();
-    AddSC_storm_peaks();
-    AddSC_zuldrak();
-    AddSC_crystalsong_forest();
-#endif
-}
-
-void AddOutdoorPvPScripts()
-{
-#ifdef SCRIPTS
-    AddSC_outdoorpvp_ep();
-    AddSC_outdoorpvp_hp();
-    AddSC_outdoorpvp_na();
-    AddSC_outdoorpvp_si();
-    AddSC_outdoorpvp_tf();
-    AddSC_outdoorpvp_zm();
-#endif
-}
-
-void AddBattlegroundScripts()
-{
-#ifdef SCRIPTS
-#endif
-}
-
-#ifdef SCRIPTS
-/* This is where custom scripts' loading functions should be declared. */
-
-#endif
-
-void AddCustomScripts()
-{
-#ifdef SCRIPTS
-    /* This is where custom scripts should be added. */
-    //TeleNPC2
-    AddSC_npc_teleport();
-#endif
-}
+/* Copyright (C) 2008 - 2010 TrinityCore <http://www.trinitycore.org>
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ */
+
+#include "ScriptPCH.h"
+#include "ScriptLoader.h"
+
+
+
+//examples
+void AddSC_example_creature();
+void AddSC_example_escort();
+void AddSC_example_gossip_codebox();
+void AddSC_example_misc();
+
+//TeleNPC2
+void AddSC_npc_teleport();
+
+// spells
+void AddSC_deathknight_spell_scripts();
+void AddSC_druid_spell_scripts();
+void AddSC_generic_spell_scripts();
+void AddSC_hunter_spell_scripts();
+void AddSC_mage_spell_scripts();
+void AddSC_paladin_spell_scripts();
+void AddSC_priest_spell_scripts();
+void AddSC_rogue_spell_scripts();
+void AddSC_shaman_spell_scripts();
+void AddSC_warlock_spell_scripts();
+void AddSC_warrior_spell_scripts();
+void AddSC_quest_spell_scripts();
+void AddSC_item_spell_scripts();
+void AddSC_example_spell_scripts();
+
+
+#ifdef SCRIPTS
+//world
+void AddSC_npc_mount();
+void AddSC_areatrigger_scripts();
+void AddSC_boss_emeriss();
+void AddSC_boss_taerar();
+void AddSC_boss_ysondre();
+void AddSC_generic_creature();
+void AddSC_go_scripts();
+void AddSC_guards();
+void AddSC_item_scripts();
+void AddSC_npc_professions();
+void AddSC_npc_innkeeper();
+void AddSC_npcs_special();
+void AddSC_npc_taxi();
+void AddSC_achievement_scripts();
+void AddSC_npc_customize();
+void AddSC_dungeon_finder();
+void AddSC_PVP_System();
+
+//guildhouse
+void AddSC_guildmaster();
+
+//hunter
+void AddSC_npc_buffNPC();
+
+//eastern kingdoms
+void AddSC_alterac_valley();                 //Alterac Valley
+void AddSC_boss_balinda();
+void AddSC_boss_drekthar();
+void AddSC_boss_galvangar();
+void AddSC_boss_vanndar();
+void AddSC_blackrock_depths();               //Blackrock Depths
+void AddSC_boss_ambassador_flamelash();
+void AddSC_boss_anubshiah();
+void AddSC_boss_draganthaurissan();
+void AddSC_boss_general_angerforge();
+void AddSC_boss_gorosh_the_dervish();
+void AddSC_boss_grizzle();
+void AddSC_boss_high_interrogator_gerstahn();
+void AddSC_boss_magmus();
+void AddSC_boss_moira_bronzebeard();
+void AddSC_boss_tomb_of_seven();
+void AddSC_instance_blackrock_depths();
+void AddSC_boss_drakkisath();                //Blackrock Spire
+void AddSC_boss_halycon();
+void AddSC_boss_highlordomokk();
+void AddSC_boss_mothersmolderweb();
+void AddSC_boss_overlordwyrmthalak();
+void AddSC_boss_shadowvosh();
+void AddSC_boss_thebeast();
+void AddSC_boss_warmastervoone();
+void AddSC_boss_quatermasterzigris();
+void AddSC_boss_pyroguard_emberseer();
+void AddSC_boss_gyth();
+void AddSC_boss_rend_blackhand();
+void AddSC_boss_razorgore();                 //Blackwing lair
+void AddSC_boss_vael();
+void AddSC_boss_broodlord();
+void AddSC_boss_firemaw();
+void AddSC_boss_ebonroc();
+void AddSC_boss_flamegor();
+void AddSC_boss_chromaggus();
+void AddSC_boss_nefarian();
+void AddSC_boss_victor_nefarius();
+void AddSC_boss_mr_smite();
+void AddSC_deadmines();                      //Deadmines
+void AddSC_instance_deadmines();
+void AddSC_gnomeregan();                     //Gnomeregan
+void AddSC_instance_gnomeregan();
+void AddSC_boss_attumen();                   //Karazhan
+void AddSC_boss_curator();
+void AddSC_boss_maiden_of_virtue();
+void AddSC_boss_shade_of_aran();
+void AddSC_boss_malchezaar();
+void AddSC_boss_terestian_illhoof();
+void AddSC_boss_moroes();
+void AddSC_bosses_opera();
+void AddSC_boss_netherspite();
+void AddSC_instance_karazhan();
+void AddSC_karazhan();
+void AddSC_boss_nightbane();
+void AddSC_boss_felblood_kaelthas();         // Magister's Terrace
+void AddSC_boss_selin_fireheart();
+void AddSC_boss_vexallus();
+void AddSC_boss_priestess_delrissa();
+void AddSC_instance_magisters_terrace();
+void AddSC_magisters_terrace();
+void AddSC_boss_lucifron();                  //Molten core
+void AddSC_boss_magmadar();
+void AddSC_boss_gehennas();
+void AddSC_boss_garr();
+void AddSC_boss_baron_geddon();
+void AddSC_boss_shazzrah();
+void AddSC_boss_golemagg();
+void AddSC_boss_sulfuron();
+void AddSC_boss_majordomo();
+void AddSC_boss_ragnaros();
+void AddSC_instance_molten_core();
+void AddSC_molten_core();
+void AddSC_the_scarlet_enclave();            //Scarlet Enclave
+void AddSC_the_scarlet_enclave_c1();
+void AddSC_the_scarlet_enclave_c2();
+void AddSC_the_scarlet_enclave_c5();
+void AddSC_boss_arcanist_doan();             //Scarlet Monastery
+void AddSC_boss_azshir_the_sleepless();
+void AddSC_boss_bloodmage_thalnos();
+void AddSC_boss_headless_horseman();
+void AddSC_boss_herod();
+void AddSC_boss_high_inquisitor_fairbanks();
+void AddSC_boss_houndmaster_loksey();
+void AddSC_boss_interrogator_vishas();
+void AddSC_boss_scorn();
+void AddSC_instance_scarlet_monastery();
+void AddSC_boss_mograine_and_whitemane();
+void AddSC_boss_darkmaster_gandling();       //Scholomance
+void AddSC_boss_death_knight_darkreaver();
+void AddSC_boss_theolenkrastinov();
+void AddSC_boss_illuciabarov();
+void AddSC_boss_instructormalicia();
+void AddSC_boss_jandicebarov();
+void AddSC_boss_kormok();
+void AddSC_boss_lordalexeibarov();
+void AddSC_boss_lorekeeperpolkelt();
+void AddSC_boss_rasfrost();
+void AddSC_boss_theravenian();
+void AddSC_boss_vectus();
+void AddSC_instance_scholomance();
+void AddSC_shadowfang_keep();                //Shadowfang keep
+void AddSC_instance_shadowfang_keep();
+void AddSC_boss_magistrate_barthilas();      //Stratholme
+void AddSC_boss_maleki_the_pallid();
+void AddSC_boss_nerubenkan();
+void AddSC_boss_cannon_master_willey();
+void AddSC_boss_baroness_anastari();
+void AddSC_boss_ramstein_the_gorger();
+void AddSC_boss_timmy_the_cruel();
+void AddSC_boss_postmaster_malown();
+void AddSC_boss_baron_rivendare();
+void AddSC_boss_dathrohan_balnazzar();
+void AddSC_boss_order_of_silver_hand();
+void AddSC_instance_stratholme();
+void AddSC_stratholme();
+void AddSC_sunken_temple();                  // Sunken Temple
+void AddSC_instance_sunken_temple();
+void AddSC_instance_sunwell_plateau();       //Sunwell Plateau
+void AddSC_boss_kalecgos();
+void AddSC_boss_brutallus();
+void AddSC_boss_felmyst();
+void AddSC_boss_eredar_twins();
+void AddSC_boss_muru();
+void AddSC_boss_kiljaeden();
+void AddSC_sunwell_plateau();
+void AddSC_boss_archaedas();                 //Uldaman
+void AddSC_boss_ironaya();
+void AddSC_uldaman();
+void AddSC_instance_uldaman();
+void AddSC_boss_akilzon();                   //Zul'Aman
+void AddSC_boss_halazzi();
+void AddSC_boss_hex_lord_malacrass();
+void AddSC_boss_janalai();
+void AddSC_boss_nalorakk();
+void AddSC_boss_zuljin();
+void AddSC_instance_zulaman();
+void AddSC_zulaman();
+void AddSC_boss_jeklik();                    //Zul'Gurub
+void AddSC_boss_venoxis();
+void AddSC_boss_marli();
+void AddSC_boss_mandokir();
+void AddSC_boss_gahzranka();
+void AddSC_boss_thekal();
+void AddSC_boss_arlokk();
+void AddSC_boss_jindo();
+void AddSC_boss_hakkar();
+void AddSC_boss_grilek();
+void AddSC_boss_hazzarah();
+void AddSC_boss_renataki();
+void AddSC_boss_wushoolay();
+void AddSC_instance_zulgurub();
+
+//void AddSC_alterac_mountains();
+void AddSC_arathi_highlands();
+void AddSC_blasted_lands();
+void AddSC_boss_kruul();
+void AddSC_burning_steppes();
+void AddSC_dun_morogh();
+void AddSC_duskwood();
+void AddSC_eastern_plaguelands();
+void AddSC_elwynn_forest();
+void AddSC_eversong_woods();
+void AddSC_ghostlands();
+void AddSC_hinterlands();
+void AddSC_ironforge();
+void AddSC_isle_of_queldanas();
+void AddSC_loch_modan();
+void AddSC_redridge_mountains();
+void AddSC_searing_gorge();
+void AddSC_silvermoon_city();
+void AddSC_silverpine_forest();
+void AddSC_stormwind_city();
+void AddSC_stranglethorn_vale();
+void AddSC_swamp_of_sorrows();
+void AddSC_tirisfal_glades();
+void AddSC_undercity();
+void AddSC_western_plaguelands();
+void AddSC_westfall();
+void AddSC_wetlands();
+
+//kalimdor
+void AddSC_blackfathom_deeps();              //Blackfathom Depths
+void AddSC_boss_gelihast();
+void AddSC_boss_kelris();
+void AddSC_boss_aku_mai();
+void AddSC_instance_blackfathom_deeps();
+void AddSC_hyjal();                          //CoT Battle for Mt. Hyjal
+void AddSC_boss_archimonde();
+void AddSC_instance_mount_hyjal();
+void AddSC_hyjal_trash();
+void AddSC_boss_rage_winterchill();
+void AddSC_boss_anetheron();
+void AddSC_boss_kazrogal();
+void AddSC_boss_azgalor();
+void AddSC_boss_captain_skarloc();           //CoT Old Hillsbrad
+void AddSC_boss_epoch_hunter();
+void AddSC_boss_lieutenant_drake();
+void AddSC_instance_old_hillsbrad();
+void AddSC_old_hillsbrad();
+void AddSC_boss_aeonus();                    //CoT The Dark Portal
+void AddSC_boss_chrono_lord_deja();
+void AddSC_boss_temporus();
+void AddSC_dark_portal();
+void AddSC_instance_dark_portal();
+void AddSC_boss_epoch();                     //CoT Culling Of Stratholme
+void AddSC_boss_infinite_corruptor();
+void AddSC_boss_salramm();
+void AddSC_boss_mal_ganis();
+void AddSC_boss_meathook();
+void AddSC_culling_of_stratholme();
+void AddSC_instance_culling_of_stratholme();
+void AddSC_boss_celebras_the_cursed();       //Maraudon
+void AddSC_boss_landslide();
+void AddSC_boss_noxxion();
+void AddSC_boss_ptheradras();
+void AddSC_boss_onyxia();                    //Onyxia's Lair
+void AddSC_instance_onyxias_lair();
+void AddSC_boss_amnennar_the_coldbringer();  //Razorfen Downs
+void AddSC_razorfen_downs();
+void AddSC_instance_razorfen_downs();
+void AddSC_razorfen_kraul();                 //Razorfen Kraul
+void AddSC_boss_kurinnaxx();                 //Ruins of ahn'qiraj
+void AddSC_boss_rajaxx();
+void AddSC_boss_moam();
+void AddSC_boss_buru();
+void AddSC_boss_ayamiss();
+void AddSC_boss_ossirian();
+void AddSC_instance_ruins_of_ahnqiraj();
+void AddSC_boss_cthun();                     //Temple of ahn'qiraj
+void AddSC_boss_fankriss();
+void AddSC_boss_huhuran();
+void AddSC_bug_trio();
+void AddSC_boss_sartura();
+void AddSC_boss_skeram();
+void AddSC_boss_twinemperors();
+void AddSC_mob_anubisath_sentinel();
+void AddSC_instance_temple_of_ahnqiraj();
+void AddSC_wailing_caverns();                //Wailing caverns
+void AddSC_instance_wailing_caverns();
+void AddSC_zulfarrak();                     //Zul'Farrak generic
+void AddSC_instance_zulfarrak();            //Zul'Farrak instance script
+
+void AddSC_ashenvale();
+void AddSC_azshara();
+void AddSC_azuremyst_isle();
+void AddSC_bloodmyst_isle();
+void AddSC_boss_azuregos();
+void AddSC_darkshore();
+void AddSC_desolace();
+void AddSC_durotar();
+void AddSC_dustwallow_marsh();
+void AddSC_felwood();
+void AddSC_feralas();
+void AddSC_moonglade();
+void AddSC_mulgore();
+void AddSC_orgrimmar();
+void AddSC_silithus();
+void AddSC_stonetalon_mountains();
+void AddSC_tanaris();
+void AddSC_teldrassil();
+void AddSC_the_barrens();
+void AddSC_thousand_needles();
+void AddSC_thunder_bluff();
+void AddSC_ungoro_crater();
+void AddSC_winterspring();
+
+//northrend
+void AddSC_boss_slad_ran();
+void AddSC_boss_moorabi();
+void AddSC_boss_drakkari_colossus();
+void AddSC_boss_gal_darah();
+void AddSC_boss_eck();
+void AddSC_instance_gundrak();
+void AddSC_boss_krik_thir();             //Azjol-Nerub
+void AddSC_boss_hadronox();
+void AddSC_boss_anub_arak();
+void AddSC_instance_azjol_nerub();
+void AddSC_instance_ahnkahet();          //Azjol-Nerub Ahn'kahet
+void AddSC_boss_amanitar();
+void AddSC_boss_taldaram();
+void AddSC_boss_jedoga_shadowseeker();
+void AddSC_boss_elder_nadox();
+void AddSC_boss_volazj();
+void AddSC_boss_argent_challenge();      //Trial of the Champion
+void AddSC_boss_black_knight();
+void AddSC_boss_grand_champions();
+void AddSC_instance_trial_of_the_champion();
+void AddSC_trial_of_the_champion();
+void AddSC_boss_anubarak_trial();        //Trial of the Crusader
+void AddSC_boss_faction_champions();
+void AddSC_boss_lord_jaraxxus();
+void AddSC_boss_twins_valkyr();
+void AddSC_trial_of_the_crusader();
+void AddSC_instance_trial_of_the_crusader();
+void AddSC_boss_beasts_of_northrend();
+void AddSC_boss_anubrekhan();            //Naxxramas
+void AddSC_boss_maexxna();
+void AddSC_boss_patchwerk();
+void AddSC_boss_grobbulus();
+void AddSC_boss_razuvious();
+void AddSC_boss_kelthuzad();
+void AddSC_boss_loatheb();
+void AddSC_boss_noth();
+void AddSC_boss_gluth();
+void AddSC_boss_sapphiron();
+void AddSC_boss_four_horsemen();
+void AddSC_boss_faerlina();
+void AddSC_boss_heigan();
+void AddSC_boss_gothik();
+void AddSC_boss_thaddius();
+void AddSC_instance_naxxramas();
+void AddSC_boss_magus_telestra();        //The Nexus Nexus
+void AddSC_boss_anomalus();
+void AddSC_boss_ormorok();
+void AddSC_boss_keristrasza();
+void AddSC_instance_nexus();
+void AddSC_boss_malygos();            //The Nexus Eye Of Eternity
+void AddSC_instance_eye_of_eternity();
+void AddSC_npc_alexstraza();
+void AddSC_boss_drakos();                //The Nexus The Oculus
+void AddSC_boss_urom();
+void AddSC_instance_oculus();
+void AddSC_oculus();
+void AddSC_boss_sartharion();            //Obsidian Sanctum
+void AddSC_instance_obsidian_sanctum();
+void AddSC_boss_bjarngrim();             //Ulduar Halls of Lightning
+void AddSC_boss_loken();
+void AddSC_boss_ionar();
+void AddSC_boss_volkhan();
+void AddSC_instance_halls_of_lightning();
+void AddSC_boss_maiden_of_grief();       //Ulduar Halls of Stone
+void AddSC_boss_krystallus();
+void AddSC_boss_sjonnir();
+void AddSC_instance_halls_of_stone();
+void AddSC_halls_of_stone();
+void AddSC_boss_auriaya();               //Ulduar Ulduar
+void AddSC_boss_flame_leviathan();
+void AddSC_boss_ignis();
+void AddSC_boss_razorscale();
+void AddSC_boss_xt002();
+void AddSC_boss_kologarn();
+void AddSC_bosses_assembly_of_iron();
+void AddSC_ulduar_teleporter();
+void AddSC_instance_ulduar();
+void AddSC_boss_keleseth();              //Utgarde Keep
+void AddSC_boss_skarvald_dalronn();
+void AddSC_boss_ingvar_the_plunderer();
+void AddSC_instance_utgarde_keep();
+void AddSC_boss_svala();                 //Utgarde pinnacle
+void AddSC_boss_palehoof();
+void AddSC_boss_skadi();
+void AddSC_boss_ymiron();
+void AddSC_instance_utgarde_pinnacle();
+void AddSC_utgarde_keep();
+void AddSC_boss_archavon();              //Vault of Archavon
+void AddSC_boss_emalon();
+void AddSC_boss_koralon();
+void AddSC_boss_toravon();
+void AddSC_instance_archavon();
+void AddSC_boss_trollgore();             //Drak'Tharon Keep
+void AddSC_boss_novos();
+void AddSC_boss_dred();
+void AddSC_boss_tharon_ja();
+void AddSC_instance_drak_tharon();
+void AddSC_boss_cyanigosa();             //Violet Hold
+void AddSC_boss_erekem();
+void AddSC_boss_ichoron();
+void AddSC_boss_lavanthor();
+void AddSC_boss_moragg();
+void AddSC_boss_xevozz();
+void AddSC_boss_zuramat();
+void AddSC_instance_violet_hold();
+void AddSC_violet_hold();
+void AddSC_instance_forge_of_souls();   //Forge of Souls
+void AddSC_forge_of_souls();
+void AddSC_boss_bronjahm();
+void AddSC_boss_devourer_of_souls();
+void AddSC_instance_pit_of_saron();     //Pit of Saron
+void AddSC_pit_of_saron();
+void AddSC_boss_garfrost();
+void AddSC_boss_ick();
+void AddSC_boss_tyrannus();
+void AddSC_instance_halls_of_reflection();   // Halls of Reflection
+void AddSC_halls_of_reflection();
+void AddSC_boss_falric();
+void AddSC_boss_marwyn();
+void AddSC_boss_lich_king_hr();
+void AddSC_instance_icecrown_citadel();    // Icecrown Citadel
+void AddSC_icecrown_citadel();
+void AddSC_boss_valithria();
+void AddSC_boss_lichking();
+void AddSC_boss_sindragosa();
+void AddSC_boss_rotface();
+void AddSC_boss_rat_des_blutes();
+void AddSC_boss_professor_putricide();
+void AddSC_boss_lord_marrowgar();
+void AddSC_boss_lady_deathwhisper();
+void AddSC_boss_festergut();
+void AddSC_boss_saurfang();
+void AddSC_boss_blood_queen_lana_thel();
+void AddSC_boss_gunship_battle();
+void AddSC_boss_baltharus();	//RubySanctum
+void AddSC_boss_halion();
+void AddSC_boss_ragefire();
+void AddSC_boss_zarithrian();
+void AddSC_instance_ruby_sanctum();
+
+void AddSC_dalaran();
+void AddSC_borean_tundra();
+void AddSC_dragonblight();
+void AddSC_grizzly_hills();
+void AddSC_howling_fjord();
+void AddSC_icecrown();
+void AddSC_sholazar_basin();
+void AddSC_storm_peaks();
+void AddSC_zuldrak();
+void AddSC_crystalsong_forest();
+void AddSC_isle_of_conquest();
+
+//outland
+void AddSC_boss_exarch_maladaar();           //Auchindoun Auchenai Crypts
+void AddSC_boss_shirrak_the_dead_watcher();
+void AddSC_boss_nexusprince_shaffar();       //Auchindoun Mana Tombs
+void AddSC_boss_pandemonius();
+void AddSC_boss_darkweaver_syth();           //Auchindoun Sekketh Halls
+void AddSC_boss_talon_king_ikiss();
+void AddSC_instance_sethekk_halls();
+void AddSC_instance_shadow_labyrinth();      //Auchindoun Shadow Labyrinth
+void AddSC_boss_ambassador_hellmaw();
+void AddSC_boss_blackheart_the_inciter();
+void AddSC_boss_grandmaster_vorpil();
+void AddSC_boss_murmur();
+void AddSC_black_temple();                   //Black Temple
+void AddSC_boss_illidan();
+void AddSC_boss_shade_of_akama();
+void AddSC_boss_supremus();
+void AddSC_boss_gurtogg_bloodboil();
+void AddSC_boss_mother_shahraz();
+void AddSC_boss_reliquary_of_souls();
+void AddSC_boss_teron_gorefiend();
+void AddSC_boss_najentus();
+void AddSC_boss_illidari_council();
+void AddSC_instance_black_temple();
+void AddSC_boss_fathomlord_karathress();     //CR Serpent Shrine Cavern
+void AddSC_boss_hydross_the_unstable();
+void AddSC_boss_lady_vashj();
+void AddSC_boss_leotheras_the_blind();
+void AddSC_boss_morogrim_tidewalker();
+void AddSC_instance_serpentshrine_cavern();
+void AddSC_boss_the_lurker_below();
+void AddSC_boss_hydromancer_thespia();       //CR Steam Vault
+void AddSC_boss_mekgineer_steamrigger();
+void AddSC_boss_warlord_kalithresh();
+void AddSC_instance_steam_vault();
+void AddSC_boss_hungarfen();                 //CR Underbog
+void AddSC_boss_the_black_stalker();
+void AddSC_boss_gruul();                     //Gruul's Lair
+void AddSC_boss_high_king_maulgar();
+void AddSC_instance_gruuls_lair();
+void AddSC_boss_broggok();                   //HC Blood Furnace
+void AddSC_boss_kelidan_the_breaker();
+void AddSC_boss_the_maker();
+void AddSC_instance_blood_furnace();
+void AddSC_boss_magtheridon();               //HC Magtheridon's Lair
+void AddSC_instance_magtheridons_lair();
+void AddSC_boss_grand_warlock_nethekurse();  //HC Shattered Halls
+void AddSC_boss_warbringer_omrogg();
+void AddSC_boss_warchief_kargath_bladefist();
+void AddSC_instance_shattered_halls();
+void AddSC_boss_watchkeeper_gargolmar();     //HC Ramparts
+void AddSC_boss_omor_the_unscarred();
+void AddSC_boss_vazruden_the_herald();
+void AddSC_instance_ramparts();
+void AddSC_arcatraz();                       //TK Arcatraz
+void AddSC_boss_harbinger_skyriss();
+void AddSC_instance_arcatraz();
+void AddSC_boss_high_botanist_freywinn();    //TK Botanica
+void AddSC_boss_laj();
+void AddSC_boss_warp_splinter();
+void AddSC_boss_alar();                      //TK The Eye
+void AddSC_boss_kaelthas();
+void AddSC_boss_void_reaver();
+void AddSC_boss_high_astromancer_solarian();
+void AddSC_instance_the_eye();
+void AddSC_the_eye();
+void AddSC_boss_gatewatcher_iron_hand();     //TK The Mechanar
+void AddSC_boss_nethermancer_sepethrea();
+void AddSC_boss_pathaleon_the_calculator();
+void AddSC_instance_mechanar();
+
+void AddSC_blades_edge_mountains();
+void AddSC_boss_doomlordkazzak();
+void AddSC_boss_doomwalker();
+void AddSC_hellfire_peninsula();
+void AddSC_nagrand();
+void AddSC_netherstorm();
+void AddSC_shadowmoon_valley();
+void AddSC_shattrath_city();
+void AddSC_terokkar_forest();
+void AddSC_zangarmarsh();
+void AddSC_wintergrasp();
+
+// battlegrounds
+
+// outdoor pvp
+void AddSC_outdoorpvp_ep();
+void AddSC_outdoorpvp_hp();
+void AddSC_outdoorpvp_na();
+void AddSC_outdoorpvp_si();
+void AddSC_outdoorpvp_tf();
+void AddSC_outdoorpvp_zm();
+void AddSC_outdoorpvp_wg();
+
+
+// player
+void AddSC_chat_log();
+
+#endif
+
+void AddScripts()
+{
+    AddExampleScripts();
+    AddSpellScripts();
+#ifdef SCRIPTS
+    AddWorldScripts();
+    AddEasternKingdomsScripts();
+    AddKalimdorScripts();
+    AddOutlandScripts();
+    AddNorthrendScripts();
+    AddBattlegroundScripts();
+    AddOutdoorPvPScripts();
+    AddCustomScripts();
+	//guildhouse
+	AddSC_guildmaster();
+
+	//hunter
+    AddSC_npc_buffNPC();
+	
+#endif
+}
+
+void AddExampleScripts()
+{
+    AddSC_example_creature();
+    AddSC_example_escort();
+    AddSC_example_gossip_codebox();
+    AddSC_example_misc();
+}
+
+void AddSpellScripts()
+{
+    AddSC_deathknight_spell_scripts();
+    AddSC_druid_spell_scripts();
+    AddSC_generic_spell_scripts();
+    AddSC_hunter_spell_scripts();
+    AddSC_mage_spell_scripts();
+    AddSC_paladin_spell_scripts();
+    AddSC_priest_spell_scripts();
+    AddSC_rogue_spell_scripts();
+    AddSC_shaman_spell_scripts();
+    AddSC_warlock_spell_scripts();
+    AddSC_warrior_spell_scripts();
+    AddSC_quest_spell_scripts();
+    AddSC_item_spell_scripts();
+    AddSC_example_spell_scripts();
+	
+}
+
+void AddWorldScripts()
+{
+#ifdef SCRIPTS
+	AddSC_npc_mount();
+    AddSC_areatrigger_scripts();
+    AddSC_boss_emeriss();
+    AddSC_boss_taerar();
+    AddSC_boss_ysondre();
+    AddSC_generic_creature();
+    AddSC_go_scripts();
+    AddSC_guards();
+    AddSC_item_scripts();
+    AddSC_npc_professions();
+    AddSC_npc_innkeeper();
+    AddSC_npcs_special();
+    AddSC_npc_taxi();
+    AddSC_achievement_scripts();
+    AddSC_chat_log();
+	AddSC_npc_customize();
+	AddSC_dungeon_finder();
+    AddSC_PVP_System();
+	
+#endif
+}
+
+void AddEasternKingdomsScripts()
+{
+#ifdef SCRIPTS
+    AddSC_alterac_valley();                 //Alterac Valley
+    AddSC_boss_balinda();
+    AddSC_boss_drekthar();
+    AddSC_boss_galvangar();
+    AddSC_boss_vanndar();
+    AddSC_blackrock_depths();               //Blackrock Depths
+    AddSC_boss_ambassador_flamelash();
+    AddSC_boss_anubshiah();
+    AddSC_boss_draganthaurissan();
+    AddSC_boss_general_angerforge();
+    AddSC_boss_gorosh_the_dervish();
+    AddSC_boss_grizzle();
+    AddSC_boss_high_interrogator_gerstahn();
+    AddSC_boss_magmus();
+    AddSC_boss_moira_bronzebeard();
+    AddSC_boss_tomb_of_seven();
+    AddSC_instance_blackrock_depths();
+    AddSC_boss_drakkisath();                //Blackrock Spire
+    AddSC_boss_halycon();
+    AddSC_boss_highlordomokk();
+    AddSC_boss_mothersmolderweb();
+    AddSC_boss_overlordwyrmthalak();
+    AddSC_boss_shadowvosh();
+    AddSC_boss_thebeast();
+    AddSC_boss_warmastervoone();
+    AddSC_boss_quatermasterzigris();
+    AddSC_boss_pyroguard_emberseer();
+    AddSC_boss_gyth();
+    AddSC_boss_rend_blackhand();
+    AddSC_boss_razorgore();                 //Blackwing lair
+    AddSC_boss_vael();
+    AddSC_boss_broodlord();
+    AddSC_boss_firemaw();
+    AddSC_boss_ebonroc();
+    AddSC_boss_flamegor();
+    AddSC_boss_chromaggus();
+    AddSC_boss_nefarian();
+    AddSC_boss_victor_nefarius();
+    AddSC_boss_mr_smite();
+    AddSC_deadmines();                      //Deadmines
+    AddSC_instance_deadmines();
+    AddSC_gnomeregan();                     //Gnomeregan
+    AddSC_instance_gnomeregan();
+    AddSC_boss_attumen();                   //Karazhan
+    AddSC_boss_curator();
+    AddSC_boss_maiden_of_virtue();
+    AddSC_boss_shade_of_aran();
+    AddSC_boss_malchezaar();
+    AddSC_boss_terestian_illhoof();
+    AddSC_boss_moroes();
+    AddSC_bosses_opera();
+    AddSC_boss_netherspite();
+    AddSC_instance_karazhan();
+    AddSC_karazhan();
+    AddSC_boss_nightbane();
+    AddSC_boss_felblood_kaelthas();         // Magister's Terrace
+    AddSC_boss_selin_fireheart();
+    AddSC_boss_vexallus();
+    AddSC_boss_priestess_delrissa();
+    AddSC_instance_magisters_terrace();
+    AddSC_magisters_terrace();
+    AddSC_boss_lucifron();                  //Molten core
+    AddSC_boss_magmadar();
+    AddSC_boss_gehennas();
+    AddSC_boss_garr();
+    AddSC_boss_baron_geddon();
+    AddSC_boss_shazzrah();
+    AddSC_boss_golemagg();
+    AddSC_boss_sulfuron();
+    AddSC_boss_majordomo();
+    AddSC_boss_ragnaros();
+    AddSC_instance_molten_core();
+    AddSC_molten_core();
+    AddSC_the_scarlet_enclave();            //Scarlet Enclave
+    AddSC_the_scarlet_enclave_c1();
+    AddSC_the_scarlet_enclave_c2();
+    AddSC_the_scarlet_enclave_c5();
+    AddSC_boss_arcanist_doan();             //Scarlet Monastery
+    AddSC_boss_azshir_the_sleepless();
+    AddSC_boss_bloodmage_thalnos();
+    AddSC_boss_headless_horseman();
+    AddSC_boss_herod();
+    AddSC_boss_high_inquisitor_fairbanks();
+    AddSC_boss_houndmaster_loksey();
+    AddSC_boss_interrogator_vishas();
+    AddSC_boss_scorn();
+    AddSC_instance_scarlet_monastery();
+    AddSC_boss_mograine_and_whitemane();
+    AddSC_boss_darkmaster_gandling();       //Scholomance
+    AddSC_boss_death_knight_darkreaver();
+    AddSC_boss_theolenkrastinov();
+    AddSC_boss_illuciabarov();
+    AddSC_boss_instructormalicia();
+    AddSC_boss_jandicebarov();
+    AddSC_boss_kormok();
+    AddSC_boss_lordalexeibarov();
+    AddSC_boss_lorekeeperpolkelt();
+    AddSC_boss_rasfrost();
+    AddSC_boss_theravenian();
+    AddSC_boss_vectus();
+    AddSC_instance_scholomance();
+    AddSC_shadowfang_keep();                //Shadowfang keep
+    AddSC_instance_shadowfang_keep();
+    AddSC_boss_magistrate_barthilas();      //Stratholme
+    AddSC_boss_maleki_the_pallid();
+    AddSC_boss_nerubenkan();
+    AddSC_boss_cannon_master_willey();
+    AddSC_boss_baroness_anastari();
+    AddSC_boss_ramstein_the_gorger();
+    AddSC_boss_timmy_the_cruel();
+    AddSC_boss_postmaster_malown();
+    AddSC_boss_baron_rivendare();
+    AddSC_boss_dathrohan_balnazzar();
+    AddSC_boss_order_of_silver_hand();
+    AddSC_instance_stratholme();
+    AddSC_stratholme();
+    AddSC_sunken_temple();                  // Sunken Temple
+    AddSC_instance_sunken_temple();
+    AddSC_instance_sunwell_plateau();       //Sunwell Plateau
+    AddSC_boss_kalecgos();
+    AddSC_boss_brutallus();
+    AddSC_boss_felmyst();
+    AddSC_boss_eredar_twins();
+    AddSC_boss_muru();
+    AddSC_boss_kiljaeden();
+    AddSC_sunwell_plateau();
+    AddSC_boss_archaedas();                 //Uldaman
+    AddSC_boss_ironaya();
+    AddSC_uldaman();
+    AddSC_instance_uldaman();
+    AddSC_boss_akilzon();                   //Zul'Aman
+    AddSC_boss_halazzi();
+    AddSC_boss_hex_lord_malacrass();
+    AddSC_boss_janalai();
+    AddSC_boss_nalorakk();
+    AddSC_boss_zuljin();
+    AddSC_instance_zulaman();
+    AddSC_zulaman();
+    AddSC_boss_jeklik();                    //Zul'Gurub
+    AddSC_boss_venoxis();
+    AddSC_boss_marli();
+    AddSC_boss_mandokir();
+    AddSC_boss_gahzranka();
+    AddSC_boss_thekal();
+    AddSC_boss_arlokk();
+    AddSC_boss_jindo();
+    AddSC_boss_hakkar();
+    AddSC_boss_grilek();
+    AddSC_boss_hazzarah();
+    AddSC_boss_renataki();
+    AddSC_boss_wushoolay();
+    AddSC_instance_zulgurub();
+
+    //AddSC_alterac_mountains();
+    AddSC_arathi_highlands();
+    AddSC_blasted_lands();
+    AddSC_boss_kruul();
+    AddSC_burning_steppes();
+    AddSC_dun_morogh();
+    AddSC_duskwood();
+    AddSC_eastern_plaguelands();
+    AddSC_elwynn_forest();
+    AddSC_eversong_woods();
+    AddSC_ghostlands();
+    AddSC_hinterlands();
+    AddSC_ironforge();
+    AddSC_isle_of_queldanas();
+    AddSC_loch_modan();
+    AddSC_redridge_mountains();
+    AddSC_searing_gorge();
+    AddSC_silvermoon_city();
+    AddSC_silverpine_forest();
+    AddSC_stormwind_city();
+    AddSC_stranglethorn_vale();
+    AddSC_swamp_of_sorrows();
+    AddSC_tirisfal_glades();
+    AddSC_undercity();
+    AddSC_western_plaguelands();
+    AddSC_westfall();
+    AddSC_wetlands();
+#endif
+}
+
+void AddKalimdorScripts()
+{
+#ifdef SCRIPTS
+    AddSC_blackfathom_deeps();              //Blackfathom Depths
+    AddSC_boss_gelihast();
+    AddSC_boss_kelris();
+    AddSC_boss_aku_mai();
+    AddSC_instance_blackfathom_deeps();
+    AddSC_hyjal();                          //CoT Battle for Mt. Hyjal
+    AddSC_boss_archimonde();
+    AddSC_instance_mount_hyjal();
+    AddSC_hyjal_trash();
+    AddSC_boss_rage_winterchill();
+    AddSC_boss_anetheron();
+    AddSC_boss_kazrogal();
+    AddSC_boss_azgalor();
+    AddSC_boss_captain_skarloc();           //CoT Old Hillsbrad
+    AddSC_boss_epoch_hunter();
+    AddSC_boss_lieutenant_drake();
+    AddSC_instance_old_hillsbrad();
+    AddSC_old_hillsbrad();
+    AddSC_boss_aeonus();                    //CoT The Dark Portal
+    AddSC_boss_chrono_lord_deja();
+    AddSC_boss_temporus();
+    AddSC_dark_portal();
+    AddSC_instance_dark_portal();
+    AddSC_boss_epoch();                     //CoT Culling Of Stratholme
+    AddSC_boss_infinite_corruptor();
+    AddSC_boss_salramm();
+    AddSC_boss_mal_ganis();
+    AddSC_boss_meathook();
+    AddSC_culling_of_stratholme();
+    AddSC_instance_culling_of_stratholme();
+    AddSC_boss_celebras_the_cursed();       //Maraudon
+    AddSC_boss_landslide();
+    AddSC_boss_noxxion();
+    AddSC_boss_ptheradras();
+    AddSC_boss_onyxia();                    //Onyxia's Lair
+    AddSC_instance_onyxias_lair();
+    AddSC_boss_amnennar_the_coldbringer();  //Razorfen Downs
+    AddSC_razorfen_downs();
+    AddSC_instance_razorfen_downs();
+    AddSC_razorfen_kraul();                 //Razorfen Kraul
+    AddSC_boss_kurinnaxx();                 //Ruins of ahn'qiraj
+    AddSC_boss_rajaxx();
+    AddSC_boss_moam();
+    AddSC_boss_buru();
+    AddSC_boss_ayamiss();
+    AddSC_boss_ossirian();
+    AddSC_instance_ruins_of_ahnqiraj();
+    AddSC_boss_cthun();                     //Temple of ahn'qiraj
+    AddSC_boss_fankriss();
+    AddSC_boss_huhuran();
+    AddSC_bug_trio();
+    AddSC_boss_sartura();
+    AddSC_boss_skeram();
+    AddSC_boss_twinemperors();
+    AddSC_mob_anubisath_sentinel();
+    AddSC_instance_temple_of_ahnqiraj();
+    AddSC_wailing_caverns();                //Wailing caverns
+    AddSC_instance_wailing_caverns();
+    AddSC_zulfarrak();                      //Zul'Farrak generic
+    AddSC_instance_zulfarrak();             //Zul'Farrak instance script
+
+    AddSC_ashenvale();
+    AddSC_azshara();
+    AddSC_azuremyst_isle();
+    AddSC_bloodmyst_isle();
+    AddSC_boss_azuregos();
+    AddSC_darkshore();
+    AddSC_desolace();
+    AddSC_durotar();
+    AddSC_dustwallow_marsh();
+    AddSC_felwood();
+    AddSC_feralas();
+    AddSC_moonglade();
+    AddSC_mulgore();
+    AddSC_orgrimmar();
+    AddSC_silithus();
+    AddSC_stonetalon_mountains();
+    AddSC_tanaris();
+    AddSC_teldrassil();
+    AddSC_the_barrens();
+    AddSC_thousand_needles();
+    AddSC_thunder_bluff();
+    AddSC_ungoro_crater();
+    AddSC_winterspring();
+#endif
+}
+
+void AddOutlandScripts()
+{
+#ifdef SCRIPTS
+    AddSC_boss_exarch_maladaar();           //Auchindoun Auchenai Crypts
+    AddSC_boss_shirrak_the_dead_watcher();
+    AddSC_boss_nexusprince_shaffar();       //Auchindoun Mana Tombs
+    AddSC_boss_pandemonius();
+    AddSC_boss_darkweaver_syth();           //Auchindoun Sekketh Halls
+    AddSC_boss_talon_king_ikiss();
+    AddSC_instance_sethekk_halls();
+    AddSC_instance_shadow_labyrinth();      //Auchindoun Shadow Labyrinth
+    AddSC_boss_ambassador_hellmaw();
+    AddSC_boss_blackheart_the_inciter();
+    AddSC_boss_grandmaster_vorpil();
+    AddSC_boss_murmur();
+    AddSC_black_temple();                   //Black Temple
+    AddSC_boss_illidan();
+    AddSC_boss_shade_of_akama();
+    AddSC_boss_supremus();
+    AddSC_boss_gurtogg_bloodboil();
+    AddSC_boss_mother_shahraz();
+    AddSC_boss_reliquary_of_souls();
+    AddSC_boss_teron_gorefiend();
+    AddSC_boss_najentus();
+    AddSC_boss_illidari_council();
+    AddSC_instance_black_temple();
+    AddSC_boss_fathomlord_karathress();     //CR Serpent Shrine Cavern
+    AddSC_boss_hydross_the_unstable();
+    AddSC_boss_lady_vashj();
+    AddSC_boss_leotheras_the_blind();
+    AddSC_boss_morogrim_tidewalker();
+    AddSC_instance_serpentshrine_cavern();
+    AddSC_boss_the_lurker_below();
+    AddSC_boss_hydromancer_thespia();       //CR Steam Vault
+    AddSC_boss_mekgineer_steamrigger();
+    AddSC_boss_warlord_kalithresh();
+    AddSC_instance_steam_vault();
+    AddSC_boss_hungarfen();                 //CR Underbog
+    AddSC_boss_the_black_stalker();
+    AddSC_boss_gruul();                     //Gruul's Lair
+    AddSC_boss_high_king_maulgar();
+    AddSC_instance_gruuls_lair();
+    AddSC_boss_broggok();                   //HC Blood Furnace
+    AddSC_boss_kelidan_the_breaker();
+    AddSC_boss_the_maker();
+    AddSC_instance_blood_furnace();
+    AddSC_boss_magtheridon();               //HC Magtheridon's Lair
+    AddSC_instance_magtheridons_lair();
+    AddSC_boss_grand_warlock_nethekurse();  //HC Shattered Halls
+    AddSC_boss_warbringer_omrogg();
+    AddSC_boss_warchief_kargath_bladefist();
+    AddSC_instance_shattered_halls();
+    AddSC_boss_watchkeeper_gargolmar();     //HC Ramparts
+    AddSC_boss_omor_the_unscarred();
+    AddSC_boss_vazruden_the_herald();
+    AddSC_instance_ramparts();
+    AddSC_arcatraz();                       //TK Arcatraz
+    AddSC_boss_harbinger_skyriss();
+    AddSC_instance_arcatraz();
+    AddSC_boss_high_botanist_freywinn();    //TK Botanica
+    AddSC_boss_laj();
+    AddSC_boss_warp_splinter();
+    AddSC_boss_alar();                      //TK The Eye
+    AddSC_boss_kaelthas();
+    AddSC_boss_void_reaver();
+    AddSC_boss_high_astromancer_solarian();
+    AddSC_instance_the_eye();
+    AddSC_the_eye();
+    AddSC_boss_gatewatcher_iron_hand();     //TK The Mechanar
+    AddSC_boss_nethermancer_sepethrea();
+    AddSC_boss_pathaleon_the_calculator();
+    AddSC_instance_mechanar();
+
+    AddSC_blades_edge_mountains();
+    AddSC_boss_doomlordkazzak();
+    AddSC_boss_doomwalker();
+    AddSC_hellfire_peninsula();
+    AddSC_nagrand();
+    AddSC_netherstorm();
+    AddSC_shadowmoon_valley();
+    AddSC_shattrath_city();
+    AddSC_terokkar_forest();
+    AddSC_zangarmarsh();
+#endif
+}
+
+void AddNorthrendScripts()
+{
+#ifdef SCRIPTS
+    AddSC_boss_slad_ran();               //Gundrak
+    AddSC_boss_moorabi();
+    AddSC_boss_drakkari_colossus();
+    AddSC_boss_gal_darah();
+    AddSC_boss_eck();
+    AddSC_instance_gundrak();
+    AddSC_boss_amanitar();
+    AddSC_boss_taldaram();              //Azjol-Nerub Ahn'kahet
+    AddSC_boss_elder_nadox();
+    AddSC_boss_jedoga_shadowseeker();
+    AddSC_boss_volazj();
+    AddSC_instance_ahnkahet();
+    AddSC_boss_argent_challenge();      //Trial of the Champion
+    AddSC_boss_black_knight();
+    AddSC_boss_grand_champions();
+    AddSC_instance_trial_of_the_champion();
+    AddSC_trial_of_the_champion();
+    AddSC_boss_anubarak_trial();        //Trial of the Crusader
+    AddSC_boss_faction_champions();
+    AddSC_boss_lord_jaraxxus();
+    AddSC_trial_of_the_crusader();
+    AddSC_boss_twins_valkyr();
+    AddSC_instance_trial_of_the_crusader();
+	AddSC_boss_beasts_of_northrend();
+    AddSC_boss_krik_thir();             //Azjol-Nerub Azjol-Nerub
+    AddSC_boss_hadronox();
+    AddSC_boss_anub_arak();
+    AddSC_instance_azjol_nerub();
+    AddSC_boss_anubrekhan();            //Naxxramas
+    AddSC_boss_maexxna();
+    AddSC_boss_patchwerk();
+    AddSC_boss_grobbulus();
+    AddSC_boss_razuvious();
+    AddSC_boss_kelthuzad();
+    AddSC_boss_loatheb();
+    AddSC_boss_noth();
+    AddSC_boss_gluth();
+    AddSC_boss_sapphiron();
+    AddSC_boss_four_horsemen();
+    AddSC_boss_faerlina();
+    AddSC_boss_heigan();
+    AddSC_boss_gothik();
+    AddSC_boss_thaddius();
+    AddSC_instance_naxxramas();
+    AddSC_boss_magus_telestra();        //The Nexus Nexus
+    AddSC_boss_anomalus();
+    AddSC_boss_ormorok();
+    AddSC_boss_keristrasza();
+    AddSC_instance_nexus();
+	AddSC_boss_malygos();            //The Nexus Eye Of Eternity
+    AddSC_instance_eye_of_eternity();
+    AddSC_npc_alexstraza();
+    AddSC_boss_drakos();                //The Nexus The Oculus
+    AddSC_boss_urom();
+    AddSC_instance_oculus();
+    AddSC_oculus();
+
+    AddSC_boss_sartharion();            //Obsidian Sanctum
+    AddSC_instance_obsidian_sanctum();
+    AddSC_boss_bjarngrim();             //Ulduar Halls of Lightning
+    AddSC_boss_loken();
+    AddSC_boss_ionar();
+    AddSC_boss_volkhan();
+    AddSC_instance_halls_of_lightning();
+    AddSC_boss_maiden_of_grief();       //Ulduar Halls of Stone
+    AddSC_boss_krystallus();
+    AddSC_boss_sjonnir();
+    AddSC_instance_halls_of_stone();
+    AddSC_halls_of_stone();
+    AddSC_boss_auriaya();               //Ulduar Ulduar
+    AddSC_boss_flame_leviathan();
+    AddSC_boss_ignis();
+    AddSC_boss_razorscale();
+    AddSC_boss_xt002();
+    AddSC_bosses_assembly_of_iron();
+    AddSC_boss_kologarn();
+    AddSC_ulduar_teleporter();
+    AddSC_instance_ulduar();
+    AddSC_boss_keleseth();              //Utgarde Keep
+    AddSC_boss_skarvald_dalronn();
+    AddSC_boss_ingvar_the_plunderer();
+    AddSC_instance_utgarde_keep();
+    AddSC_boss_svala();                 //Utgarde pinnacle
+    AddSC_boss_palehoof();
+    AddSC_boss_skadi();
+    AddSC_boss_ymiron();
+    AddSC_instance_utgarde_pinnacle();
+    AddSC_utgarde_keep();
+    AddSC_boss_archavon();              //Vault of Archavon
+    AddSC_boss_emalon();
+    AddSC_boss_koralon();
+    AddSC_boss_toravon();
+    AddSC_instance_archavon();
+    AddSC_boss_trollgore();             //Drak'Tharon Keep
+    AddSC_boss_novos();
+    AddSC_boss_dred();
+    AddSC_boss_tharon_ja();
+    AddSC_instance_drak_tharon();
+    AddSC_boss_cyanigosa();             //Violet Hold
+    AddSC_boss_erekem();
+    AddSC_boss_ichoron();
+    AddSC_boss_lavanthor();
+    AddSC_boss_moragg();
+    AddSC_boss_xevozz();
+    AddSC_boss_zuramat();
+    AddSC_instance_violet_hold();
+    AddSC_violet_hold();
+    AddSC_instance_forge_of_souls();   //Forge of Souls
+    AddSC_forge_of_souls();
+    AddSC_boss_bronjahm();
+    AddSC_boss_devourer_of_souls();
+    AddSC_instance_pit_of_saron();      //Pit of Saron
+    AddSC_pit_of_saron();
+    AddSC_boss_garfrost();
+    AddSC_boss_ick();
+    AddSC_boss_tyrannus();
+    AddSC_instance_halls_of_reflection();   // Halls of Reflection
+    AddSC_halls_of_reflection();
+    AddSC_boss_falric();
+    AddSC_boss_marwyn();
+	AddSC_boss_lich_king_hr();
+    AddSC_instance_icecrown_citadel();    // Icecrown Citadel
+    AddSC_icecrown_citadel();
+    AddSC_boss_valithria();
+    AddSC_boss_lichking();
+    AddSC_boss_sindragosa();
+    AddSC_boss_rotface();
+    AddSC_boss_rat_des_blutes();
+    AddSC_boss_professor_putricide();
+    AddSC_boss_lord_marrowgar();
+    AddSC_boss_lady_deathwhisper();
+    AddSC_boss_festergut();
+    AddSC_boss_saurfang();
+    AddSC_boss_blood_queen_lana_thel();
+	AddSC_boss_gunship_battle();
+	AddSC_boss_baltharus();	//RubySanctum
+    AddSC_boss_halion();
+    AddSC_boss_ragefire();
+    AddSC_boss_zarithrian();
+    AddSC_instance_ruby_sanctum();
+
+    AddSC_dalaran();
+    AddSC_borean_tundra();
+    AddSC_dragonblight();
+    AddSC_grizzly_hills();
+    AddSC_howling_fjord();
+    AddSC_icecrown();
+    AddSC_sholazar_basin();
+    AddSC_storm_peaks();
+    AddSC_zuldrak();
+    AddSC_crystalsong_forest();
+    AddSC_wintergrasp();
+#endif
+}
+
+void AddOutdoorPvPScripts()
+{
+#ifdef SCRIPTS
+    AddSC_outdoorpvp_ep();
+    AddSC_outdoorpvp_hp();
+    AddSC_outdoorpvp_na();
+    AddSC_outdoorpvp_si();
+    AddSC_outdoorpvp_tf();
+    AddSC_outdoorpvp_zm();
+    AddSC_outdoorpvp_wg();
+#endif
+}
+
+void AddBattlegroundScripts()
+{
+#ifdef SCRIPTS
+#endif
+}
+
+#ifdef SCRIPTS
+/* This is where custom scripts' loading functions should be declared. */
+
+#endif
+
+void AddCustomScripts()
+{
+#ifdef SCRIPTS
+    /* This is where custom scripts should be added. */
+    //TeleNPC2
+    AddSC_npc_teleport();
+#endif
+}
diff --git a/src/server/game/Server/Protocol/Handlers/BattleGroundHandler.cpp b/src/server/game/Server/Protocol/Handlers/BattleGroundHandler.cpp
--- a/src/server/game/Server/Protocol/Handlers/BattleGroundHandler.cpp
+++ b/src/server/game/Server/Protocol/Handlers/BattleGroundHandler.cpp
@@ -36,6 +36,9 @@
 #include "Opcodes.h"
 #include "DisableMgr.h"
 
+#include "OutdoorPvPWG.h"
+#include "OutdoorPvPMgr.h"
+
 void WorldSession::HandleBattlemasterHelloOpcode(WorldPacket & recv_data)
 {
     uint64 guid;
@@ -602,8 +605,20 @@
         return;
 
     if (bg)
-	
+	{
         sBattlegroundMgr.SendAreaSpiritHealerQueryOpcode(_player, bg, guid);
+		}
+	else
+    {  // Wintergrasp Hack till 3.2 and it's implemented as BG
+        if (GetPlayer()->GetZoneId() == 4197)
+        {
+            OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+            if (pvpWG && pvpWG->isWarTime())
+                pvpWG->SendAreaSpiritHealerQueryOpcode(_player, guid);
+        }
+    }
+
+
 
 }
 
@@ -625,7 +640,18 @@
         return;
 
     if (bg)
+	{
         bg->AddPlayerToResurrectQueue(guid, _player->GetGUID());
+	}
+	else
+    {  // Wintergrasp Hack till 3.2 and it's implemented as BG
+        if (GetPlayer()->GetZoneId() == 4197)
+        {
+            OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+            if (pvpWG && pvpWG->isWarTime())
+                pvpWG->AddPlayerToResurrectQueue(guid, _player->GetGUID());
+        }
+    }
 }
 
 
diff --git a/src/server/game/Server/Protocol/Handlers/CharacterHandler.cpp b/src/server/game/Server/Protocol/Handlers/CharacterHandler.cpp
--- a/src/server/game/Server/Protocol/Handlers/CharacterHandler.cpp
+++ b/src/server/game/Server/Protocol/Handlers/CharacterHandler.cpp
@@ -44,6 +44,9 @@
 #include "ScriptMgr.h"
 #include "Battleground.h"
 
+#include "OutdoorPvPWG.h"
+#include "OutdoorPvPMgr.h"
+
 class LoginQueryHolder : public SQLQueryHolder
 {
     private:
@@ -800,6 +803,23 @@
     sObjectAccessor.AddObject(pCurrChar);
     //sLog.outDebug("Player %s added to Map.",pCurrChar->GetName());
 
+	if (sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+	{
+	if (OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197))
+	{
+            if (pvpWG->isWarTime())
+            {
+                // "Battle in progress"
+                pCurrChar->SendUpdateWorldState(ClockWorldState[1], uint32(time(NULL)));
+            } else
+                // Time to next battle
+            {
+                pvpWG->SendInitWorldStatesTo(pCurrChar);
+                pCurrChar->SendUpdateWorldState(ClockWorldState[1], uint32(time(NULL) + pvpWG->GetTimer()));
+            }
+	}
+	}
+
     pCurrChar->SendInitialPacketsAfterAddToMap();
 
     CharacterDatabase.PExecute("UPDATE characters SET online = 1 WHERE guid = '%u'", pCurrChar->GetGUIDLow());
diff --git a/src/server/game/Spells/Auras/SpellAuraEffects.cpp b/src/server/game/Spells/Auras/SpellAuraEffects.cpp
--- a/src/server/game/Spells/Auras/SpellAuraEffects.cpp
+++ b/src/server/game/Spells/Auras/SpellAuraEffects.cpp
@@ -32,6 +32,7 @@
 #include "SpellAuraEffects.h"
 #include "Battleground.h"
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "Formulas.h"
 #include "GridNotifiers.h"
 #include "GridNotifiersImpl.h"
@@ -5835,6 +5836,13 @@
                             if (aurApp->GetRemoveMode() == AURA_REMOVE_BY_EXPIRE)
                                 target->CastSpell(target, 58601, true);
                             break;
+							case 58730: // Restricted Flight Area
+                            if (aurApp->GetRemoveMode() == AURA_REMOVE_BY_EXPIRE)
+                            {
+                                target->CastSpell(target, 58601, true);
+                                target->CastSpell(target, 45472, true);
+                            }
+                            break;
                     }
                     break;
                 case SPELLFAMILY_MAGE:
diff --git a/src/server/game/Spells/Spell.cpp b/src/server/game/Spells/Spell.cpp
--- a/src/server/game/Spells/Spell.cpp
+++ b/src/server/game/Spells/Spell.cpp
@@ -53,6 +53,8 @@
 #include "ConditionMgr.h"
 #include "DisableMgr.h"
 #include "SpellScript.h"
+#include "OutdoorPvPWG.h"
+#include "OutdoorPvPMgr.h"
 
 #define SPELL_CHANNEL_UPDATE_INTERVAL (1 * IN_MILLISECONDS)
 
@@ -4816,6 +4818,7 @@
 
 SpellCastResult Spell::CheckCast(bool strict)
 {
+	OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
 
     // check death state
     if (!m_IsTriggeredSpell && !m_caster->isAlive() && !(m_spellInfo->Attributes & SPELL_ATTR_PASSIVE) && !(m_spellInfo->Attributes & SPELL_ATTR_CASTABLE_WHILE_DEAD))
@@ -5784,9 +5787,18 @@
                 // allow always ghost flight spells
                 if (m_originalCaster && m_originalCaster->GetTypeId() == TYPEID_PLAYER && m_originalCaster->isAlive())
                 {
-					 if (AreaTableEntry const* pArea = GetAreaEntryByAreaID(m_originalCaster->GetAreaId()))                
+					 if (AreaTableEntry const* pArea = GetAreaEntryByAreaID(m_originalCaster->GetAreaId())) 
+					 {
                         if (pArea->flags & AREA_FLAG_NO_FLY_ZONE)
-                            return m_IsTriggeredSpell ? SPELL_FAILED_DONT_REPORT : SPELL_FAILED_NOT_HERE;                    
+                            return m_IsTriggeredSpell ? SPELL_FAILED_DONT_REPORT : SPELL_FAILED_NOT_HERE;      
+						// Wintergrasp Antifly check
+                     if (sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+                       {
+                        if (m_originalCaster->GetZoneId() == 4197 && pvpWG && pvpWG != 0  && pvpWG->isWarTime()==true)
+                          return m_IsTriggeredSpell ? SPELL_FAILED_DONT_REPORT : SPELL_FAILED_NOT_HERE;
+                        }
+                    }
+
                 }
                 break;
             }
diff --git a/src/server/game/Spells/SpellEffects.cpp b/src/server/game/Spells/SpellEffects.cpp
--- a/src/server/game/Spells/SpellEffects.cpp
+++ b/src/server/game/Spells/SpellEffects.cpp
@@ -50,6 +50,7 @@
 #include "BattlegroundEY.h"
 #include "BattlegroundWS.h"
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "Language.h"
 #include "SocialMgr.h"
 #include "Util.h"
@@ -4541,7 +4542,25 @@
         case SPELLFAMILY_GENERIC:
         {
             switch(m_spellInfo->Id)
-            {          
+            {        
+				//Teleport to Lake Wintergrasp
+                case 58622:
+                   {
+                  if(OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197))
+                        if(pvpWG->isWarTime() || pvpWG->m_timer<300000)
+                        {
+                        if ((pvpWG->getDefenderTeam()==TEAM_ALLIANCE) && (unitTarget->ToPlayer()->GetTeam() == ALLIANCE))
+                        unitTarget->CastSpell(unitTarget, SPELL_TELEPORT_FORTRESS, true);
+                        else if ((pvpWG->getDefenderTeam()==TEAM_ALLIANCE) && (unitTarget->ToPlayer()->GetTeam() == HORDE))
+                        unitTarget->CastSpell(unitTarget, SPELL_TELEPORT_HORDE_CAMP, true);
+                    
+                        if ((pvpWG->getDefenderTeam()!=TEAM_ALLIANCE) && (unitTarget->ToPlayer()->GetTeam() == HORDE))
+                        unitTarget->CastSpell(unitTarget, SPELL_TELEPORT_FORTRESS, true);
+                        else if ((pvpWG->getDefenderTeam()!=TEAM_ALLIANCE) && (unitTarget->ToPlayer()->GetTeam() == ALLIANCE))
+                        unitTarget->CastSpell(unitTarget, SPELL_TELEPORT_ALLIENCE_CAMP, true);
+                        }
+                return;
+                   }
                 // Glyph of Backstab
                 case 63975:
                 {
@@ -7280,9 +7299,24 @@
     if (!unitTarget || unitTarget->GetTypeId() != TYPEID_PLAYER)
         return;
 
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+
     switch(m_spellInfo->Id)
     {
         case 58730: // Restricted Flight Area
+           {
+             if (sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+              {
+              if (pvpWG->isWarTime()==true)
+               {
+                unitTarget->ToPlayer()->GetSession()->SendNotification(LANG_ZONE_NOFLYZONE);
+                unitTarget->PlayDirectSound(9417); // Fel Reaver sound
+                unitTarget->MonsterTextEmote("The air is too thin in Wintergrasp for normal flight. You will be ejected in 9 sec.",unitTarget->GetGUID(),true);
+               break;
+               } else unitTarget->RemoveAura(58730);
+              }
+            break;
+            }
         case 58600: // Restricted Flight Area
             unitTarget->ToPlayer()->GetSession()->SendNotification(LANG_ZONE_NOFLYZONE);
             break;
diff --git a/src/server/game/Spells/SpellMgr.cpp b/src/server/game/Spells/SpellMgr.cpp
--- a/src/server/game/Spells/SpellMgr.cpp
+++ b/src/server/game/Spells/SpellMgr.cpp
@@ -29,6 +29,8 @@
 #include "BattlegroundMgr.h"
 #include "CreatureAI.h"
 #include "MapManager.h"
+#include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 
 bool IsAreaEffectTarget[TOTAL_SPELL_TARGETS];
 SpellEffectTargetTypes EffectTargetType[TOTAL_SPELL_EFFECTS];
@@ -3076,6 +3078,7 @@
 
 bool SpellArea::IsFitToRequirements(Player const* player, uint32 newZone, uint32 newArea) const
 {
+	 OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
 
     if (gender != GENDER_NONE)                   // not in expected gender
         if (!player || gender != player->getGender())
@@ -3105,6 +3108,7 @@
     switch(spellId)
     {
         case 58600: // No fly Zone - Dalaran
+			{
             if (!player)
                 return false;
 
@@ -3113,6 +3117,21 @@
                 return false;
             if (!player->HasAuraType(SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED) && !player->HasAuraType(SPELL_AURA_FLY))
                 return false;
+			}
+            break;
+        case 58730: // No fly Zone - Wintergrasp
+			{
+				if (sWorld.getBoolConfig(CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED))
+				{
+				  if ((pvpWG->isWarTime()==false) || !player || (!player->HasAuraType(SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED) && !player->HasAuraType(SPELL_AURA_FLY)) || player->HasAura(45472) || player->HasAura(44795) || player->GetPositionZ())
+				    return false;
+				}
+			}
+            break;
+        case 58045: // Essence of Wintergrasp - Wintergrasp
+        case 57940: // Essence of Wintergrasp - Northrend
+             if (!player || player->GetTeamId() != sWorld.getWorldState(WORLDSTATE_WINTERGRASP_CONTROLING_FACTION))
+             return false;
             break;
     }
 
diff --git a/src/server/game/World/World.cpp b/src/server/game/World/World.cpp
--- a/src/server/game/World/World.cpp
+++ b/src/server/game/World/World.cpp
@@ -50,6 +50,7 @@
 #include "CreatureAIRegistry.h"
 #include "BattlegroundMgr.h"
 #include "OutdoorPvPMgr.h"
+#include "OutdoorPvPWG.h"
 #include "TemporarySummon.h"
 #include "WaypointMovementGenerator.h"
 #include "VMapFactory.h"
@@ -1202,6 +1203,22 @@
     if (m_int_configs[CONFIG_PVP_TOKEN_COUNT] < 1)
         m_int_configs[CONFIG_PVP_TOKEN_COUNT] = 1;
 
+    m_bool_configs[CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED]         = sConfig.GetBoolDefault("OutdoorPvP.Wintergrasp.Enabled", true);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_SAVESTATE_PERIOD] = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.SaveState.Period", 10000);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_START_TIME]       = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.StartTime", 30);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_BATTLE_TIME]      = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.BattleTime", 30);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_INTERVAL]         = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.Interval", 150);
+    m_bool_configs[CONFIG_OUTDOORPVP_WINTERGRASP_CUSTOM_HONOR]    = sConfig.GetBoolDefault("OutdoorPvP.Wintergrasp.CustomHonorRewards", false);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_WIN_BATTLE]       = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorBattleWin", 3000);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_LOSE_BATTLE]      = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorBattleLose", 1250);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_DAMAGED_TOWER]    = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorDamageTower", 750);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_DESTROYED_TOWER]  = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorDestroyedTower", 750);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_DAMAGED_BUILDING] = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorDamagedBuilding", 750);
+    m_int_configs[CONFIG_OUTDOORPVP_WINTERGRASP_INTACT_BUILDING]  = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.CustomHonorIntactBuilding", 1500);
+    m_bool_configs[CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_ENABLE]  = sConfig.GetBoolDefault("OutdoorPvP.Wintergrasp.Antifarm.Enable", false);
+    m_int_configs[CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_ATK]  = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.Antifarm.Atk", 5);
+    m_int_configs[CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_DEF]  = sConfig.GetIntDefault("OutdoorPvP.Wintergrasp.Antifarm.Def", 5);
+
     m_bool_configs[CONFIG_NO_RESET_TALENT_COST] = sConfig.GetBoolDefault("NoResetTalentsCost", false);
     m_bool_configs[CONFIG_SHOW_KICK_IN_WORLD] = sConfig.GetBoolDefault("ShowKickInWorld", false);
     m_int_configs[CONFIG_INTERVAL_LOG_UPDATE] = sConfig.GetIntDefault("RecordUpdateTimeDiffInterval", 60000);
@@ -2864,3 +2881,29 @@
         m_realmCharCallback.FreeResult();
     }
 }
+
+void World::SendWintergraspState()
+{
+    OutdoorPvPWG *pvpWG = (OutdoorPvPWG*)sOutdoorPvPMgr.GetOutdoorPvPToZoneId(4197);
+    if (!pvpWG)
+        return;
+
+    for (SessionMap::const_iterator itr = m_sessions.begin(); itr != m_sessions.end(); ++itr)
+    {
+        if (!itr->second || !itr->second->GetPlayer() || !itr->second->GetPlayer()->IsInWorld())
+            continue;
+
+            if (pvpWG->isWarTime())
+            {
+                // "Battle in progress"
+                itr->second->GetPlayer()->SendUpdateWorldState(ClockWorldState[1], uint32(time(NULL)));
+            } else
+                // Time to next battle
+            {
+                pvpWG->SendInitWorldStatesTo(itr->second->GetPlayer());
+                itr->second->GetPlayer()->SendUpdateWorldState(ClockWorldState[1], uint32(time(NULL) + pvpWG->GetTimer()));
+                // Hide unneeded info which in center of screen
+                itr->second->GetPlayer()->SendInitWorldStates(itr->second->GetPlayer()->GetZoneId(), itr->second->GetPlayer()->GetAreaId());
+            }
+    }
+}
\ No newline at end of file
diff --git a/src/server/game/World/World.h b/src/server/game/World/World.h
--- a/src/server/game/World/World.h
+++ b/src/server/game/World/World.h
@@ -163,6 +163,9 @@
     CONFIG_CHATLOG_BGROUND,
     CONFIG_DUNGEON_FINDER_ENABLE,
     CONFIG_AUTOBROADCAST,
+    CONFIG_OUTDOORPVP_WINTERGRASP_ENABLED,
+    CONFIG_OUTDOORPVP_WINTERGRASP_CUSTOM_HONOR,
+    CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_ENABLE,
     BOOL_CONFIG_VALUE_COUNT
 };
 
@@ -308,6 +311,18 @@
     CONFIG_AUTOBROADCAST_INTERVAL,
     CONFIG_MAX_RESULTS_LOOKUP_COMMANDS,
     CONFIG_DB_PING_INTERVAL,
+    CONFIG_OUTDOORPVP_WINTERGRASP_START_TIME,
+    CONFIG_OUTDOORPVP_WINTERGRASP_BATTLE_TIME,
+    CONFIG_OUTDOORPVP_WINTERGRASP_INTERVAL,
+    CONFIG_OUTDOORPVP_WINTERGRASP_WIN_BATTLE,
+    CONFIG_OUTDOORPVP_WINTERGRASP_LOSE_BATTLE,
+    CONFIG_OUTDOORPVP_WINTERGRASP_DAMAGED_TOWER,
+    CONFIG_OUTDOORPVP_WINTERGRASP_DESTROYED_TOWER,
+    CONFIG_OUTDOORPVP_WINTERGRASP_DAMAGED_BUILDING,
+    CONFIG_OUTDOORPVP_WINTERGRASP_INTACT_BUILDING,
+    CONFIG_OUTDOORPVP_WINTERGRASP_SAVESTATE_PERIOD,
+    CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_ATK,
+    CONFIG_CONFIG_OUTDOORPVP_WINTERGRASP_ANTIFARM_DEF,
     INT_CONFIG_VALUE_COUNT
 };
 
@@ -527,6 +542,7 @@
         ~World();
 
         WorldSession* FindSession(uint32 id) const;
+        void SendWintergraspState();
         void AddSession(WorldSession *s);
         void SendAutoBroadcast();
         bool RemoveSession(uint32 id);
@@ -733,6 +749,18 @@
         inline uint16 GetMvAnticheatIgnoreAfterTeleport()   {return m_MvAnticheatIgnoreAfterTeleport;}
         
 
+        void SetWintergrapsTimer(uint32 timer, uint32 state)
+        {
+            m_WintergrapsTimer = timer;
+            m_WintergrapsState = state;
+        }
+
+        uint32 GetWintergrapsTimer() { return m_WintergrapsTimer; }
+        uint32 GetWintergrapsState() { return m_WintergrapsState; }
+
+        uint32 m_WintergrapsTimer;
+        uint32 m_WintergrapsState;
+
         void ProcessCliCommands();
         void QueueCliCommand(CliCommandHolder* commandHolder) { cliCmdQueue.add(commandHolder); }
 
diff --git a/src/server/scripts/CMakeLists.txt b/src/server/scripts/CMakeLists.txt
--- a/src/server/scripts/CMakeLists.txt
+++ b/src/server/scripts/CMakeLists.txt
@@ -1,156 +1,161 @@
-# Copyright (C) 2008-2010 Trinity <http://www.trinitycore.org/>
-#
-# This file is free software; as a special exception the author gives
-# unlimited permission to copy and/or distribute it, with or without
-# modifications, as long as this notice is preserved.
-#
-# This program is distributed in the hope that it will be useful, but
-# WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
-# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+# Copyright (C) 2008-2010 Trinity <http://www.trinitycore.org/>
+#
+# This file is free software; as a special exception the author gives
+# unlimited permission to copy and/or distribute it, with or without
+# modifications, as long as this notice is preserved.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
+# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+
+# Enable precompiled headers when using the GCC compiler.
+if( USE_SCRIPTPCH )
+  include_directories(
+    ${CMAKE_CURRENT_BINARY_DIR}
+  )
+endif()
+
+if( USE_SCRIPTPCH AND MSVC )
+  set(scripts_STAT_SRCS
+    PrecompiledHeaders/ScriptPCH.cpp
+    PrecompiledHeaders/ScriptPCH.h
+  )
+endif()
+
+message(STATUS "SCRIPT PREPARATIONS")
+include(Spells/CMakeLists.txt)
+
+include(Examples/CMakeLists.txt)
+
+set(scripts_STAT_SRCS
+  ${scripts_STAT_SRCS}
+  Custom/npc_teleport.cpp
+  
 
-# Enable precompiled headers when using the GCC compiler.
-if( USE_SCRIPTPCH )
-  include_directories(
-    ${CMAKE_CURRENT_BINARY_DIR}
-  )
-endif()
+Custom/buffNPC.cpp
 
-if( USE_SCRIPTPCH AND MSVC )
-  set(scripts_STAT_SRCS
-    PrecompiledHeaders/ScriptPCH.cpp
-    PrecompiledHeaders/ScriptPCH.h
-  )
-endif()
-
-message(STATUS "SCRIPT PREPARATIONS")
-include(Spells/CMakeLists.txt)
-
-include(Examples/CMakeLists.txt)
-
-set(scripts_STAT_SRCS
-  ${scripts_STAT_SRCS}
-  Custom/npc_teleport.cpp
-  ../game/AI/ScriptedAI/sc_npc_teleport.cpp
-  ../game/AI/ScriptedAI/sc_npc_teleport.h
-  ../game/AI/ScriptedAI/ScriptedEscortAI.cpp
-  ../game/AI/ScriptedAI/ScriptedCreature.cpp
-  ../game/AI/ScriptedAI/ScriptedFollowerAI.cpp
-  ../game/AI/ScriptedAI/ScriptedGuardAI.cpp
-  ../game/AI/ScriptedAI/ScriptedSimpleAI.cpp
-  Custom/guildmaster.cpp
-)
-
-if(SCRIPTS)
-  include(Custom/CMakeLists.txt)
-  include(World/CMakeLists.txt)
-  include(OutdoorPvP/CMakeLists.txt)
-  include(EasternKingdoms/CMakeLists.txt)
-  include(Kalimdor/CMakeLists.txt)
-  include(Outland/CMakeLists.txt)
-  include(Northrend/CMakeLists.txt)
-endif()
-
-message(STATUS "SCRIPT PREPARATION COMPLETE")
-message("")
-
-include_directories(
-  ${CMAKE_BINARY_DIR}
-  ${CMAKE_SOURCE_DIR}/dep/SFMT
-  ${CMAKE_SOURCE_DIR}/dep/mersennetwister
-  ${CMAKE_SOURCE_DIR}/dep/zlib
-  ${CMAKE_SOURCE_DIR}/src/server/shared
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
-  ${CMAKE_SOURCE_DIR}/src/server/shared/DataStores
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Debugging
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/CountedReference
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/LinkedReference
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Logging
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Packets
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Policies
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Threading
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Utilities
-  ${CMAKE_SOURCE_DIR}/src/server/collision
-  ${CMAKE_SOURCE_DIR}/src/server/collision/Management
-  ${CMAKE_SOURCE_DIR}/src/server/shared
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
-  ${CMAKE_SOURCE_DIR}/src/server/game/Account
-  ${CMAKE_SOURCE_DIR}/src/server/game/Achievements
-  ${CMAKE_SOURCE_DIR}/src/server/game/Addons
-  ${CMAKE_SOURCE_DIR}/src/server/game/AI
-  ${CMAKE_SOURCE_DIR}/src/server/game/AI/CoreAI
-  ${CMAKE_SOURCE_DIR}/src/server/game/AI/EventAI
-  ${CMAKE_SOURCE_DIR}/src/server/game/AI/ScriptedAI
-  ${CMAKE_SOURCE_DIR}/src/server/game/AuctionHouse
-  ${CMAKE_SOURCE_DIR}/src/server/game/Battlegrounds
-  ${CMAKE_SOURCE_DIR}/src/server/game/Battlegrounds/Zones
-  ${CMAKE_SOURCE_DIR}/src/server/game/Calendar
-  ${CMAKE_SOURCE_DIR}/src/server/game/Chat
-  ${CMAKE_SOURCE_DIR}/src/server/game/Chat/Channels
-  ${CMAKE_SOURCE_DIR}/src/server/game/Conditions
-  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
-  ${CMAKE_SOURCE_DIR}/src/server/game/Combat
-  ${CMAKE_SOURCE_DIR}/src/server/game/DataStores
-  ${CMAKE_SOURCE_DIR}/src/server/game/DungeonFinding
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Corpse
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Creature
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/DynamicObject
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Item
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Item/Container
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/GameObject
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Object
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Object/Updates
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Pet
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Player
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Transport
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Unit
-  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Vehicle
-  ${CMAKE_SOURCE_DIR}/src/server/game/Events
-  ${CMAKE_SOURCE_DIR}/src/server/game/Globals
-  ${CMAKE_SOURCE_DIR}/src/server/game/Grids
-  ${CMAKE_SOURCE_DIR}/src/server/game/Grids/Cells
-  ${CMAKE_SOURCE_DIR}/src/server/game/Grids/Notifiers
-  ${CMAKE_SOURCE_DIR}/src/server/game/Groups
-  ${CMAKE_SOURCE_DIR}/src/server/game/Guilds
-  ${CMAKE_SOURCE_DIR}/src/server/game/Instances
-  ${CMAKE_SOURCE_DIR}/src/server/game/LookingForGroup
-  ${CMAKE_SOURCE_DIR}/src/server/game/Loot
-  ${CMAKE_SOURCE_DIR}/src/server/game/Mails
-  ${CMAKE_SOURCE_DIR}/src/server/game/Miscellaneous
-  ${CMAKE_SOURCE_DIR}/src/server/game/Maps
-  ${CMAKE_SOURCE_DIR}/src/server/game/Movement
-  ${CMAKE_SOURCE_DIR}/src/server/game/Movement/Waypoints
-  ${CMAKE_SOURCE_DIR}/src/server/game/Opcodes
-  ${CMAKE_SOURCE_DIR}/src/server/game/OutdoorPvP
-  ${CMAKE_SOURCE_DIR}/src/server/game/Pools
-  ${CMAKE_SOURCE_DIR}/src/server/game/PrecompiledHeaders
-  ${CMAKE_SOURCE_DIR}/src/server/game/Quests
-  ${CMAKE_SOURCE_DIR}/src/server/game/Reputation
-  ${CMAKE_SOURCE_DIR}/src/server/game/Scripting
-  ${CMAKE_SOURCE_DIR}/src/server/game/Server
-  ${CMAKE_SOURCE_DIR}/src/server/game/Server/Protocol
-  ${CMAKE_SOURCE_DIR}/src/server/game/Server/Protocol/Handlers
-  ${CMAKE_SOURCE_DIR}/src/server/game/Skills
-  ${CMAKE_SOURCE_DIR}/src/server/game/Spells
-  ${CMAKE_SOURCE_DIR}/src/server/game/Spells/Auras
-  ${CMAKE_SOURCE_DIR}/src/server/game/Tools
-  ${CMAKE_SOURCE_DIR}/src/server/game/Weather
-  ${CMAKE_SOURCE_DIR}/src/server/game/World
-  ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders
-  ${ACE_INCLUDE_DIR}
-  ${MYSQL_INCLUDE_DIR}
-)
-
-add_library(scripts STATIC 
-${scripts_STAT_SRCS})
-
-# Generate precompiled header
-if( USE_SCRIPTPCH )
-  if(CMAKE_COMPILER_IS_GNUCXX)
-    add_precompiled_header(scripts ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/ScriptPCH.h)
-  elseif(MSVC)
-    add_native_precompiled_header(scripts ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/ScriptPCH)
-  endif()
-endif()
+../game/AI/ScriptedAI/sc_npc_teleport.cpp
+  ../game/AI/ScriptedAI/sc_npc_teleport.h
+  ../game/AI/ScriptedAI/ScriptedEscortAI.cpp
+  ../game/AI/ScriptedAI/ScriptedCreature.cpp
+  ../game/AI/ScriptedAI/ScriptedFollowerAI.cpp
+  ../game/AI/ScriptedAI/ScriptedGuardAI.cpp
+  ../game/AI/ScriptedAI/ScriptedSimpleAI.cpp
+  Custom/guildmaster.cpp
+)
+
+if(SCRIPTS)
+  include(Custom/CMakeLists.txt)
+  include(World/CMakeLists.txt)
+  include(OutdoorPvP/CMakeLists.txt)
+  include(EasternKingdoms/CMakeLists.txt)
+  include(Kalimdor/CMakeLists.txt)
+  include(Outland/CMakeLists.txt)
+  include(Northrend/CMakeLists.txt)
+endif()
+
+message(STATUS "SCRIPT PREPARATION COMPLETE")
+message("")
+
+include_directories(
+  ${CMAKE_BINARY_DIR}
+  ${CMAKE_SOURCE_DIR}/dep/SFMT
+  ${CMAKE_SOURCE_DIR}/dep/mersennetwister
+  ${CMAKE_SOURCE_DIR}/dep/zlib
+  ${CMAKE_SOURCE_DIR}/src/server/shared
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Cryptography
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
+  ${CMAKE_SOURCE_DIR}/src/server/shared/DataStores
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Debugging
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/CountedReference
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic/LinkedReference
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Dynamic
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Logging
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Packets
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Policies
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Threading
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Utilities
+  ${CMAKE_SOURCE_DIR}/src/server/collision
+  ${CMAKE_SOURCE_DIR}/src/server/collision/Management
+  ${CMAKE_SOURCE_DIR}/src/server/shared
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
+  ${CMAKE_SOURCE_DIR}/src/server/game/Account
+  ${CMAKE_SOURCE_DIR}/src/server/game/Achievements
+  ${CMAKE_SOURCE_DIR}/src/server/game/Addons
+  ${CMAKE_SOURCE_DIR}/src/server/game/AI
+  ${CMAKE_SOURCE_DIR}/src/server/game/AI/CoreAI
+  ${CMAKE_SOURCE_DIR}/src/server/game/AI/EventAI
+  ${CMAKE_SOURCE_DIR}/src/server/game/AI/ScriptedAI
+  ${CMAKE_SOURCE_DIR}/src/server/game/AuctionHouse
+  ${CMAKE_SOURCE_DIR}/src/server/game/Battlegrounds
+  ${CMAKE_SOURCE_DIR}/src/server/game/Battlegrounds/Zones
+  ${CMAKE_SOURCE_DIR}/src/server/game/Calendar
+  ${CMAKE_SOURCE_DIR}/src/server/game/Chat
+  ${CMAKE_SOURCE_DIR}/src/server/game/Chat/Channels
+  ${CMAKE_SOURCE_DIR}/src/server/game/Conditions
+  ${CMAKE_SOURCE_DIR}/src/server/shared/Configuration
+  ${CMAKE_SOURCE_DIR}/src/server/game/Combat
+  ${CMAKE_SOURCE_DIR}/src/server/game/DataStores
+  ${CMAKE_SOURCE_DIR}/src/server/game/DungeonFinding
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Corpse
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Creature
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/DynamicObject
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Item
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Item/Container
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/GameObject
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Object
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Object/Updates
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Pet
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Player
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Transport
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Unit
+  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Vehicle
+  ${CMAKE_SOURCE_DIR}/src/server/game/Events
+  ${CMAKE_SOURCE_DIR}/src/server/game/Globals
+  ${CMAKE_SOURCE_DIR}/src/server/game/Grids
+  ${CMAKE_SOURCE_DIR}/src/server/game/Grids/Cells
+  ${CMAKE_SOURCE_DIR}/src/server/game/Grids/Notifiers
+  ${CMAKE_SOURCE_DIR}/src/server/game/Groups
+  ${CMAKE_SOURCE_DIR}/src/server/game/Guilds
+  ${CMAKE_SOURCE_DIR}/src/server/game/Instances
+  ${CMAKE_SOURCE_DIR}/src/server/game/LookingForGroup
+  ${CMAKE_SOURCE_DIR}/src/server/game/Loot
+  ${CMAKE_SOURCE_DIR}/src/server/game/Mails
+  ${CMAKE_SOURCE_DIR}/src/server/game/Miscellaneous
+  ${CMAKE_SOURCE_DIR}/src/server/game/Maps
+  ${CMAKE_SOURCE_DIR}/src/server/game/Movement
+  ${CMAKE_SOURCE_DIR}/src/server/game/Movement/Waypoints
+  ${CMAKE_SOURCE_DIR}/src/server/game/Opcodes
+  ${CMAKE_SOURCE_DIR}/src/server/game/OutdoorPvP
+  ${CMAKE_SOURCE_DIR}/src/server/scripts/OutdoorPvP
+  ${CMAKE_SOURCE_DIR}/src/server/game/Pools
+  ${CMAKE_SOURCE_DIR}/src/server/game/PrecompiledHeaders
+  ${CMAKE_SOURCE_DIR}/src/server/game/Quests
+  ${CMAKE_SOURCE_DIR}/src/server/game/Reputation
+  ${CMAKE_SOURCE_DIR}/src/server/game/Scripting
+  ${CMAKE_SOURCE_DIR}/src/server/game/Server
+  ${CMAKE_SOURCE_DIR}/src/server/game/Server/Protocol
+  ${CMAKE_SOURCE_DIR}/src/server/game/Server/Protocol/Handlers
+  ${CMAKE_SOURCE_DIR}/src/server/game/Skills
+  ${CMAKE_SOURCE_DIR}/src/server/game/Spells
+  ${CMAKE_SOURCE_DIR}/src/server/game/Spells/Auras
+  ${CMAKE_SOURCE_DIR}/src/server/game/Tools
+  ${CMAKE_SOURCE_DIR}/src/server/game/Weather
+  ${CMAKE_SOURCE_DIR}/src/server/game/World
+  ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders
+  ${ACE_INCLUDE_DIR}
+  ${MYSQL_INCLUDE_DIR}
+)
+
+add_library(scripts STATIC 
+${scripts_STAT_SRCS})
+
+# Generate precompiled header
+if( USE_SCRIPTPCH )
+  if(CMAKE_COMPILER_IS_GNUCXX)
+    add_precompiled_header(scripts ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/ScriptPCH.h)
+  elseif(MSVC)
+    add_native_precompiled_header(scripts ${CMAKE_CURRENT_SOURCE_DIR}/PrecompiledHeaders/ScriptPCH)
+  endif()
+endif()
diff --git a/src/server/scripts/Custom/CMakeLists.txt b/src/server/scripts/Custom/CMakeLists.txt
--- a/src/server/scripts/Custom/CMakeLists.txt
+++ b/src/server/scripts/Custom/CMakeLists.txt
@@ -1,5 +1,6 @@
 set(scripts_STAT_SRCS
   ${scripts_STAT_SRCS}
+  
 )
 
 message("  -> Prepared: Custom")
diff --git a/src/server/scripts/Northrend/CMakeLists.txt b/src/server/scripts/Northrend/CMakeLists.txt
--- a/src/server/scripts/Northrend/CMakeLists.txt
+++ b/src/server/scripts/Northrend/CMakeLists.txt
@@ -1,220 +1,221 @@
-set(scripts_STAT_SRCS
-  ${scripts_STAT_SRCS}
-  Northrend/storm_peaks.cpp
-  Northrend/isle_of_conquest.cpp
-  Northrend/Ulduar/HallsOfLightning/instance_halls_of_lightning.cpp
-  Northrend/Ulduar/HallsOfLightning/boss_bjarngrim.cpp
-  Northrend/Ulduar/HallsOfLightning/halls_of_lightning.h
-  Northrend/Ulduar/HallsOfLightning/boss_ionar.cpp
-  Northrend/Ulduar/HallsOfLightning/boss_volkhan.cpp
-  Northrend/Ulduar/HallsOfLightning/boss_loken.cpp
-  Northrend/Ulduar/ulduar/boss_general_vezax.cpp
-  Northrend/Ulduar/ulduar/ulduar_teleporter.cpp
-  Northrend/Ulduar/ulduar/boss_thorim.cpp
-  Northrend/Ulduar/ulduar/boss_ignis.cpp
-  Northrend/Ulduar/ulduar/boss_algalon.cpp
-  Northrend/Ulduar/ulduar/instance_ulduar.cpp
-  Northrend/Ulduar/ulduar/boss_auriaya.cpp
-  Northrend/Ulduar/ulduar/boss_yoggsaron.cpp
-  Northrend/Ulduar/ulduar/boss_hodir.cpp
-  Northrend/Ulduar/ulduar/boss_assembly_of_iron.cpp
-  Northrend/Ulduar/ulduar/boss_flame_leviathan.cpp
-  Northrend/Ulduar/ulduar/boss_xt002.cpp
-  Northrend/Ulduar/ulduar/boss_mimiron.cpp
-  Northrend/Ulduar/ulduar/ulduar.h
-  Northrend/Ulduar/ulduar/boss_freya.cpp
-  Northrend/Ulduar/ulduar/boss_razorscale.cpp
-  Northrend/Ulduar/ulduar/boss_kologarn.cpp
-  Northrend/Ulduar/HallsOfStone/boss_krystallus.cpp
-  Northrend/Ulduar/HallsOfStone/halls_of_stone.h
-  Northrend/Ulduar/HallsOfStone/instance_halls_of_stone.cpp
-  Northrend/Ulduar/HallsOfStone/boss_maiden_of_grief.cpp
-  Northrend/Ulduar/HallsOfStone/boss_sjonnir.cpp
-  Northrend/Ulduar/HallsOfStone/halls_of_stone.cpp
-  Northrend/ObsidianSanctum/instance_obsidian_sanctum.cpp
-  Northrend/ObsidianSanctum/obsidian_sanctum.h
-  Northrend/ObsidianSanctum/boss_sartharion.cpp
-  Northrend/FrozenHalls/HallsOfReflection/halls_of_reflection.h
-  Northrend/FrozenHalls/HallsOfReflection/boss_falric.cpp
-  Northrend/FrozenHalls/HallsOfReflection/instance_halls_of_reflection.cpp
-  Northrend/FrozenHalls/HallsOfReflection/halls_of_reflection.cpp
-  Northrend/FrozenHalls/HallsOfReflection/boss_marwyn.cpp
-
-Northrend/FrozenHalls/HallsOfReflection/boss_the_lich_king_hor.cpp
-
-Northrend/FrozenHalls/PitOfSaron/boss_forgemaster_garfrost.cpp
-  Northrend/FrozenHalls/PitOfSaron/boss_krickandick.cpp
-  Northrend/FrozenHalls/PitOfSaron/pit_of_saron.cpp
-  Northrend/FrozenHalls/PitOfSaron/boss_scourgelord_tyrannus.cpp
-  Northrend/FrozenHalls/PitOfSaron/pit_of_saron.h
-  Northrend/FrozenHalls/PitOfSaron/instance_pit_of_saron.cpp
-  Northrend/FrozenHalls/ForgeOfSouls/forge_of_souls.cpp
-  Northrend/FrozenHalls/ForgeOfSouls/boss_bronjahm.cpp
-  Northrend/FrozenHalls/ForgeOfSouls/instance_forge_of_souls.cpp
-  Northrend/FrozenHalls/ForgeOfSouls/boss_devourer_of_souls.cpp
-  Northrend/FrozenHalls/ForgeOfSouls/forge_of_souls.h
-  Northrend/Nexus/EyeOfEternity/boss_malygos.cpp
-  Northrend/Nexus/EyeOfEternity/instance_eye_of_eternity.cpp
- 
-Northrend/Nexus/EyeOfEternity/npc_alexsrtaza.cpp
-   Northrend/Nexus/EyeOfEternity/eye_of_eternity.h
-  Northrend/Nexus/Oculus/boss_eregos.cpp
-  Northrend/Nexus/Oculus/boss_drakos.cpp
-  Northrend/Nexus/Oculus/oculus.h
-  Northrend/Nexus/Oculus/boss_varos.cpp
-  Northrend/Nexus/Oculus/boss_urom.cpp
-  Northrend/Nexus/Oculus/oculus.cpp
-  Northrend/Nexus/Oculus/instance_oculus.cpp
-  Northrend/Nexus/Nexus/commander_kolurg.cpp
-  Northrend/Nexus/Nexus/commander_stoutbeard.cpp
-  Northrend/Nexus/Nexus/boss_ormorok.cpp
-  Northrend/Nexus/Nexus/boss_magus_telestra.cpp
-  Northrend/Nexus/Nexus/instance_nexus.cpp
-  Northrend/Nexus/Nexus/boss_keristrasza.cpp
-  Northrend/Nexus/Nexus/boss_anomalus.cpp
-  Northrend/Nexus/Nexus/nexus.h
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_anubarak_trial.cpp
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_faction_champions.cpp
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_lord_jaraxxus.cpp
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/trial_of_the_crusader.h
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/trial_of_the_crusader.cpp
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_twin_valkyr.cpp
-  Northrend/CrusadersColiseum/TrialOfTheCrusader/instance_trial_of_the_crusader.cpp
-Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_beasts_of_northrend.cpp
-  
-Northrend/CrusadersColiseum/TrialOfTheChampion/trial_of_the_champion.h
-  Northrend/CrusadersColiseum/TrialOfTheChampion/trial_of_the_champion.cpp
-  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_grand_champions.cpp
-  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_black_knight.cpp
-  Northrend/CrusadersColiseum/TrialOfTheChampion/instance_trial_of_the_champion.cpp
-  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_argent_challenge.cpp
-  Northrend/Naxxramas/boss_loatheb.cpp
-  Northrend/Naxxramas/boss_anubrekhan.cpp
-  Northrend/Naxxramas/boss_maexxna.cpp
-  Northrend/Naxxramas/boss_patchwerk.cpp
-  Northrend/Naxxramas/boss_gothik.cpp
-  Northrend/Naxxramas/boss_faerlina.cpp
-  Northrend/Naxxramas/boss_gluth.cpp
-  Northrend/Naxxramas/boss_four_horsemen.cpp
-  Northrend/Naxxramas/naxxramas.h
-  Northrend/Naxxramas/boss_kelthuzad.cpp
-  Northrend/Naxxramas/boss_heigan.cpp
-  Northrend/Naxxramas/boss_thaddius.cpp
-  Northrend/Naxxramas/boss_razuvious.cpp
-  Northrend/Naxxramas/boss_sapphiron.cpp
-  Northrend/Naxxramas/instance_naxxramas.cpp
-  Northrend/Naxxramas/boss_grobbulus.cpp
-  Northrend/Naxxramas/boss_noth.cpp
-  Northrend/crystalsong_forest.cpp
-  Northrend/VaultOfArchavon/boss_archavon.cpp
-  Northrend/VaultOfArchavon/boss_koralon.cpp
-  Northrend/VaultOfArchavon/vault_of_archavon.h
-  Northrend/VaultOfArchavon/instance_vault_of_archavon.cpp
-  Northrend/VaultOfArchavon/boss_emalon.cpp
-  Northrend/VaultOfArchavon/boss_toravon.cpp
-  Northrend/sholazar_basin.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/boss_palehoof.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/boss_svala.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/instance_pinnacle.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/boss_ymiron.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/boss_skadi.cpp
-  Northrend/UtgardeKeep/UtgardePinnacle/utgarde_pinnacle.h
-  Northrend/UtgardeKeep/UtgardeKeep/boss_ingvar_the_plunderer.cpp
-  Northrend/UtgardeKeep/UtgardeKeep/boss_skarvald_dalronn.cpp
-  Northrend/UtgardeKeep/UtgardeKeep/utgarde_keep.h
-  Northrend/UtgardeKeep/UtgardeKeep/instance_utgarde_keep.cpp
-  Northrend/UtgardeKeep/UtgardeKeep/boss_keleseth.cpp
-  Northrend/UtgardeKeep/UtgardeKeep/utgarde_keep.cpp
-  Northrend/dragonblight.cpp
-  Northrend/grizzly_hills.cpp
-  Northrend/AzjolNerub/AzjolNerub/azjol_nerub.h
-  Northrend/AzjolNerub/AzjolNerub/instance_azjol_nerub.cpp
-  Northrend/AzjolNerub/AzjolNerub/boss_krikthir_the_gatewatcher.cpp
-  Northrend/AzjolNerub/AzjolNerub/boss_hadronox.cpp
-  Northrend/AzjolNerub/AzjolNerub/boss_anubarak.cpp
-  Northrend/AzjolNerub/ahnkahet/boss_herald_volazj.cpp
-  Northrend/AzjolNerub/ahnkahet/boss_prince_taldaram.cpp
-  Northrend/AzjolNerub/ahnkahet/instance_ahnkahet.cpp
-  Northrend/AzjolNerub/ahnkahet/boss_jedoga_shadowseeker.cpp
-  Northrend/AzjolNerub/ahnkahet/boss_elder_nadox.cpp
-  Northrend/AzjolNerub/ahnkahet/boss_amanitar.cpp
-  Northrend/AzjolNerub/ahnkahet/ahnkahet.h
-  Northrend/VioletHold/boss_zuramat.cpp
-  Northrend/VioletHold/instance_violet_hold.cpp
-  Northrend/VioletHold/boss_lavanthor.cpp
-  Northrend/VioletHold/boss_cyanigosa.cpp
-  Northrend/VioletHold/violet_hold.h
-  Northrend/VioletHold/boss_ichoron.cpp
-  Northrend/VioletHold/boss_moragg.cpp
-  Northrend/VioletHold/boss_xevozz.cpp
-  Northrend/VioletHold/boss_erekem.cpp
-  Northrend/VioletHold/violet_hold.cpp
-  
-
-Northrend/IcecrownCitadel/boss_deathbringer_saurfang.cpp
-
-Northrend/IcecrownCitadel/boss_festergut.cpp
-    
-Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp
-    
-Northrend/IcecrownCitadel/boss_lord_marrowgar.cpp
- 
-Northrend/IcecrownCitadel/boss_professor_putricide.cpp
-     
-Northrend/IcecrownCitadel/icecrown_citadel.h
-    
-
-Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp
-
-Northrend/IcecrownCitadel/boss_blood_queen_lana_thel.cpp
-
-Northrend/IcecrownCitadel/boss_gunship_battle.cpp
-
-Northrend/IcecrownCitadel/boss_rat_des_blutes.cpp
-
-Northrend/IcecrownCitadel/boss_rotface.cpp
-
-Northrend/IcecrownCitadel/boss_sindragosa.cpp
-
-Northrend/IcecrownCitadel/boss_the_lich_king.cpp
-
-Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp
-
-Northrend/IcecrownCitadel/icecrown_citadel.cpp
-
-
-Northrend/RubySanctum/boss_baltharus.cpp
-
-Northrend/RubySanctum/boss_halion.cpp
-
-Northrend/RubySanctum/boss_ragefire.cpp
-
-Northrend/RubySanctum/boss_zarithrian.cpp
-
-Northrend/RubySanctum/instance_ruby_sanctum.cpp
-
-Northrend/RubySanctum/ruby_sanctum.h
-
-
-
-Northrend/zuldrak.cpp
-  Northrend/icecrown.cpp
-  Northrend/Gundrak/boss_slad_ran.cpp
-  Northrend/Gundrak/instance_gundrak.cpp
-  Northrend/Gundrak/boss_drakkari_colossus.cpp
-  Northrend/Gundrak/gundrak.h
-  Northrend/Gundrak/boss_gal_darah.cpp
-  Northrend/Gundrak/boss_moorabi.cpp
-  Northrend/Gundrak/boss_eck.cpp
-  Northrend/borean_tundra.cpp
-  Northrend/howling_fjord.cpp
-  Northrend/dalaran.cpp
-  Northrend/DraktharonKeep/boss_trollgore.cpp
-  Northrend/DraktharonKeep/instance_drak_tharon_keep.cpp
-  Northrend/DraktharonKeep/boss_novos.cpp
-  Northrend/DraktharonKeep/drak_tharon_keep.h
-  Northrend/DraktharonKeep/boss_tharon_ja.cpp
-  Northrend/DraktharonKeep/boss_dred.cpp
-)
-
-message("  -> Prepared: Northrend")
+set(scripts_STAT_SRCS
+  ${scripts_STAT_SRCS}
+  Northrend/storm_peaks.cpp
+  Northrend/isle_of_conquest.cpp
+  Northrend/Ulduar/HallsOfLightning/instance_halls_of_lightning.cpp
+  Northrend/Ulduar/HallsOfLightning/boss_bjarngrim.cpp
+  Northrend/Ulduar/HallsOfLightning/halls_of_lightning.h
+  Northrend/Ulduar/HallsOfLightning/boss_ionar.cpp
+  Northrend/Ulduar/HallsOfLightning/boss_volkhan.cpp
+  Northrend/Ulduar/HallsOfLightning/boss_loken.cpp
+  Northrend/Ulduar/ulduar/boss_general_vezax.cpp
+  Northrend/Ulduar/ulduar/ulduar_teleporter.cpp
+  Northrend/Ulduar/ulduar/boss_thorim.cpp
+  Northrend/Ulduar/ulduar/boss_ignis.cpp
+  Northrend/Ulduar/ulduar/boss_algalon.cpp
+  Northrend/Ulduar/ulduar/instance_ulduar.cpp
+  Northrend/Ulduar/ulduar/boss_auriaya.cpp
+  Northrend/Ulduar/ulduar/boss_yoggsaron.cpp
+  Northrend/Ulduar/ulduar/boss_hodir.cpp
+  Northrend/Ulduar/ulduar/boss_assembly_of_iron.cpp
+  Northrend/Ulduar/ulduar/boss_flame_leviathan.cpp
+  Northrend/Ulduar/ulduar/boss_xt002.cpp
+  Northrend/Ulduar/ulduar/boss_mimiron.cpp
+  Northrend/Ulduar/ulduar/ulduar.h
+  Northrend/Ulduar/ulduar/boss_freya.cpp
+  Northrend/Ulduar/ulduar/boss_razorscale.cpp
+  Northrend/Ulduar/ulduar/boss_kologarn.cpp
+  Northrend/Ulduar/HallsOfStone/boss_krystallus.cpp
+  Northrend/Ulduar/HallsOfStone/halls_of_stone.h
+  Northrend/Ulduar/HallsOfStone/instance_halls_of_stone.cpp
+  Northrend/Ulduar/HallsOfStone/boss_maiden_of_grief.cpp
+  Northrend/Ulduar/HallsOfStone/boss_sjonnir.cpp
+  Northrend/Ulduar/HallsOfStone/halls_of_stone.cpp
+  Northrend/ObsidianSanctum/instance_obsidian_sanctum.cpp
+  Northrend/ObsidianSanctum/obsidian_sanctum.h
+  Northrend/ObsidianSanctum/boss_sartharion.cpp
+  Northrend/FrozenHalls/HallsOfReflection/halls_of_reflection.h
+  Northrend/FrozenHalls/HallsOfReflection/boss_falric.cpp
+  Northrend/FrozenHalls/HallsOfReflection/instance_halls_of_reflection.cpp
+  Northrend/FrozenHalls/HallsOfReflection/halls_of_reflection.cpp
+  Northrend/FrozenHalls/HallsOfReflection/boss_marwyn.cpp
+
+Northrend/FrozenHalls/HallsOfReflection/boss_the_lich_king_hor.cpp
+
+Northrend/FrozenHalls/PitOfSaron/boss_forgemaster_garfrost.cpp
+  Northrend/FrozenHalls/PitOfSaron/boss_krickandick.cpp
+  Northrend/FrozenHalls/PitOfSaron/pit_of_saron.cpp
+  Northrend/FrozenHalls/PitOfSaron/boss_scourgelord_tyrannus.cpp
+  Northrend/FrozenHalls/PitOfSaron/pit_of_saron.h
+  Northrend/FrozenHalls/PitOfSaron/instance_pit_of_saron.cpp
+  Northrend/FrozenHalls/ForgeOfSouls/forge_of_souls.cpp
+  Northrend/FrozenHalls/ForgeOfSouls/boss_bronjahm.cpp
+  Northrend/FrozenHalls/ForgeOfSouls/instance_forge_of_souls.cpp
+  Northrend/FrozenHalls/ForgeOfSouls/boss_devourer_of_souls.cpp
+  Northrend/FrozenHalls/ForgeOfSouls/forge_of_souls.h
+  Northrend/Nexus/EyeOfEternity/boss_malygos.cpp
+  Northrend/Nexus/EyeOfEternity/instance_eye_of_eternity.cpp
+ 
+Northrend/Nexus/EyeOfEternity/npc_alexsrtaza.cpp
+   Northrend/Nexus/EyeOfEternity/eye_of_eternity.h
+  Northrend/Nexus/Oculus/boss_eregos.cpp
+  Northrend/Nexus/Oculus/boss_drakos.cpp
+  Northrend/Nexus/Oculus/oculus.h
+  Northrend/Nexus/Oculus/boss_varos.cpp
+  Northrend/Nexus/Oculus/boss_urom.cpp
+  Northrend/Nexus/Oculus/oculus.cpp
+  Northrend/Nexus/Oculus/instance_oculus.cpp
+  Northrend/Nexus/Nexus/commander_kolurg.cpp
+  Northrend/Nexus/Nexus/commander_stoutbeard.cpp
+  Northrend/Nexus/Nexus/boss_ormorok.cpp
+  Northrend/Nexus/Nexus/boss_magus_telestra.cpp
+  Northrend/Nexus/Nexus/instance_nexus.cpp
+  Northrend/Nexus/Nexus/boss_keristrasza.cpp
+  Northrend/Nexus/Nexus/boss_anomalus.cpp
+  Northrend/Nexus/Nexus/nexus.h
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_anubarak_trial.cpp
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_faction_champions.cpp
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_lord_jaraxxus.cpp
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/trial_of_the_crusader.h
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/trial_of_the_crusader.cpp
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_twin_valkyr.cpp
+  Northrend/CrusadersColiseum/TrialOfTheCrusader/instance_trial_of_the_crusader.cpp
+Northrend/CrusadersColiseum/TrialOfTheCrusader/boss_beasts_of_northrend.cpp
+  
+Northrend/CrusadersColiseum/TrialOfTheChampion/trial_of_the_champion.h
+  Northrend/CrusadersColiseum/TrialOfTheChampion/trial_of_the_champion.cpp
+  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_grand_champions.cpp
+  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_black_knight.cpp
+  Northrend/CrusadersColiseum/TrialOfTheChampion/instance_trial_of_the_champion.cpp
+  Northrend/CrusadersColiseum/TrialOfTheChampion/boss_argent_challenge.cpp
+  Northrend/Naxxramas/boss_loatheb.cpp
+  Northrend/Naxxramas/boss_anubrekhan.cpp
+  Northrend/Naxxramas/boss_maexxna.cpp
+  Northrend/Naxxramas/boss_patchwerk.cpp
+  Northrend/Naxxramas/boss_gothik.cpp
+  Northrend/Naxxramas/boss_faerlina.cpp
+  Northrend/Naxxramas/boss_gluth.cpp
+  Northrend/Naxxramas/boss_four_horsemen.cpp
+  Northrend/Naxxramas/naxxramas.h
+  Northrend/Naxxramas/boss_kelthuzad.cpp
+  Northrend/Naxxramas/boss_heigan.cpp
+  Northrend/Naxxramas/boss_thaddius.cpp
+  Northrend/Naxxramas/boss_razuvious.cpp
+  Northrend/Naxxramas/boss_sapphiron.cpp
+  Northrend/Naxxramas/instance_naxxramas.cpp
+  Northrend/Naxxramas/boss_grobbulus.cpp
+  Northrend/Naxxramas/boss_noth.cpp
+  Northrend/crystalsong_forest.cpp
+  Northrend/VaultOfArchavon/boss_archavon.cpp
+  Northrend/VaultOfArchavon/boss_koralon.cpp
+  Northrend/VaultOfArchavon/vault_of_archavon.h
+  Northrend/VaultOfArchavon/instance_vault_of_archavon.cpp
+  Northrend/VaultOfArchavon/boss_emalon.cpp
+  Northrend/VaultOfArchavon/boss_toravon.cpp
+  Northrend/sholazar_basin.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/boss_palehoof.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/boss_svala.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/instance_pinnacle.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/boss_ymiron.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/boss_skadi.cpp
+  Northrend/UtgardeKeep/UtgardePinnacle/utgarde_pinnacle.h
+  Northrend/UtgardeKeep/UtgardeKeep/boss_ingvar_the_plunderer.cpp
+  Northrend/UtgardeKeep/UtgardeKeep/boss_skarvald_dalronn.cpp
+  Northrend/UtgardeKeep/UtgardeKeep/utgarde_keep.h
+  Northrend/UtgardeKeep/UtgardeKeep/instance_utgarde_keep.cpp
+  Northrend/UtgardeKeep/UtgardeKeep/boss_keleseth.cpp
+  Northrend/UtgardeKeep/UtgardeKeep/utgarde_keep.cpp
+  Northrend/dragonblight.cpp
+  Northrend/grizzly_hills.cpp
+  Northrend/AzjolNerub/AzjolNerub/azjol_nerub.h
+  Northrend/AzjolNerub/AzjolNerub/instance_azjol_nerub.cpp
+  Northrend/AzjolNerub/AzjolNerub/boss_krikthir_the_gatewatcher.cpp
+  Northrend/AzjolNerub/AzjolNerub/boss_hadronox.cpp
+  Northrend/AzjolNerub/AzjolNerub/boss_anubarak.cpp
+  Northrend/AzjolNerub/ahnkahet/boss_herald_volazj.cpp
+  Northrend/AzjolNerub/ahnkahet/boss_prince_taldaram.cpp
+  Northrend/AzjolNerub/ahnkahet/instance_ahnkahet.cpp
+  Northrend/AzjolNerub/ahnkahet/boss_jedoga_shadowseeker.cpp
+  Northrend/AzjolNerub/ahnkahet/boss_elder_nadox.cpp
+  Northrend/AzjolNerub/ahnkahet/boss_amanitar.cpp
+  Northrend/AzjolNerub/ahnkahet/ahnkahet.h
+  Northrend/VioletHold/boss_zuramat.cpp
+  Northrend/VioletHold/instance_violet_hold.cpp
+  Northrend/VioletHold/boss_lavanthor.cpp
+  Northrend/VioletHold/boss_cyanigosa.cpp
+  Northrend/VioletHold/violet_hold.h
+  Northrend/VioletHold/boss_ichoron.cpp
+  Northrend/VioletHold/boss_moragg.cpp
+  Northrend/VioletHold/boss_xevozz.cpp
+  Northrend/VioletHold/boss_erekem.cpp
+  Northrend/VioletHold/violet_hold.cpp
+  
+
+Northrend/IcecrownCitadel/boss_deathbringer_saurfang.cpp
+
+Northrend/IcecrownCitadel/boss_festergut.cpp
+    
+Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp
+    
+Northrend/IcecrownCitadel/boss_lord_marrowgar.cpp
+ 
+Northrend/IcecrownCitadel/boss_professor_putricide.cpp
+     
+Northrend/IcecrownCitadel/icecrown_citadel.h
+    
+
+Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp
+
+Northrend/IcecrownCitadel/boss_blood_queen_lana_thel.cpp
+
+Northrend/IcecrownCitadel/boss_gunship_battle.cpp
+
+Northrend/IcecrownCitadel/boss_rat_des_blutes.cpp
+
+Northrend/IcecrownCitadel/boss_rotface.cpp
+
+Northrend/IcecrownCitadel/boss_sindragosa.cpp
+
+Northrend/IcecrownCitadel/boss_the_lich_king.cpp
+
+Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp
+
+Northrend/IcecrownCitadel/icecrown_citadel.cpp
+
+
+Northrend/RubySanctum/boss_baltharus.cpp
+
+Northrend/RubySanctum/boss_halion.cpp
+
+Northrend/RubySanctum/boss_ragefire.cpp
+
+Northrend/RubySanctum/boss_zarithrian.cpp
+
+Northrend/RubySanctum/instance_ruby_sanctum.cpp
+
+Northrend/RubySanctum/ruby_sanctum.h
+
+
+
+Northrend/zuldrak.cpp
+  Northrend/icecrown.cpp
+  Northrend/wintergrasp.cpp
+  Northrend/Gundrak/boss_slad_ran.cpp
+  Northrend/Gundrak/instance_gundrak.cpp
+  Northrend/Gundrak/boss_drakkari_colossus.cpp
+  Northrend/Gundrak/gundrak.h
+  Northrend/Gundrak/boss_gal_darah.cpp
+  Northrend/Gundrak/boss_moorabi.cpp
+  Northrend/Gundrak/boss_eck.cpp
+  Northrend/borean_tundra.cpp
+  Northrend/howling_fjord.cpp
+  Northrend/dalaran.cpp
+  Northrend/DraktharonKeep/boss_trollgore.cpp
+  Northrend/DraktharonKeep/instance_drak_tharon_keep.cpp
+  Northrend/DraktharonKeep/boss_novos.cpp
+  Northrend/DraktharonKeep/drak_tharon_keep.h
+  Northrend/DraktharonKeep/boss_tharon_ja.cpp
+  Northrend/DraktharonKeep/boss_dred.cpp
+)
+
+message("  -> Prepared: Northrend")
diff --git a/src/server/scripts/Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp b/src/server/scripts/Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp
--- a/src/server/scripts/Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp
+++ b/src/server/scripts/Northrend/IcecrownCitadel/boss_lady_deathwhisper.cpp
@@ -111,12 +111,7 @@
 
                 DoCast(me, SPELL_SHADOW_CHANNELING);
 
-                if(m_uiPhase == 1)
-                    DoStartNoMovement(me->getVictim());
-                else if(m_uiPhase == 2)
-                    DoStartMovement(me->getVictim());
-
-                if (pInstance && me->isAlive())
+                if (pInstance)
                     pInstance->SetData(DATA_DEATHWHISPER_EVENT, NOT_STARTED);
             }
 
@@ -248,6 +243,11 @@
 
             void UpdateAI(const uint32 uiDiff)
             {
+                if(m_uiPhase == 1)
+                    DoStartNoMovement(me->getVictim());
+                else if(m_uiPhase == 2)
+                    DoStartMovement(me->getVictim());
+
                 if (m_uiIntroTimer <= uiDiff && bIntro && m_uiIntroPhase < 7)
                 {
                     switch (m_uiIntroPhase)
diff --git a/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp b/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
--- a/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
+++ b/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
@@ -1,1260 +1,1259 @@
-/*
-* Copyright (C) 2009 - 2010 TrinityCore <http://www.trinitycore.org/>
-*
-* This program is free software; you can redistribute it and/or modify
-* it under the terms of the GNU General Public License as published by
-* the Free Software Foundation; either version 2 of the License, or
-* (at your option) any later version.
-*
-* This program is distributed in the hope that it will be useful,
-* but WITHOUT ANY WARRANTY; without even the implied warranty of
-* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
-* GNU General Public License for more details.
-*
-* You should have received a copy of the GNU General Public License
-* along with this program; if not, write to the Free Software
-* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
-*/
-
-#include "ObjectMgr.h"
-#include "ScriptMgr.h"
-#include "ScriptedCreature.h"
-#include "SpellScript.h"
-#include "SpellAuraEffects.h"
-#include "icecrown_citadel.h"
-
-/*
-//Speaking to Tirion Fordring to begin the fight
-Long have I waited for this day, hero. Are you and your allies prepared to bring the Lich King to justice? We charge on your command!
- We are prepared, Highlord. Let us battle for the fate of Azeroth! For the light of dawn!
-*/
-#define GOSSIP_START_EVENT "We are prepared, Highlord. Let us battle for the fate of Azeroth! For the light of dawn!"
-
-enum Yells
-{
-    SAY_INTRO_1_KING         = -1810001,
-    SAY_INTRO_2_TIRION       = -1810002,
-    SAY_INTRO_3_KING         = -1810003,
-    SAY_INTRO_4_TIRION       = -1810004,
-    SAY_INTRO_5_KING         = -1810005,
-    SAY_AGGRO                = -1810006,
-    SAY_REMORSELESS_WINTER   = -1810007,
-    SAY_RANDOM_1             = -1810008,
-    SAY_RANDOM_2             = -1810009,
-    SAY_KILL_1               = -1810010,
-    SAY_KILL_2               = -1810011,
-    SAY_BERSERK              = -1810012,
-    SAY_ENDING_1_KING        = -1810013,
-    SAY_ENDING_2_KING        = -1810014,
-    SAY_ENDING_3_KING        = -1810015,
-    SAY_ENDING_4_KING        = -1810016,
-    SAY_ENDING_5_TIRION      = -1810017,
-    SAY_ENDING_6_KING        = -1810018,
-    SAY_ENDING_8_TIRION      = -1810020,
-    SAY_ENDING_9_FATHER      = -1810021,
-    SAY_ENDING_10_TIRION     = -1810022,
-    SAY_ENDING_11_FATHER     = -1810023,
-    SAY_ENDING_12_KING       = -1810024,
-    SAY_DEATH_KING           = -1810025,
-    SAY_ESCAPE_FROSTMOURNE   = -1810026,
-    SAY_HARVEST_SOUL         = -1810027,
-    SAY_DEVOURED_FROSTMOURNE = -1810028,
-    SAY_SUMMON_VALKYR        = -1810029,
-    SAY_BROKEN_ARENA         = -1810030,
-    SAY_10_PROZENT           = -1810031,
-    SAY_EMOTE_DEFILE         = -1810032,
-};
-
-enum Spells
-{
-    SPELL_SUMMON_SHAMBLING_HORROR    = 70372,
-    SPELL_SUMMON_DRUDGE_GHOULS       = 70359,
-    SPELL_SUMMON_ICE_SPEHERE         = 69103,
-    SPELL_SUMMON_RAGING_SPIRIT       = 69200,
-    SPELL_SUMMON_VALKYR              = 74361,
-    SPELL_SUMMON_DEFILE              = 72762,
-    SPELL_SUMMON_VILE_SPIRIT         = 70498,
-    SPELL_SUMMON_BROKEN_FROSTMOURNE  = 72406,
-    SPELL_SUMMON_SHADOW_TRAP         = 73539,
-    SPELL_INFEST                     = 70541,
-    SPELL_NECROTIC_PLAGUE            = 70338,
-    SPELL_NECROTIC_PLAGUE_IMMUNITY   = 72846,
-    SPELL_PLAGUE_SIPHON              = 74074,
-    SPELL_REMORSELES_WINTER          = 68981,
-    SPELL_PAIN_AND_SUFFERING         = 72133,
-    SPELL_WINGS_OF_THE_DAMNED        = 74352,
-    SPELL_SOUL_REAPER                = 69409,
-    SPELL_SOUL_REAPER_HASTE_AURA     = 69410,
-    SPELL_HARVEST_SOUL_TELEPORT      = 71372,
-    SPELL_HARVEST_SOULS              = 74325,
-    SPELL_QUAKE                      = 72262,
-    SPELL_CHANNEL_KING               = 71769,
-    SPELL_BROKEN_FROSTMOURNE         = 72398,
-    SPELL_BOOM_VISUAL                = 72726,
-    SPELL_ICEBLOCK_TRIGGER           = 71614,
-    SPELL_TIRION_LIGHT               = 71797,
-    SPELL_FROSTMOURNE_TRIGGER        = 72405,
-    SPELL_DISENGAGE                  = 61508,
-    SPELL_FURY_OF_FROSTMOURNE        = 72350,
-    SPELL_REVIVE_VISUAL              = 37755,
-    SPELL_REVIVE                     = 72429,
-    SPELL_REVIVE_EFFECT              = 72423,
-    SPELL_CLONE_PLAYER               = 57507,
-    SPELL_DEFILE                     = 72743,
-    SPELL_ICE_PULSE                  = 69091,
-    SPELL_ICE_BURST                  = 69108,
-    SPELL_LIFE_SIPHON                = 73783,
-    SPELL_SOUL_SHRIEK                = 69242,
-    SPELL_WHOCKVAWE                  = 72149,
-    SPELL_ENRAGE                     = 72143,
-    SPELL_BURST                      = 70503,
-    SPELL_VILE_SPIRIT_DISTANCE_CHECK = 70502,
-    SPELL_ICE_BURST_DISTANCE_CHECK   = 69109,
-    SPELL_VILE_SPIRIT_ACTIVE         = 72130
-
-    //SPELL_70501 //Vile Spirit Move Target Search
-};
-
-enum ePoints
-{
-    POINT_PLATFORM_CENTRE            = 3659701,
-    POINT_PLARFORM_END               = 3659702
-};
-
-struct Position MovePos[]=
-{
-    {461.792633f, -2125.855957f, 1040.860107f, 0.0f}, // move
-    {503.156525f, -2124.516602f, 1040.860107f, 0.0f}, // move ending
-    {490.110779f, -2124.989014f, 1040.860352f, 0.0f}, // move tirion frostmourne
-    {478.333466f, -2124.618652f, 1040.859863f, 0.0f}, // move tirion attack
-    {498.004486f, 2201.573486f, 1046.093872f, 0.0f}  // move valkyr
-};
-
-//TODO:
-//Need fixed:
-//raging spirit aura
-//raging spirit cast 69198
-//69200 - must be aura with duration: 5 seconds
-
-/*struct Locations
-{
-    float x,y,z;
-};
-
-static Locations TeleportPoint[]=
-{
-    {959.996f, 212.576f, 193.843f},
-    {932.537f, 231.813f, 193.838f},
-    {958.675f, 254.767f, 193.822f},
-    {946.955f, 201.316f, 192.535f},
-    {944.294f, 149.676f, 197.551f},
-    {930.548f, 284.888f, 193.367f},
-    {965.997f, 278.398f, 195.777f},
-};*/
-
-Creature* pLichKing;
-Creature* pTirion;
-Creature* pFather;
-Creature* pFrostmourne;
-Creature* pSafeZone;
-
-class boss_the_lich_king : public CreatureScript
-{
-    public:
-        boss_the_lich_king() : CreatureScript("boss_the_lich_king") { }
-
-        struct boss_the_lich_kingAI : public BossAI
-        {
-            boss_the_lich_kingAI(Creature* pCreature) : BossAI(pCreature, DATA_LICH_KING), summons(me)
-            {
-                pInstance = me->GetInstanceScript();
-                pLichKing = me;
-            }
-
-            void Reset()
-            {
-                me->SetReactState(REACT_PASSIVE);
-                me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
-
-                m_uiPhase = 1;
-                m_uiRandomSpeechTimer = 33000;
-                m_uiBerserkTimer = 900000;
-                m_uiSummonShamblingHorrorTimer = 20000;
-                m_uiSummonDrudgeGhoulsTimer = 30000;
-                m_uiInfestTimer = 30000;
-                m_uiNecroticPlagueTimer = !bCast ? 30000 : 30000000;
-                m_uiTirionSpawnTimer = 5000;
-                m_uiIcePulsSummonTimer = 10000;
-                m_uiPainandSufferingTimer = 10000;
-                m_uiSummonSpiritTimer = 20000;
-                m_uiSummonValkyrTimer = 5000;
-                m_uiSoulReaperTimer = 30000;
-                m_uiDefileTimer = 25000;
-                m_uiInfestTimer = 40000;
-                m_uiSummonVileSpiritTimer = 30000;
-                m_uiHarvestSoulTimer = 70000;
-                m_uiSummonShadowTrap = 20000;
-                m_uiEndingTimer = 1000;
-                m_uiEndingPhase = 1;
-
-                TriggerSpawned = false;
-                bEnding = false;
-                bCast = false;
-
-                if(!pInstance)
-                    return;
-
-                pInstance->SetData(DATA_LICH_KING_EVENT, NOT_STARTED);
-                pInstance->SetData(DATA_BEEN_WAITING, DONE);
-                pInstance->SetData(DATA_NECK_DEEP, DONE);
-
-                summons.DespawnAll();
-
-                me->SetSpeed(MOVE_RUN, 1.8f);
-                me->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_DISARMED);
-
-                if (me->GetMotionMaster()->GetCurrentMovementGeneratorType() == POINT_MOTION_TYPE)
-                    me->GetMotionMaster()->MovementExpired();
-
-                if(SpellEntry* spellRevive = GET_SPELL(SPELL_SUMMON_DEFILE))
-                    spellRevive->DurationIndex = 3;
-                if(SpellEntry* spell = GET_SPELL(SPELL_ICEBLOCK_TRIGGER))
-                    spell->Targets = 6; //target chain damage
-                if(SpellEntry* spell = GET_SPELL(SPELL_SOUL_REAPER_HASTE_AURA))
-                    spell->Targets = 1;
-            }
-
-            void EnterCombat(Unit* /*pWho*/)
-            {
-                DoScriptText(SAY_AGGRO, me);
-
-                if(pInstance)
-                    pInstance->SetData(DATA_LICH_KING_EVENT, IN_PROGRESS);
-            }
-
-            void JustDied(Unit* /*pKiller*/)
-            {
-                if(!pInstance)
-                    return;
-
-                DoScriptText(SAY_DEATH_KING, me);
-                pInstance->SetData(DATA_LICH_KING_EVENT, DONE);
-                if(pInstance->GetData(DATA_BEEN_WAITING) == DONE)
-                    pInstance->DoCompleteAchievement(RAID_MODE(ACHIEV_BEEN_WAITING_A_LONG_TIME_FOR_THIS_10,ACHIEV_BEEN_WAITING_A_LONG_TIME_FOR_THIS_25));
-                if(pInstance->GetData(DATA_NECK_DEEP) == FAIL)
-                    pInstance->DoCompleteAchievement(RAID_MODE(ACHIEV_NECK_DEEP_IN_VILE_10,ACHIEV_NECK_DEEP_IN_VILE_25));
-
-                summons.DespawnAll();
-
-                PlayerCinematic();
-            }
-
-            void MovementInform(uint32 type, uint32 id)
-            {
-                if(type != POINT_MOTION_TYPE)
-                    return;
-
-                if(id == POINT_PLATFORM_CENTRE)
-                {
-                    DoScriptText(SAY_REMORSELESS_WINTER, me);
-                    DoCast(me, SPELL_REMORSELES_WINTER);
-                    me->GetMotionMaster()->MovementExpired();
-                }
-            }
-
-            void PlayerCinematic()
-            {
-                Map::PlayerList const &PlList = me->GetMap()->GetPlayers();
-
-                if (PlList.isEmpty())
-                    return;
-
-                for (Map::PlayerList::const_iterator i = PlList.begin(); i != PlList.end(); ++i)
-                {
-                    if (Player* pPlayer = i->getSource())
-                    {
-                        if(pPlayer)
-                        {
-                            pPlayer->SendMovieStart(16);
-                        }
-                    }
-                }
-            }
-
-            void JustReachedHome()
-            {
-                if(pInstance)
-                    pInstance->SetData(DATA_LICH_KING_EVENT, FAIL);
-
-                summons.DespawnAll();
-            }
-
-            void KilledUnit(Unit* victim)
-            {
-                if(!bEnding)
-                {
-                    if (victim->GetTypeId() == TYPEID_PLAYER)
-                    {
-                        switch(rand()%1)
-                        {
-                            case 0: DoScriptText(SAY_KILL_1, me); break;
-                            case 1: DoScriptText(SAY_KILL_2, me); break;
-                        }
-                    }
-                }
-            }
-
-            void JustSummoned(Creature* summoned)
-            {
-                if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                    summoned->AI()->AttackStart(pTarget);
-
-                summons.Summon(summoned);
-
-                switch(summoned->GetEntry())
-                {
-                    case CREATURE_ICE_SPHERE:
-                        DoCast(summoned, SPELL_ICE_BURST_DISTANCE_CHECK);
-                        DoCast(summoned, SPELL_ICE_PULSE);
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                        {
-                            me->AI()->AttackStart(pTarget);
-                            me->GetMotionMaster()->MoveChase(pTarget);
-                        }
-                        break;
-                    case CREATURE_DEFILE:
-                        DoCast(summoned, SPELL_DEFILE);
-                        summoned->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
-                        break;
-                }
-            }
-
-            void Phasenswitch()
-            {
-                me->SetReactState(REACT_PASSIVE);
-                me->AttackStop();
-                me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
-                SetCombatMovement(false);
-                me->GetMotionMaster()->MovePoint(POINT_PLATFORM_CENTRE, MovePos[1]);
-            }
-
-            void NextPhase() //caled after cast winter
-            {
-                m_uiPhase = m_uiPhase == 2 ? 3 : 5;
-                me->SetReactState(REACT_AGGRESSIVE);
-                SetCombatMovement(true);
-                me->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
-            }
-
-            void DamageTaken(Unit* /*done_by*/, uint32& /*damage*/)
-            {
-                switch(m_uiPhase)
-                {
-                case 1:
-                    if(HealthAbovePct(71))
-                        return;
-                        m_uiPhase = 2;
-                        Phasenswitch();
-                    break;
-                case 3:
-                    if(HealthAbovePct(41))
-                        return;
-                        m_uiPhase = 4;
-                        Phasenswitch();
-                    break;
-                }
-
-                if(!HealthAbovePct(12) && !TriggerSpawned)
-                {
-                    pSafeZone = me->SummonCreature(CREATURE_TRIGGER, me->GetPositionX(), me->GetPositionY(), me->GetPositionZ(), 0, TEMPSUMMON_CORPSE_DESPAWN, 360000);
-                    pSafeZone->AI()->AttackStart(me);
-                    pSafeZone->SetDisplayId(MODEL_INVISIBLE);
-                    TriggerSpawned = true;
-                }
-
-                if(!HealthAbovePct(11) && !bEnding)
-                    bEnding = true;
-            }
-
-            void UpdateAI(const uint32 uiDiff)
-            {
-                if (!UpdateVictim() || !CheckInRoom())
-                    return;
-
-                if(!bEnding)
-                {
-                    if (m_uiRandomSpeechTimer < uiDiff)
-                    {
-                        DoScriptText(RAND(SAY_RANDOM_1,SAY_RANDOM_2), me);
-                        m_uiRandomSpeechTimer = 33000;
-                    } else m_uiRandomSpeechTimer -= uiDiff;
-
-                    if (m_uiBerserkTimer < uiDiff)
-                    {
-                        DoScriptText(SAY_BERSERK, me);
-                        DoCast(me, SPELL_BERSERK);
-                        m_uiBerserkTimer = 900000;
-                    } else m_uiBerserkTimer -= uiDiff;
-                }
-
-                if(m_uiPhase == 1)
-                {
-                    if (IsHeroic())
-                    {
-                        if (m_uiSummonShadowTrap < uiDiff)
-                        {
-                            if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                                DoCast(pTarget, SPELL_SUMMON_SHADOW_TRAP, true);
-                            m_uiSummonShadowTrap = 30000;
-                        } else m_uiSummonShadowTrap -= uiDiff;
-                    }
-
-                    if (m_uiInfestTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_INFEST);
-                        m_uiInfestTimer = 30000;
-                    } else m_uiInfestTimer -= uiDiff;
-
-                    if (m_uiSummonDrudgeGhoulsTimer < uiDiff)
-                    {
-                        DoCast(SPELL_SUMMON_DRUDGE_GHOULS);
-                        m_uiSummonDrudgeGhoulsTimer = 20000;
-                    } else m_uiSummonDrudgeGhoulsTimer -= uiDiff;
-
-                    if (m_uiSummonShamblingHorrorTimer < uiDiff)
-                    {
-                        DoCast(SPELL_SUMMON_SHAMBLING_HORROR);
-                        m_uiSummonShamblingHorrorTimer = 30000;
-                    } else m_uiSummonShamblingHorrorTimer -= uiDiff;
-
-                    if (m_uiNecroticPlagueTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_NECROTIC_PLAGUE);
-                        m_uiNecroticPlagueTimer = !bCast ? 30000 : 30000000;
-                    } else m_uiNecroticPlagueTimer -= uiDiff;
-                }
-
-                if(m_uiPhase == 2) //transition phase 1
-                {
-                    if (m_uiSummonSpiritTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_SUMMON_RAGING_SPIRIT);
-                        m_uiSummonSpiritTimer = 20000;
-                    } else m_uiSummonSpiritTimer -= uiDiff;
-
-                    if (m_uiIcePulsSummonTimer < uiDiff)
-                    {
-                        DoCast(SPELL_SUMMON_ICE_SPEHERE);
-                        m_uiIcePulsSummonTimer = 15000;
-                    } else m_uiIcePulsSummonTimer -= uiDiff;
-
-                    if (m_uiPainandSufferingTimer < uiDiff)
-                    {
-                        DoCast(SPELL_PAIN_AND_SUFFERING);
-                        m_uiPainandSufferingTimer = 2000;
-                    } else m_uiPainandSufferingTimer -= uiDiff;
-                }
-
-                if(m_uiPhase == 3)
-                {
-                    if (m_uiDefileTimer < uiDiff)
-                    {
-                        DoScriptText(SAY_EMOTE_DEFILE, me);
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_SUMMON_DEFILE);
-                        m_uiDefileTimer = 20000;
-                    } else m_uiDefileTimer -= uiDiff;
-
-                    if (m_uiSummonValkyrTimer < uiDiff)
-                    {
-                        DoScriptText(SAY_SUMMON_VALKYR, me);
-                        DoCast(SPELL_SUMMON_VALKYR);
-                        m_uiSummonValkyrTimer = 35000;
-                        m_uiDefileTimer = 5000; //cast defile after cast valkyr summon
-                    } else m_uiSummonValkyrTimer -= uiDiff;
-
-                    if (m_uiSoulReaperTimer < uiDiff)
-                    {
-                        DoCastVictim(SPELL_SOUL_REAPER);
-                        DoCast(SPELL_SOUL_REAPER_HASTE_AURA);
-                        m_uiSoulReaperTimer = 30000;
-                    } else m_uiSoulReaperTimer -= uiDiff;
-
-                    if (m_uiInfestTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_INFEST);
-                        m_uiInfestTimer = 30000;
-                    } else m_uiInfestTimer -= uiDiff;
-                }
-
-                if(m_uiPhase == 4) //transition phase 2
-                {
-                    if (m_uiSummonSpiritTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_SUMMON_RAGING_SPIRIT);
-                        m_uiSummonSpiritTimer = 15000;
-                    } else m_uiSummonSpiritTimer -= uiDiff;
-
-                    if (m_uiIcePulsSummonTimer < uiDiff)
-                    {
-                        DoCast(SPELL_SUMMON_ICE_SPEHERE);
-                        m_uiIcePulsSummonTimer = 15000;
-                    } else m_uiIcePulsSummonTimer -= uiDiff;
-
-                    if (m_uiPainandSufferingTimer < uiDiff)
-                    {
-                        DoCast(SPELL_PAIN_AND_SUFFERING);
-                        m_uiPainandSufferingTimer = 3000;
-                    } else m_uiPainandSufferingTimer -= uiDiff;
-                }
-
-                if(m_uiPhase == 5)
-                {
-                    if (m_uiSummonVileSpiritTimer < uiDiff)
-                    {
-                        DoCast(SPELL_SUMMON_VILE_SPIRIT);
-                        m_uiSummonVileSpiritTimer = 30000;
-                    } else m_uiSummonVileSpiritTimer -= uiDiff;
-
-                    if (m_uiHarvestSoulTimer < uiDiff)
-                    {
-                        DoScriptText(SAY_HARVEST_SOUL, me);
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_HARVEST_SOULS);
-                        m_uiHarvestSoulTimer = 70000;
-                    } else m_uiHarvestSoulTimer -= uiDiff;
-
-                    if (m_uiSoulReaperTimer < uiDiff)
-                    {
-                        DoCastVictim(SPELL_SOUL_REAPER);
-                        DoCast(me, SPELL_SOUL_REAPER_HASTE_AURA);
-                        m_uiSoulReaperTimer = 30000;
-                    } else m_uiSoulReaperTimer -= uiDiff;
-
-                    if (m_uiDefileTimer < uiDiff)
-                    {
-                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                            DoCast(pTarget, SPELL_SUMMON_DEFILE);
-                        m_uiDefileTimer = 20000;
-                    } else m_uiDefileTimer -= uiDiff;
-                }
-
-                if(bEnding)
-                {
-                    if (m_uiEndingTimer <= uiDiff)
-                    {
-                        switch(m_uiEndingPhase)
-                        {
-                        case 1:
-                            me->GetMotionMaster()->MoveIdle();
-                            me->SetReactState(REACT_PASSIVE);
-                            me->AttackStop();
-                            me->CastStop();
-                            DoResetThreat();
-                            DoScriptText(SAY_10_PROZENT, me);
-                            DoCastAOE(SPELL_FURY_OF_FROSTMOURNE);
-                            m_uiEndingTimer = 15000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 2:
-                            DoScriptText(SAY_ENDING_1_KING, me);
-                            m_uiEndingTimer = 24000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 3:
-                            DoScriptText(SAY_ENDING_2_KING, me);
-                            m_uiEndingTimer = 25000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 4:
-                            me->GetMotionMaster()->MovePoint(0, MovePos[1]);
-                            m_uiEndingTimer = 4000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 5:
-                            DoCast(me, SPELL_CHANNEL_KING);
-                            DoScriptText(SAY_ENDING_3_KING, me);
-                            m_uiEndingTimer = 26000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 6:
-                            DoScriptText(SAY_ENDING_4_KING, me);
-                            m_uiEndingTimer = 9000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 7:
-                            DoScriptText(SAY_ENDING_5_TIRION, pTirion);
-                            m_uiEndingTimer = 9000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 8:
-                            DoCast(pTirion, SPELL_TIRION_LIGHT);
-                            m_uiEndingTimer = 5000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 9:
-                            pTirion->RemoveAurasDueToSpell(SPELL_ICEBLOCK_TRIGGER);
-                            m_uiEndingTimer = 2000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 10:
-                            pTirion->GetMotionMaster()->MovePoint(0, MovePos[2]);
-                            m_uiEndingTimer = 1000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 11:
-                            pTirion->GetMotionMaster()->MoveJump(517.482910f, -2124.905762f, 1040.861328f, 10.0f, 15.0f); //pTirion->JumpTo(pFrostmourne, 15.0f);
-                            pTirion->SetUInt32Value(UNIT_NPC_EMOTESTATE, 375);
-                            m_uiEndingTimer = 1000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 12:
-                            me->RemoveAura(SPELL_CHANNEL_KING);
-                            me->CastSpell(me, SPELL_BOOM_VISUAL, false);
-                            m_uiEndingTimer = 300;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 13:
-                            me->CastSpell(me, SPELL_SUMMON_BROKEN_FROSTMOURNE, false);
-                            m_uiEndingTimer = 3000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 14:
-                            me->CastSpell(me, 73017, false);
-                            m_uiEndingTimer = 1000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 15:
-                            DoScriptText(SAY_ENDING_6_KING, me);
-                            m_uiEndingTimer = 3000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 16:
-                            pFrostmourne = me->SummonCreature(27880, me->GetPositionX()+2, me->GetPositionY()+2, me->GetPositionZ(), 0, TEMPSUMMON_TIMED_OR_CORPSE_DESPAWN, 99999999);
-                            pFrostmourne->CastSpell(pFrostmourne, SPELL_BROKEN_FROSTMOURNE, false);
-                            pFrostmourne->CastSpell(pFrostmourne, SPELL_FROSTMOURNE_TRIGGER, false);
-                            pFrostmourne->GetMotionMaster()->MoveChase(me);
-                            me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_DISARMED);
-                            //pTirion->CastSpell(pTirion, SPELL_DISENGAGE, false);
-                            m_uiEndingTimer = 2000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 17:
-                            me->RemoveAllAuras();
-                            me->RemoveAura(SPELL_SUMMON_BROKEN_FROSTMOURNE);
-                            DoPlaySoundToSet(me, SOUND_ENDING_7_KING);
-                            me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 473);
-                            m_uiEndingTimer = 5000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 18:
-                            DoScriptText(SAY_ENDING_8_TIRION, pTirion);
-                            m_uiEndingTimer = 6000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 19:
-                            pFather = me->SummonCreature(CREAUTRE_MENETHIL, me->GetPositionX()+5, me->GetPositionY()+5, me->GetPositionZ(), 0, TEMPSUMMON_TIMED_OR_CORPSE_DESPAWN, 9999999);
-                            DoScriptText(SAY_ENDING_9_FATHER, pFather);
-                            pFather->CastSpell(pFather, SPELL_REVIVE);
-                            m_uiEndingTimer = 3000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 20:
-                            DoScriptText(SAY_ENDING_11_FATHER, pFather);
-                            //pFather->CastSpell(pFather, SPELL_REVIVE_VISUAL, false);
-                            m_uiEndingTimer = 6000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 21:
-                            DoScriptText(SAY_ENDING_10_TIRION, pTirion);
-                            m_uiEndingTimer = 5000;
-                            ++m_uiEndingPhase;
-                            break;
-                        case 22:
-                            DoScriptText(SAY_ENDING_12_KING, me);
-                            pTirion->SetReactState(REACT_AGGRESSIVE);
-                            pTirion->AI()->AttackStart(me);
-                            pFather->AI()->AttackStart(me);
-                            m_uiEndingTimer = 5000;
-                            ++m_uiEndingPhase;
-                            break;
-                        }
-                    } else m_uiEndingTimer -= uiDiff;
-                }
-
-                DoMeleeAttackIfReady();
-            }
-        private:
-            InstanceScript* pInstance;
-
-            uint8 m_uiEndingPhase;
-            uint8 m_uiPhase;
-
-            uint32 m_uiEndingTimer;
-            uint32 m_uiTirionSpawnTimer;
-            uint32 m_uiSummonShamblingHorrorTimer;
-            uint32 m_uiSummonDrudgeGhoulsTimer;
-            uint32 m_uiSummonShadowTrap;
-            uint32 m_uiInfestTimer;
-            uint32 m_uiNecroticPlagueTimer;
-            uint32 m_uiBerserkTimer;
-            uint32 m_uiSummonValkyrTimer;
-            uint32 m_uiSoulReaperTimer;
-            uint32 m_uiDefileTimer;
-            uint32 m_uiHarvestSoulTimer;
-            uint32 m_uiSummonVileSpiritTimer;
-            uint32 m_uiPainandSufferingTimer;
-            uint32 m_uiIcePulsSummonTimer;
-            uint32 m_uiSummonSpiritTimer;
-            uint32 m_uiRandomSpeechTimer;
-
-            bool TriggerSpawned;
-            bool bEnding;
-            bool bCast;
-
-            SummonList summons;
-
-        };
-
-        CreatureAI* GetAI(Creature* pCreature) const
-        {
-            return new boss_the_lich_kingAI(pCreature);
-        }
-};
-
-class npc_tirion_icc : public CreatureScript
-{
-    public:
-        npc_tirion_icc() : CreatureScript("npc_tirion_icc") { }
-
-        struct npc_tirion_iccAI : public ScriptedAI
-        {
-            npc_tirion_iccAI(Creature* pCreature) : ScriptedAI(pCreature)
-            {
-                pInstance = pCreature->GetInstanceScript();
-                pTirion = me;
-            }
-
-            void Reset()
-            {
-                m_uiIntroTimer = 1000;
-                m_uiIntroPhase = 1;
-
-                bIntro = false;
-
-                me->SetReactState(REACT_PASSIVE);
-                me->SetSpeed(MOVE_RUN, 1.8f);
-            }
-
-            void StartEvent()
-            {
-                bIntro = true;
-            }
-
-            void UpdateAI(const uint32 diff)
-            {
-                if(pInstance->GetData(DATA_LICH_KING_EVENT) != NOT_STARTED)
-                    me->RemoveFlag(UNIT_NPC_FLAGS, UNIT_NPC_FLAG_GOSSIP);
-                else
-                    me->SetFlag(UNIT_NPC_FLAGS, UNIT_NPC_FLAG_GOSSIP);
-
-                 if(!bIntro || !pInstance)
-                     return;
-
-                if(m_uiIntroTimer <= diff)
-                {
-                    switch(m_uiIntroPhase)
-                    {
-                    case 1:
-                        {
-                            pLichKing->SetStandState(UNIT_STAND_STATE_STAND);
-                            pLichKing->AddUnitMovementFlag(MOVEMENTFLAG_WALKING);
-                            pLichKing->SetSpeed(MOVE_WALK, 1.2f);
-                            pLichKing->GetMotionMaster()->MovePoint(0, MovePos[0]);
-                            me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 375);
-                            m_uiIntroTimer = 3000;
-                            ++m_uiIntroPhase;
-                        }
-                    break;
-                    case 2:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 1);
-                        DoScriptText(SAY_INTRO_1_KING, pLichKing);
-                        m_uiIntroTimer = 14000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 3:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
-                        DoScriptText(SAY_INTRO_2_TIRION, me);
-                        m_uiIntroTimer = 9000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 4:
-                        DoScriptText(SAY_INTRO_3_KING, pLichKing);
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 392);
-                        m_uiIntroTimer = 3000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 5:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 397);
-                        m_uiIntroTimer = 2000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 6:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
-                        m_uiIntroTimer = 18000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 7:
-                        me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 397);
-                        DoScriptText(SAY_INTRO_4_TIRION, me);
-                        m_uiIntroTimer = 1000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 8:
-                        me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
-                        me->GetMotionMaster()->MovePoint(0, MovePos[3]);
-                        m_uiIntroTimer = 2000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 9:
-                        pLichKing->CastSpell(pTirion, SPELL_ICEBLOCK_TRIGGER, true);
-                        m_uiIntroTimer = 2000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 10:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 1);
-                        DoScriptText(SAY_INTRO_5_KING, pLichKing);
-                        m_uiIntroTimer = 12000;
-                        ++m_uiIntroPhase;
-                        break;
-                    case 11:
-                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
-                        pLichKing->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
-                        pLichKing->SetReactState(REACT_AGGRESSIVE);
-                        if(Unit* pTarget = SelectUnit(SELECT_TARGET_RANDOM, 1))
-                            me->AI()->AttackStart(pTarget);
-                        m_uiIntroTimer = 6000;
-                        ++m_uiIntroPhase;
-                        break;
-                    }
-                } else m_uiIntroTimer -= diff;
-            }
-        private:
-            InstanceScript* pInstance;
-
-            uint32 m_uiIntroTimer;
-            uint8 m_uiIntroPhase;
-
-            bool bIntro;
-        };
-
-        bool OnGossipHello(Player* pPlayer, Creature* pCreature)
-        {
-            pPlayer->ADD_GOSSIP_ITEM(GOSSIP_ICON_CHAT, GOSSIP_START_EVENT, GOSSIP_SENDER_MAIN, 999999);
-            pPlayer->SEND_GOSSIP_MENU(10600, pCreature->GetGUID());
-
-            return true;
-        }
-
-        bool OnGossipSelect(Player* pPlayer, Creature* pCreature, uint32 /*uiSender*/, uint32 uiAction)
-        {
-            if (uiAction == 999999)
-            {
-                CAST_AI(npc_tirion_icc::npc_tirion_iccAI, pCreature->AI())->StartEvent();
-                pPlayer->CLOSE_GOSSIP_MENU();
-            }
-            return true;
-        }
-
-        CreatureAI* GetAI(Creature* pCreature) const
-        {
-            return new npc_tirion_iccAI(pCreature);
-        }
-};
-
-class npc_valkyr_icc : public CreatureScript
-{
-    public:
-        npc_valkyr_icc() : CreatureScript("npc_valkyr_icc") { }
-
-        struct npc_valkyr_iccAI : public ScriptedAI
-        {
-            npc_valkyr_iccAI(Creature* pCreature) : ScriptedAI(pCreature), vehicle(pCreature->GetVehicleKit())
-            {
-                assert(vehicle);
-            }
-
-            void Reset()
-            {
-                me->SetFlying(true);
-                m_uiGrabTimer = 2000;
-                me->GetVehicleKit();
-                InVehicle = false;
-
-                if (me->GetMotionMaster()->GetCurrentMovementGeneratorType() == POINT_MOTION_TYPE)
-                    me->GetMotionMaster()->MovementExpired();
-            }
-
-            void EnterCombat(Unit* /*who*/) { }
-
-            void MovementInform(uint32 type, uint32 id)
-            {
-                if(type != POINT_MOTION_TYPE)
-                    return;
-
-                if(id == POINT_PLARFORM_END)
-                    vehicle->RemoveAllPassengers();
-            }
-
-            void UpdateAI(const uint32 uiDiff)
-            {
-                if (!UpdateVictim())
-                    return;
-
-                if (!InVehicle && m_uiGrabTimer < uiDiff)
-                {
-                    if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
-                    {
-                        pTarget->EnterVehicle(vehicle);
-                        InVehicle = true;
-                        me->GetMotionMaster()->MovePoint(POINT_PLARFORM_END, MovePos[4]);
-                        DoCast(me, SPELL_WINGS_OF_THE_DAMNED);
-                        if (IsHeroic())
-                            DoCast(pTarget, SPELL_LIFE_SIPHON);
-                    }
-                    m_uiGrabTimer = 20000;
-                } else m_uiGrabTimer -= uiDiff;
-            }
-        private:
-            uint32 m_uiGrabTimer;
-            bool InVehicle;
-
-            Vehicle* vehicle;
-        };
-
-        CreatureAI* GetAI(Creature* pCreature) const
-        {
-            return new npc_valkyr_iccAI(pCreature);
-        }
-};
-
-class npc_vile_spirit_icc : public CreatureScript
-{
-    public:
-        npc_vile_spirit_icc() : CreatureScript("npc_vile_spirit_icc") { }
-
-        struct npc_vile_spirit_iccAI : public ScriptedAI
-        {
-            npc_vile_spirit_iccAI(Creature* pCreature) : ScriptedAI(pCreature) { }
-
-            void Reset()
-            {
-                m_uiMoveTimer = 15000;
-                DoCast(me, SPELL_VILE_SPIRIT_DISTANCE_CHECK);
-                bStartMove = false;
-                DoStartNoMovement(me->getVictim());
-            }
-
-            void UpdateAI(const uint32 uiDiff)
-            {
-                if (!bStartMove && m_uiMoveTimer < uiDiff)
-                {
-                    DoStartMovement(me->getVictim());
-                    DoCast(me, SPELL_VILE_SPIRIT_ACTIVE);
-                    bStartMove = true;
-                    if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100, true))
-                        me->AddThreat(pTarget, 100000.0f);
-                    m_uiMoveTimer = 15000;
-                } else m_uiMoveTimer -= uiDiff;
-            }
-        private:
-            uint32 m_uiShriekTimer;
-            bool bStartMove;
-            uint32 m_uiMoveTimer;
-        };
-
-        CreatureAI* GetAI(Creature* pCreature) const
-        {
-            return new npc_vile_spirit_iccAI(pCreature);
-        }
-};
-
-class spell_lich_king_necrotic_plague : public SpellScriptLoader
-{
-    public:
-        spell_lich_king_necrotic_plague() : SpellScriptLoader("spell_lich_king_necrotic_plague") { } //70338
-
-
-        class spell_lich_king_necrotic_plague_AuraScript : public AuraScript
-        {
-            PrepareAuraScript(spell_lich_king_necrotic_plague_AuraScript)
-
-            void ExtraEffect(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if(!aurApp->GetBase()->GetCaster())
-                    return;
-
-                if (InstanceScript* instance = aurApp->GetBase()->GetCaster()->GetInstanceScript())
-                {
-                    CAST_AI(boss_the_lich_king::boss_the_lich_kingAI, CAST_CRE(aurApp->GetBase()->GetCaster())->AI())->DoCast(SPELL_PLAGUE_SIPHON);
-                    aurApp->GetBase()->GetCaster()->CastSpell(aurApp->GetBase()->GetCaster(), SPELL_NECROTIC_PLAGUE_IMMUNITY, true);
-
-                if (Unit* target = aurApp->GetTarget())
-                    if (Aura* plague = target->AddAura(SPELL_NECROTIC_PLAGUE, target))
-                        plague->SetStackAmount(plague->GetStackAmount() + 1);
-
-                if(aurApp->GetBase()->GetStackAmount() >= 30)
-                    instance->SetData(DATA_BEEN_WAITING, FAIL);
-                }
-            }
-
-            void Register()
-            {
-                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_necrotic_plague_AuraScript::ExtraEffect, EFFECT_0, SPELL_AURA_PERIODIC_DAMAGE, AURA_EFFECT_HANDLE_REAL);
-            }
-        };
-
-        AuraScript* GetAuraScript() const
-        {
-            return new spell_lich_king_necrotic_plague_AuraScript();
-        }
-};
-
-class spell_lich_king_infection : public SpellScriptLoader
-{
-    public:
-        spell_lich_king_infection() : SpellScriptLoader("spell_lich_king_infection") { } //70541
-
-
-        class spell_lich_king_infection_AuraScript : public AuraScript
-        {
-            PrepareAuraScript(spell_lich_king_infection_AuraScript)
-
-            void OnPeriodic(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if (Unit* sick = aurApp->GetBase()->GetCaster())
-                    if(sick->isAlive() && sick->GetHealthPct() > 90)
-                        sick->RemoveAurasDueToSpell(SPELL_INFEST);
-            }
-
-            void Register()
-            {
-                OnEffectPeriodic += AuraEffectPeriodicFn(spell_lich_king_infection_AuraScript::OnPeriodic, EFFECT_0, SPELL_AURA_PERIODIC_DAMAGE);
-            }
-        };
-
-        AuraScript* GetAuraScript() const
-        {
-            return new spell_lich_king_infection_AuraScript();
-        }
-};
-
-class spell_lich_king_valkyr_summon : public SpellScriptLoader
-{
-    public:
-        spell_lich_king_valkyr_summon() : SpellScriptLoader("spell_lich_king_valkyr_summon") { } //74361
-
-
-        class spell_lich_king_valkyr_summon_AuraScript : public AuraScript
-        {
-            PrepareAuraScript(spell_lich_king_valkyr_summon_AuraScript);
-
-            void OnApply(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if (Unit* caster = aurApp->GetBase()->GetCaster())
-                {
-                    uint8 spawnMod = caster->GetMap()->GetSpawnMode();
-                    aurApp->GetBase()->SetDuration(spawnMod == 1 || spawnMod == 3 ? 3000 : 1000);
-                }
-            }
-
-            void HandleTriggerSpell(AuraEffect const* aurEff, AuraApplication const* aurApp)
-            {
-                PreventDefaultAction();
-                if (Unit* caster = aurApp->GetBase()->GetCaster())
-                {
-                    uint32 triggerSpellId = GetSpellProto()->EffectTriggerSpell[aurEff->GetEffIndex()];
-                    float x, y, z;
-                    caster->GetPosition(x, y, z);
-                    caster->CastSpell(x, y, z + 6, triggerSpellId, true, NULL, NULL, GetCasterGUID(), caster);
-                }
-            }
-
-            void Register()
-            {
-                OnEffectPeriodic += AuraEffectPeriodicFn(spell_lich_king_valkyr_summon_AuraScript::HandleTriggerSpell, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL);
-                OnEffectApply += AuraEffectApplyFn(spell_lich_king_valkyr_summon_AuraScript::OnApply, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL, AURA_EFFECT_HANDLE_REAL);
-            }
-        };
-
-        AuraScript* GetAuraScript() const
-        {
-            return new spell_lich_king_valkyr_summon_AuraScript();
-        }
-};
-
-class spell_lich_king_winter : public SpellScriptLoader
-{
-    public:
-        spell_lich_king_winter() : SpellScriptLoader("spell_lich_king_winter") { } //68981
-
-
-        class spell_lich_king_winter_AuraScript : public AuraScript
-        {
-            PrepareAuraScript(spell_lich_king_winter_AuraScript)
-
-            void OnApply(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if (InstanceScript* instance = aurApp->GetTarget()->GetInstanceScript())
-                    if (GameObject* floor = GameObject::GetGameObject((*aurApp->GetBase()->GetOwner()), instance->GetData64(DATA_PLATFORM)))
-                        if(floor->HasFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED))
-                            floor->RemoveFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED);
-            }
-
-            void OnRemove(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if (Unit* caster = aurApp->GetBase()->GetCaster())
-                {
-                    caster->CastSpell(caster, SPELL_QUAKE, true);
-                    DoScriptText(SAY_BROKEN_ARENA, caster);
-                }
-            }
-
-            void Register()
-            {
-                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_winter_AuraScript::OnRemove, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL, AURA_EFFECT_HANDLE_REAL);
-                OnEffectApply += AuraEffectRemoveFn(spell_lich_king_winter_AuraScript::OnRemove, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL, AURA_EFFECT_HANDLE_REAL);
-            }
-        };
-
-        AuraScript* GetAuraScript() const
-        {
-            return new spell_lich_king_winter_AuraScript();
-        }
-};
-
-class spell_lich_king_quake : public SpellScriptLoader
-{
-    public:
-        spell_lich_king_quake() : SpellScriptLoader("spell_lich_king_quake") { } //72262
-
-
-        class spell_lich_king_quake_AuraScript : public AuraScript
-        {
-            PrepareAuraScript(spell_lich_king_quake_AuraScript)
-
-            void OnRemove(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
-            {
-                if(!aurApp->GetBase()->GetCaster())
-                    return;
-
-                if (InstanceScript* instance = aurApp->GetTarget()->GetInstanceScript())
-                {
-                    if (GameObject* floor = GameObject::GetGameObject((*aurApp->GetBase()->GetOwner()), instance->GetData64(DATA_PLATFORM)))
-                    {
-                        floor->SetFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED);
-                        CAST_AI(boss_the_lich_king::boss_the_lich_kingAI, pLichKing->AI())->NextPhase();
-                    }
-                }
-            }
-
-            void Register()
-            {
-                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_quake_AuraScript::OnRemove, EFFECT_0, SPELL_AURA_DUMMY, AURA_EFFECT_HANDLE_REAL);
-            }
-        };
-
-        AuraScript* GetAuraScript() const
-        {
-            return new spell_lich_king_quake_AuraScript();
-        }
-};
-
-class spell_vile_spirit_distance_check : public SpellScriptLoader
-{
-    public:
-        spell_vile_spirit_distance_check() : SpellScriptLoader("spell_vile_spirit_distance_check") { }
-
-
-        class spell_vile_spirit_distance_check_SpellScript : public SpellScript
-        {
-            PrepareSpellScript(spell_vile_spirit_distance_check_SpellScript);
-
-
-            void HandleScript(SpellEffIndex /*effIndex*/)
-            {
-                if (!(GetHitUnit() && GetHitUnit()->isAlive()))
-                    return;
-
-                if(Unit* caster = GetCaster())
-                {
-                    caster->CastSpell(caster, SPELL_BURST, true);
-
-                    if (InstanceScript* instance = caster->GetInstanceScript())
-                        instance->SetData(DATA_NECK_DEEP, FAIL);
-                }
-            }
-
-            void Register()
-            {
-                OnEffect += SpellEffectFn(spell_vile_spirit_distance_check_SpellScript::HandleScript, EFFECT_0, SPELL_EFFECT_DUMMY);
-            }
-        };
-
-        SpellScript* GetSpellScript() const
-        {
-            return new spell_vile_spirit_distance_check_SpellScript();
-        }
-};
-
-class spell_ice_burst_distance_check : public SpellScriptLoader
-{
-    public:
-        spell_ice_burst_distance_check() : SpellScriptLoader("spell_ice_burst_distance_check") { }
-
-
-        class spell_ice_burst_distance_check_SpellScript : public SpellScript
-        {
-            PrepareSpellScript(spell_ice_burst_distance_check_SpellScript);
-
-
-            void HandleScript(SpellEffIndex /*effIndex*/)
-            {
-                if (!(GetHitUnit() && GetHitUnit()->isAlive()))
-                    return;
-
-                if(Unit* caster = GetCaster())
-                    caster->CastSpell(caster, SPELL_ICE_BURST, true);
-            }
-
-            void Register()
-            {
-                OnEffect += SpellEffectFn(spell_ice_burst_distance_check_SpellScript::HandleScript, EFFECT_0, SPELL_EFFECT_DUMMY);
-            }
-        };
-
-        SpellScript* GetSpellScript() const
-        {
-            return new spell_ice_burst_distance_check_SpellScript();
-        }
-};
-
-void AddSC_boss_lichking()
-{
-    new boss_the_lich_king();
-    new npc_tirion_icc();
-    new npc_valkyr_icc();
-    new npc_vile_spirit_icc();
-    new spell_lich_king_necrotic_plague();
-    new spell_lich_king_infection();
-    new spell_lich_king_valkyr_summon();
-    new spell_lich_king_winter();
-    new spell_vile_spirit_distance_check();
-    new spell_ice_burst_distance_check();
-    new spell_lich_king_quake();
-}
+/*
+* Copyright (C) 2009 - 2010 TrinityCore <http://www.trinitycore.org/>
+*
+* This program is free software; you can redistribute it and/or modify
+* it under the terms of the GNU General Public License as published by
+* the Free Software Foundation; either version 2 of the License, or
+* (at your option) any later version.
+*
+* This program is distributed in the hope that it will be useful,
+* but WITHOUT ANY WARRANTY; without even the implied warranty of
+* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+* GNU General Public License for more details.
+*
+* You should have received a copy of the GNU General Public License
+* along with this program; if not, write to the Free Software
+* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
+*/
+
+#include "ObjectMgr.h"
+#include "ScriptMgr.h"
+#include "ScriptedCreature.h"
+#include "SpellScript.h"
+#include "SpellAuraEffects.h"
+#include "icecrown_citadel.h"
+
+/*
+//Speaking to Tirion Fordring to begin the fight
+Long have I waited for this day, hero. Are you and your allies prepared to bring the Lich King to justice? We charge on your command!
+ We are prepared, Highlord. Let us battle for the fate of Azeroth! For the light of dawn!
+*/
+#define GOSSIP_START_EVENT "We are prepared, Highlord. Let us battle for the fate of Azeroth! For the light of dawn!"
+
+enum Yells
+{
+    SAY_INTRO_1_KING         = -1810001,
+    SAY_INTRO_2_TIRION       = -1810002,
+    SAY_INTRO_3_KING         = -1810003,
+    SAY_INTRO_4_TIRION       = -1810004,
+    SAY_INTRO_5_KING         = -1810005,
+    SAY_AGGRO                = -1810006,
+    SAY_REMORSELESS_WINTER   = -1810007,
+    SAY_RANDOM_1             = -1810008,
+    SAY_RANDOM_2             = -1810009,
+    SAY_KILL_1               = -1810010,
+    SAY_KILL_2               = -1810011,
+    SAY_BERSERK              = -1810012,
+    SAY_ENDING_1_KING        = -1810013,
+    SAY_ENDING_2_KING        = -1810014,
+    SAY_ENDING_3_KING        = -1810015,
+    SAY_ENDING_4_KING        = -1810016,
+    SAY_ENDING_5_TIRION      = -1810017,
+    SAY_ENDING_6_KING        = -1810018,
+    SAY_ENDING_8_TIRION      = -1810020,
+    SAY_ENDING_9_FATHER      = -1810021,
+    SAY_ENDING_10_TIRION     = -1810022,
+    SAY_ENDING_11_FATHER     = -1810023,
+    SAY_ENDING_12_KING       = -1810024,
+    SAY_DEATH_KING           = -1810025,
+    SAY_ESCAPE_FROSTMOURNE   = -1810026,
+    SAY_HARVEST_SOUL         = -1810027,
+    SAY_DEVOURED_FROSTMOURNE = -1810028,
+    SAY_SUMMON_VALKYR        = -1810029,
+    SAY_BROKEN_ARENA         = -1810030,
+    SAY_10_PROZENT           = -1810031,
+    SAY_EMOTE_DEFILE         = -1810032,
+};
+
+enum Spells
+{
+    SPELL_SUMMON_SHAMBLING_HORROR    = 70372,
+    SPELL_SUMMON_DRUDGE_GHOULS       = 70359,
+    SPELL_SUMMON_ICE_SPEHERE         = 69104,
+    SPELL_SUMMON_RAGING_SPIRIT       = 69200,
+    SPELL_SUMMON_VALKYR              = 74361,
+    SPELL_SUMMON_DEFILE              = 72762,
+    SPELL_SUMMON_VILE_SPIRIT         = 70498,
+    SPELL_SUMMON_BROKEN_FROSTMOURNE  = 72406,
+    SPELL_SUMMON_SHADOW_TRAP         = 73539,
+    SPELL_INFEST                     = 70541,
+    SPELL_NECROTIC_PLAGUE            = 70338,
+    SPELL_NECROTIC_PLAGUE_IMMUNITY   = 72846,
+    SPELL_PLAGUE_SIPHON              = 74074,
+    SPELL_REMORSELES_WINTER          = 68981,
+    SPELL_PAIN_AND_SUFFERING         = 72133,
+    SPELL_WINGS_OF_THE_DAMNED        = 74352,
+    SPELL_SOUL_REAPER                = 69409,
+    SPELL_SOUL_REAPER_HASTE_AURA     = 69410,
+    SPELL_HARVEST_SOUL_TELEPORT      = 71372,
+    SPELL_HARVEST_SOULS              = 74325,
+    SPELL_QUAKE                      = 72262,
+    SPELL_CHANNEL_KING               = 71769,
+    SPELL_BROKEN_FROSTMOURNE         = 72398,
+    SPELL_BOOM_VISUAL                = 72726,
+    SPELL_ICEBLOCK_TRIGGER           = 71614,
+    SPELL_TIRION_LIGHT               = 71797,
+    SPELL_FROSTMOURNE_TRIGGER        = 72405,
+    SPELL_DISENGAGE                  = 61508,
+    SPELL_FURY_OF_FROSTMOURNE        = 72350,
+    SPELL_REVIVE_VISUAL              = 37755,
+    SPELL_REVIVE                     = 72429,
+    SPELL_REVIVE_EFFECT              = 72423,
+    SPELL_CLONE_PLAYER               = 57507,
+    SPELL_DEFILE                     = 72743,
+    SPELL_ICE_PULSE                  = 69091,
+    SPELL_ICE_BURST                  = 69108,
+    SPELL_LIFE_SIPHON                = 73783,
+    SPELL_SOUL_SHRIEK                = 69242,
+    SPELL_WHOCKVAWE                  = 72149,
+    SPELL_ENRAGE                     = 72143,
+    SPELL_BURST                      = 70503,
+    SPELL_VILE_SPIRIT_DISTANCE_CHECK = 70502,
+    SPELL_ICE_BURST_DISTANCE_CHECK   = 69109,
+    SPELL_VILE_SPIRIT_ACTIVE         = 72130
+
+    //SPELL_70501 //Vile Spirit Move Target Search
+};
+
+enum ePoints
+{
+    POINT_PLATFORM_CENTRE            = 3659701,
+    POINT_PLARFORM_END               = 3659702
+};
+
+struct Position MovePos[]=
+{
+    {461.792633f, -2125.855957f, 1040.860107f, 0.0f}, // move
+    {503.156525f, -2124.516602f, 1040.860107f, 0.0f}, // move ending
+    {490.110779f, -2124.989014f, 1040.860352f, 0.0f}, // move tirion frostmourne
+    {478.333466f, -2124.618652f, 1040.859863f, 0.0f}, // move tirion attack
+    {498.004486f, 2201.573486f, 1046.093872f, 0.0f}  // move valkyr
+};
+
+//TODO:
+//Need fixed:
+//raging spirit aura
+//raging spirit cast 69198
+//69200 - must be aura with duration: 5 seconds
+
+/*struct Locations
+{
+    float x,y,z;
+};
+
+static Locations TeleportPoint[]=
+{
+    {959.996f, 212.576f, 193.843f},
+    {932.537f, 231.813f, 193.838f},
+    {958.675f, 254.767f, 193.822f},
+    {946.955f, 201.316f, 192.535f},
+    {944.294f, 149.676f, 197.551f},
+    {930.548f, 284.888f, 193.367f},
+    {965.997f, 278.398f, 195.777f},
+};*/
+
+Creature* pLichKing;
+Creature* pTirion;
+Creature* pFather;
+Creature* pFrostmourne;
+Creature* pSafeZone;
+
+class boss_the_lich_king : public CreatureScript
+{
+    public:
+        boss_the_lich_king() : CreatureScript("boss_the_lich_king") { }
+
+        struct boss_the_lich_kingAI : public BossAI
+        {
+            boss_the_lich_kingAI(Creature* pCreature) : BossAI(pCreature, DATA_LICH_KING), summons(me)
+            {
+                pInstance = me->GetInstanceScript();
+                pLichKing = me;
+            }
+
+            void Reset()
+            {
+                me->SetReactState(REACT_PASSIVE);
+                me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
+
+                m_uiPhase = 1;
+                m_uiRandomSpeechTimer = 33000;
+                m_uiBerserkTimer = 900000;
+                m_uiSummonShamblingHorrorTimer = 20000;
+                m_uiSummonDrudgeGhoulsTimer = 30000;
+                m_uiInfestTimer = 30000;
+                m_uiNecroticPlagueTimer = !bCast ? 30000 : 30000000;
+                m_uiTirionSpawnTimer = 5000;
+                m_uiIcePulsSummonTimer = 10000;
+                m_uiPainandSufferingTimer = 10000;
+                m_uiSummonSpiritTimer = 20000;
+                m_uiSummonValkyrTimer = 5000;
+                m_uiSoulReaperTimer = 30000;
+                m_uiDefileTimer = 25000;
+                m_uiInfestTimer = 40000;
+                m_uiSummonVileSpiritTimer = 30000;
+                m_uiHarvestSoulTimer = 70000;
+                m_uiSummonShadowTrap = 20000;
+                m_uiEndingTimer = 1000;
+                m_uiEndingPhase = 1;
+
+                TriggerSpawned = false;
+                bEnding = false;
+                bCast = false;
+
+                if(!pInstance)
+                    return;
+
+                pInstance->SetData(DATA_LICH_KING_EVENT, NOT_STARTED);
+                pInstance->SetData(DATA_BEEN_WAITING, DONE);
+                pInstance->SetData(DATA_NECK_DEEP, DONE);
+
+                summons.DespawnAll();
+
+                me->SetSpeed(MOVE_RUN, 1.8f);
+                me->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_DISARMED);
+
+                if (me->GetMotionMaster()->GetCurrentMovementGeneratorType() == POINT_MOTION_TYPE)
+                    me->GetMotionMaster()->MovementExpired();
+
+                if(SpellEntry* spellRevive = GET_SPELL(SPELL_SUMMON_DEFILE))
+                    spellRevive->DurationIndex = 3;
+                if(SpellEntry* spell = GET_SPELL(SPELL_ICEBLOCK_TRIGGER))
+                    spell->Targets = 6; //target chain damage
+                if(SpellEntry* spell = GET_SPELL(SPELL_SOUL_REAPER_HASTE_AURA))
+                    spell->Targets = 1;
+            }
+
+            void EnterCombat(Unit* /*pWho*/)
+            {
+                DoScriptText(SAY_AGGRO, me);
+
+                if(pInstance)
+                    pInstance->SetData(DATA_LICH_KING_EVENT, IN_PROGRESS);
+            }
+
+            void JustDied(Unit* /*pKiller*/)
+            {
+                if(!pInstance)
+                    return;
+
+                DoScriptText(SAY_DEATH_KING, me);
+                pInstance->SetData(DATA_LICH_KING_EVENT, DONE);
+                if(pInstance->GetData(DATA_BEEN_WAITING) == DONE)
+                    pInstance->DoCompleteAchievement(RAID_MODE(ACHIEV_BEEN_WAITING_A_LONG_TIME_FOR_THIS_10,ACHIEV_BEEN_WAITING_A_LONG_TIME_FOR_THIS_25));
+                if(pInstance->GetData(DATA_NECK_DEEP) == FAIL)
+                    pInstance->DoCompleteAchievement(RAID_MODE(ACHIEV_NECK_DEEP_IN_VILE_10,ACHIEV_NECK_DEEP_IN_VILE_25));
+
+                summons.DespawnAll();
+
+                PlayerCinematic();
+            }
+
+            void MovementInform(uint32 type, uint32 id)
+            {
+                if(type != POINT_MOTION_TYPE)
+                    return;
+
+                if(id == POINT_PLATFORM_CENTRE)
+                {
+                    DoScriptText(SAY_REMORSELESS_WINTER, me);
+                    DoCast(me, SPELL_REMORSELES_WINTER);
+                    me->GetMotionMaster()->MovementExpired();
+                }
+            }
+
+            void PlayerCinematic()
+            {
+                Map::PlayerList const &PlList = me->GetMap()->GetPlayers();
+
+                if (PlList.isEmpty())
+                    return;
+
+                for (Map::PlayerList::const_iterator i = PlList.begin(); i != PlList.end(); ++i)
+                {
+                    if (Player* pPlayer = i->getSource())
+                    {
+                        if(pPlayer)
+                        {
+                            pPlayer->SendMovieStart(16);
+                        }
+                    }
+                }
+            }
+
+            void JustReachedHome()
+            {
+                if(pInstance)
+                    pInstance->SetData(DATA_LICH_KING_EVENT, FAIL);
+
+                summons.DespawnAll();
+            }
+
+            void KilledUnit(Unit* victim)
+            {
+                if(!bEnding)
+                {
+                    if (victim->GetTypeId() == TYPEID_PLAYER)
+                    {
+                        switch(rand()%1)
+                        {
+                            case 0: DoScriptText(SAY_KILL_1, me); break;
+                            case 1: DoScriptText(SAY_KILL_2, me); break;
+                        }
+                    }
+                }
+            }
+
+            void JustSummoned(Creature* summoned)
+            {
+                if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                    summoned->AI()->AttackStart(pTarget);
+
+                summons.Summon(summoned);
+
+                switch(summoned->GetEntry())
+                {
+                    case CREATURE_ICE_SPHERE:
+                        DoCast(summoned, SPELL_ICE_BURST_DISTANCE_CHECK);
+                        DoCast(summoned, SPELL_ICE_PULSE);
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                        {
+                            me->AI()->AttackStart(pTarget);
+                            me->GetMotionMaster()->MoveChase(pTarget);
+                        }
+                        break;
+                    case CREATURE_DEFILE:
+                        DoCast(summoned, SPELL_DEFILE);
+                        summoned->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
+                        break;
+                }
+            }
+
+            void Phasenswitch()
+            {
+                me->SetReactState(REACT_PASSIVE);
+                me->AttackStop();
+                me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
+                SetCombatMovement(false);
+                me->GetMotionMaster()->MovePoint(POINT_PLATFORM_CENTRE, MovePos[1]);
+            }
+
+            void NextPhase() //caled after cast winter
+            {
+                m_uiPhase = m_uiPhase == 2 ? 3 : 5;
+                me->SetReactState(REACT_AGGRESSIVE);
+                SetCombatMovement(true);
+                me->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
+            }
+
+            void DamageTaken(Unit* /*done_by*/, uint32& /*damage*/)
+            {
+                switch(m_uiPhase)
+                {
+                case 1:
+                    if(HealthAbovePct(71))
+                        return;
+                        m_uiPhase = 2;
+                        Phasenswitch();
+                    break;
+                case 3:
+                    if(HealthAbovePct(41))
+                        return;
+                        m_uiPhase = 4;
+                        Phasenswitch();
+                    break;
+                }
+
+                if(!HealthAbovePct(12) && !TriggerSpawned)
+                {
+                    pSafeZone = me->SummonCreature(CREATURE_TRIGGER, me->GetPositionX(), me->GetPositionY(), me->GetPositionZ(), 0, TEMPSUMMON_CORPSE_DESPAWN, 360000);
+                    pSafeZone->AI()->AttackStart(me);
+                    pSafeZone->SetDisplayId(MODEL_INVISIBLE);
+                    TriggerSpawned = true;
+                }
+
+                if(!HealthAbovePct(11) && !bEnding)
+                    bEnding = true;
+            }
+
+            void UpdateAI(const uint32 uiDiff)
+            {
+                if (!UpdateVictim() || !CheckInRoom())
+                    return;
+
+                if(!bEnding)
+                {
+                    if (m_uiRandomSpeechTimer < uiDiff)
+                    {
+                        DoScriptText(RAND(SAY_RANDOM_1,SAY_RANDOM_2), me);
+                        m_uiRandomSpeechTimer = 33000;
+                    } else m_uiRandomSpeechTimer -= uiDiff;
+
+                    if (m_uiBerserkTimer < uiDiff)
+                    {
+                        DoScriptText(SAY_BERSERK, me);
+                        DoCast(me, SPELL_BERSERK);
+                        m_uiBerserkTimer = 900000;
+                    } else m_uiBerserkTimer -= uiDiff;
+                }
+
+                if(m_uiPhase == 1)
+                {
+                    if (IsHeroic())
+                    {
+                        if (m_uiSummonShadowTrap < uiDiff)
+                        {
+                            if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                                DoCast(pTarget, SPELL_SUMMON_SHADOW_TRAP, true);
+                            m_uiSummonShadowTrap = 30000;
+                        } else m_uiSummonShadowTrap -= uiDiff;
+                    }
+
+                    if (m_uiInfestTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_INFEST);
+                        m_uiInfestTimer = 30000;
+                    } else m_uiInfestTimer -= uiDiff;
+
+                    if (m_uiSummonDrudgeGhoulsTimer < uiDiff)
+                    {
+                        DoCast(SPELL_SUMMON_DRUDGE_GHOULS);
+                        m_uiSummonDrudgeGhoulsTimer = 20000;
+                    } else m_uiSummonDrudgeGhoulsTimer -= uiDiff;
+
+                    if (m_uiSummonShamblingHorrorTimer < uiDiff)
+                    {
+                        DoCast(SPELL_SUMMON_SHAMBLING_HORROR);
+                        m_uiSummonShamblingHorrorTimer = 30000;
+                    } else m_uiSummonShamblingHorrorTimer -= uiDiff;
+
+                    if (m_uiNecroticPlagueTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_NECROTIC_PLAGUE);
+                        m_uiNecroticPlagueTimer = !bCast ? 30000 : 30000000;
+                    } else m_uiNecroticPlagueTimer -= uiDiff;
+                }
+
+                if(m_uiPhase == 2) //transition phase 1
+                {
+                    if (m_uiSummonSpiritTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_SUMMON_RAGING_SPIRIT);
+                        m_uiSummonSpiritTimer = 20000;
+                    } else m_uiSummonSpiritTimer -= uiDiff;
+
+                    if (m_uiIcePulsSummonTimer < uiDiff)
+                    {
+                        DoCast(SPELL_SUMMON_ICE_SPEHERE);
+                        m_uiIcePulsSummonTimer = 15000;
+                    } else m_uiIcePulsSummonTimer -= uiDiff;
+
+                    if (m_uiPainandSufferingTimer < uiDiff)
+                    {
+                        DoCast(SPELL_PAIN_AND_SUFFERING);
+                        m_uiPainandSufferingTimer = 2000;
+                    } else m_uiPainandSufferingTimer -= uiDiff;
+                }
+
+                if(m_uiPhase == 3)
+                {
+                    if (m_uiDefileTimer < uiDiff)
+                    {
+                        DoScriptText(SAY_EMOTE_DEFILE, me);
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_SUMMON_DEFILE);
+                        m_uiDefileTimer = 20000;
+                    } else m_uiDefileTimer -= uiDiff;
+
+                    if (m_uiSummonValkyrTimer < uiDiff)
+                    {
+                        DoScriptText(SAY_SUMMON_VALKYR, me);
+                        DoCast(SPELL_SUMMON_VALKYR);
+                        m_uiSummonValkyrTimer = 35000;
+                        m_uiDefileTimer = 5000; //cast defile after cast valkyr summon
+                    } else m_uiSummonValkyrTimer -= uiDiff;
+
+                    if (m_uiSoulReaperTimer < uiDiff)
+                    {
+                        DoCastVictim(SPELL_SOUL_REAPER);
+                        DoCast(SPELL_SOUL_REAPER_HASTE_AURA);
+                        m_uiSoulReaperTimer = 30000;
+                    } else m_uiSoulReaperTimer -= uiDiff;
+
+                    if (m_uiInfestTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_INFEST);
+                        m_uiInfestTimer = 30000;
+                    } else m_uiInfestTimer -= uiDiff;
+                }
+
+                if(m_uiPhase == 4) //transition phase 2
+                {
+                    if (m_uiSummonSpiritTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_SUMMON_RAGING_SPIRIT);
+                        m_uiSummonSpiritTimer = 15000;
+                    } else m_uiSummonSpiritTimer -= uiDiff;
+
+                    if (m_uiIcePulsSummonTimer < uiDiff)
+                    {
+                        DoCast(SPELL_SUMMON_ICE_SPEHERE);
+                        m_uiIcePulsSummonTimer = 15000;
+                    } else m_uiIcePulsSummonTimer -= uiDiff;
+
+                    if (m_uiPainandSufferingTimer < uiDiff)
+                    {
+                        DoCast(SPELL_PAIN_AND_SUFFERING);
+                        m_uiPainandSufferingTimer = 3000;
+                    } else m_uiPainandSufferingTimer -= uiDiff;
+                }
+
+                if(m_uiPhase == 5)
+                {
+                    if (m_uiSummonVileSpiritTimer < uiDiff)
+                    {
+                        DoCast(SPELL_SUMMON_VILE_SPIRIT);
+                        m_uiSummonVileSpiritTimer = 30000;
+                    } else m_uiSummonVileSpiritTimer -= uiDiff;
+
+                    if (m_uiHarvestSoulTimer < uiDiff)
+                    {
+                        DoScriptText(SAY_HARVEST_SOUL, me);
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_HARVEST_SOULS);
+                        m_uiHarvestSoulTimer = 70000;
+                    } else m_uiHarvestSoulTimer -= uiDiff;
+
+                    if (m_uiSoulReaperTimer < uiDiff)
+                    {
+                        DoCastVictim(SPELL_SOUL_REAPER);
+                        DoCast(me, SPELL_SOUL_REAPER_HASTE_AURA);
+                        m_uiSoulReaperTimer = 30000;
+                    } else m_uiSoulReaperTimer -= uiDiff;
+
+                    if (m_uiDefileTimer < uiDiff)
+                    {
+                        if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                            DoCast(pTarget, SPELL_SUMMON_DEFILE);
+                        m_uiDefileTimer = 20000;
+                    } else m_uiDefileTimer -= uiDiff;
+                }
+
+                DoMeleeAttackIfReady();
+
+                if(!bEnding)
+                    return;
+
+                if (m_uiEndingTimer <= uiDiff)
+                {
+                    switch(m_uiEndingPhase)
+                    {
+                        case 1:
+                            me->GetMotionMaster()->MoveIdle();
+                            me->SetReactState(REACT_PASSIVE);
+                            me->AttackStop();
+                            me->CastStop();
+                            DoResetThreat();
+                            DoScriptText(SAY_10_PROZENT, me);
+                            DoCast(SPELL_FURY_OF_FROSTMOURNE);
+                            m_uiEndingTimer = 15000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 2:
+                            DoScriptText(SAY_ENDING_1_KING, me);
+                            m_uiEndingTimer = 24000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 3:
+                            DoScriptText(SAY_ENDING_2_KING, me);
+                            m_uiEndingTimer = 25000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 4:
+                            me->GetMotionMaster()->MovePoint(0, MovePos[1]);
+                            m_uiEndingTimer = 4000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 5:
+                            DoCast(me, SPELL_CHANNEL_KING);
+                            DoScriptText(SAY_ENDING_3_KING, me);
+                            m_uiEndingTimer = 26000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 6:
+                            DoScriptText(SAY_ENDING_4_KING, me);
+                            m_uiEndingTimer = 9000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 7:
+                            DoScriptText(SAY_ENDING_5_TIRION, pTirion);
+                            m_uiEndingTimer = 9000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 8:
+                            DoCast(pTirion, SPELL_TIRION_LIGHT);
+                            m_uiEndingTimer = 5000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 9:
+                            pTirion->RemoveAurasDueToSpell(SPELL_ICEBLOCK_TRIGGER);
+                            m_uiEndingTimer = 2000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 10:
+                            pTirion->GetMotionMaster()->MovePoint(0, MovePos[2]);
+                            m_uiEndingTimer = 1000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 11:
+                            pTirion->GetMotionMaster()->MoveJump(517.482910f, -2124.905762f, 1040.861328f, 10.0f, 15.0f); //pTirion->JumpTo(pFrostmourne, 15.0f);
+                            pTirion->SetUInt32Value(UNIT_NPC_EMOTESTATE, 375);
+                            m_uiEndingTimer = 1000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 12:
+                            me->RemoveAura(SPELL_CHANNEL_KING);
+                            me->CastSpell(me, SPELL_BOOM_VISUAL, false);
+                            m_uiEndingTimer = 300;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 13:
+                            me->CastSpell(me, SPELL_SUMMON_BROKEN_FROSTMOURNE, false);
+                            m_uiEndingTimer = 3000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 14:
+                            me->CastSpell(me, 73017, false);
+                            m_uiEndingTimer = 1000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 15:
+                            DoScriptText(SAY_ENDING_6_KING, me);
+                            m_uiEndingTimer = 3000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 16:
+                            pFrostmourne = me->SummonCreature(27880, me->GetPositionX()+2, me->GetPositionY()+2, me->GetPositionZ(), 0, TEMPSUMMON_TIMED_OR_CORPSE_DESPAWN, 99999999);
+                            pFrostmourne->CastSpell(pFrostmourne, SPELL_BROKEN_FROSTMOURNE, false);
+                            pFrostmourne->CastSpell(pFrostmourne, SPELL_FROSTMOURNE_TRIGGER, false);
+                            pFrostmourne->GetMotionMaster()->MoveChase(me);
+                            me->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_DISARMED);
+                            //pTirion->CastSpell(pTirion, SPELL_DISENGAGE, false);
+                            m_uiEndingTimer = 2000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 17:
+                            me->RemoveAllAuras();
+                            me->RemoveAura(SPELL_SUMMON_BROKEN_FROSTMOURNE);
+                            DoPlaySoundToSet(me, SOUND_ENDING_7_KING);
+                            me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 473);
+                            m_uiEndingTimer = 5000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 18:
+                            DoScriptText(SAY_ENDING_8_TIRION, pTirion);
+                            m_uiEndingTimer = 6000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 19:
+                            pFather = me->SummonCreature(CREAUTRE_MENETHIL, me->GetPositionX()+5, me->GetPositionY()+5, me->GetPositionZ(), 0, TEMPSUMMON_TIMED_OR_CORPSE_DESPAWN, 9999999);
+                            DoScriptText(SAY_ENDING_9_FATHER, pFather);
+                            pFather->CastSpell(pFather, SPELL_REVIVE, true);
+                            m_uiEndingTimer = 3000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 20:
+                            DoScriptText(SAY_ENDING_11_FATHER, pFather);
+                            //pFather->CastSpell(pFather, SPELL_REVIVE_VISUAL, false);
+                            m_uiEndingTimer = 6000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 21:
+                            DoScriptText(SAY_ENDING_10_TIRION, pTirion);
+                            m_uiEndingTimer = 5000;
+                            ++m_uiEndingPhase;
+                            break;
+                        case 22:
+                            DoScriptText(SAY_ENDING_12_KING, me);
+                            pTirion->SetReactState(REACT_AGGRESSIVE);
+                            pTirion->AI()->AttackStart(me);
+                            pFather->AI()->AttackStart(me);
+                            m_uiEndingTimer = 5000;
+                            ++m_uiEndingPhase;
+                            break;
+                    }
+                } else m_uiEndingTimer -= uiDiff;
+            }
+        private:
+            InstanceScript* pInstance;
+
+            uint8 m_uiEndingPhase;
+            uint8 m_uiPhase;
+
+            uint32 m_uiEndingTimer;
+            uint32 m_uiTirionSpawnTimer;
+            uint32 m_uiSummonShamblingHorrorTimer;
+            uint32 m_uiSummonDrudgeGhoulsTimer;
+            uint32 m_uiSummonShadowTrap;
+            uint32 m_uiInfestTimer;
+            uint32 m_uiNecroticPlagueTimer;
+            uint32 m_uiBerserkTimer;
+            uint32 m_uiSummonValkyrTimer;
+            uint32 m_uiSoulReaperTimer;
+            uint32 m_uiDefileTimer;
+            uint32 m_uiHarvestSoulTimer;
+            uint32 m_uiSummonVileSpiritTimer;
+            uint32 m_uiPainandSufferingTimer;
+            uint32 m_uiIcePulsSummonTimer;
+            uint32 m_uiSummonSpiritTimer;
+            uint32 m_uiRandomSpeechTimer;
+
+            bool TriggerSpawned;
+            bool bEnding;
+            bool bCast;
+
+            SummonList summons;
+
+        };
+
+        CreatureAI* GetAI(Creature* pCreature) const
+        {
+            return new boss_the_lich_kingAI(pCreature);
+        }
+};
+
+class npc_tirion_icc : public CreatureScript
+{
+    public:
+        npc_tirion_icc() : CreatureScript("npc_tirion_icc") { }
+
+        struct npc_tirion_iccAI : public ScriptedAI
+        {
+            npc_tirion_iccAI(Creature* pCreature) : ScriptedAI(pCreature)
+            {
+                pInstance = pCreature->GetInstanceScript();
+                pTirion = me;
+            }
+
+            void Reset()
+            {
+                m_uiIntroTimer = 1000;
+                m_uiIntroPhase = 1;
+
+                bIntro = false;
+
+                me->SetReactState(REACT_PASSIVE);
+                me->SetSpeed(MOVE_RUN, 1.8f);
+            }
+
+            void StartEvent()
+            {
+                bIntro = true;
+            }
+
+            void UpdateAI(const uint32 diff)
+            {
+                if(pInstance->GetData(DATA_LICH_KING_EVENT) != NOT_STARTED)
+                    me->RemoveFlag(UNIT_NPC_FLAGS, UNIT_NPC_FLAG_GOSSIP);
+                else
+                    me->SetFlag(UNIT_NPC_FLAGS, UNIT_NPC_FLAG_GOSSIP);
+
+                 if(!bIntro || !pInstance)
+                     return;
+
+                if(m_uiIntroTimer <= diff)
+                {
+                    switch(m_uiIntroPhase)
+                    {
+                    case 1:
+                        {
+                            pLichKing->SetStandState(UNIT_STAND_STATE_STAND);
+                            pLichKing->AddUnitMovementFlag(MOVEMENTFLAG_WALKING);
+                            pLichKing->SetSpeed(MOVE_WALK, 1.2f);
+                            pLichKing->GetMotionMaster()->MovePoint(0, MovePos[0]);
+                            me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 375);
+                            m_uiIntroTimer = 3000;
+                            ++m_uiIntroPhase;
+                        }
+                    break;
+                    case 2:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 1);
+                        DoScriptText(SAY_INTRO_1_KING, pLichKing);
+                        m_uiIntroTimer = 14000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 3:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
+                        DoScriptText(SAY_INTRO_2_TIRION, me);
+                        m_uiIntroTimer = 9000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 4:
+                        DoScriptText(SAY_INTRO_3_KING, pLichKing);
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 392);
+                        m_uiIntroTimer = 3000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 5:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 397);
+                        m_uiIntroTimer = 2000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 6:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
+                        m_uiIntroTimer = 18000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 7:
+                        me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 397);
+                        DoScriptText(SAY_INTRO_4_TIRION, me);
+                        m_uiIntroTimer = 1000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 8:
+                        me->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
+                        me->GetMotionMaster()->MovePoint(0, MovePos[3]);
+                        m_uiIntroTimer = 2000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 9:
+                        pLichKing->CastSpell(pTirion, SPELL_ICEBLOCK_TRIGGER, true);
+                        m_uiIntroTimer = 2000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 10:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 1);
+                        DoScriptText(SAY_INTRO_5_KING, pLichKing);
+                        m_uiIntroTimer = 12000;
+                        ++m_uiIntroPhase;
+                        break;
+                    case 11:
+                        pLichKing->SetUInt32Value(UNIT_NPC_EMOTESTATE, 0);
+                        pLichKing->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_NON_ATTACKABLE);
+                        pLichKing->SetReactState(REACT_AGGRESSIVE);
+                        if(Unit* pTarget = SelectUnit(SELECT_TARGET_RANDOM, 1))
+                            me->AI()->AttackStart(pTarget);
+                        m_uiIntroTimer = 6000;
+                        ++m_uiIntroPhase;
+                        break;
+                    }
+                } else m_uiIntroTimer -= diff;
+            }
+        private:
+            InstanceScript* pInstance;
+
+            uint32 m_uiIntroTimer;
+            uint8 m_uiIntroPhase;
+
+            bool bIntro;
+        };
+
+        bool OnGossipHello(Player* pPlayer, Creature* pCreature)
+        {
+            pPlayer->ADD_GOSSIP_ITEM(GOSSIP_ICON_CHAT, GOSSIP_START_EVENT, GOSSIP_SENDER_MAIN, 999999);
+            pPlayer->SEND_GOSSIP_MENU(10600, pCreature->GetGUID());
+
+            return true;
+        }
+
+        bool OnGossipSelect(Player* pPlayer, Creature* pCreature, uint32 /*uiSender*/, uint32 uiAction)
+        {
+            if (uiAction == 999999)
+            {
+                CAST_AI(npc_tirion_icc::npc_tirion_iccAI, pCreature->AI())->StartEvent();
+                pPlayer->CLOSE_GOSSIP_MENU();
+            }
+            return true;
+        }
+
+        CreatureAI* GetAI(Creature* pCreature) const
+        {
+            return new npc_tirion_iccAI(pCreature);
+        }
+};
+
+class npc_valkyr_icc : public CreatureScript
+{
+    public:
+        npc_valkyr_icc() : CreatureScript("npc_valkyr_icc") { }
+
+        struct npc_valkyr_iccAI : public ScriptedAI
+        {
+            npc_valkyr_iccAI(Creature* pCreature) : ScriptedAI(pCreature), vehicle(pCreature->GetVehicleKit())
+            {
+                assert(vehicle);
+            }
+
+            void Reset()
+            {
+                me->SetFlying(true);
+                m_uiGrabTimer = 2000;
+                me->GetVehicleKit();
+                InVehicle = false;
+
+                if (me->GetMotionMaster()->GetCurrentMovementGeneratorType() == POINT_MOTION_TYPE)
+                    me->GetMotionMaster()->MovementExpired();
+            }
+
+            void EnterCombat(Unit* /*who*/) { }
+
+            void MovementInform(uint32 type, uint32 id)
+            {
+                if(type != POINT_MOTION_TYPE)
+                    return;
+
+                if(id == POINT_PLARFORM_END)
+                    vehicle->RemoveAllPassengers();
+            }
+
+            void UpdateAI(const uint32 uiDiff)
+            {
+                if (!UpdateVictim())
+                    return;
+
+                if (!InVehicle && m_uiGrabTimer < uiDiff)
+                {
+                    if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100.0f, true))
+                    {
+                        pTarget->EnterVehicle(vehicle);
+                        InVehicle = true;
+                        me->GetMotionMaster()->MovePoint(POINT_PLARFORM_END, MovePos[4]);
+                        DoCast(me, SPELL_WINGS_OF_THE_DAMNED);
+                        if (IsHeroic())
+                            DoCast(pTarget, SPELL_LIFE_SIPHON);
+                    }
+                    m_uiGrabTimer = 20000;
+                } else m_uiGrabTimer -= uiDiff;
+            }
+        private:
+            uint32 m_uiGrabTimer;
+            bool InVehicle;
+
+            Vehicle* vehicle;
+        };
+
+        CreatureAI* GetAI(Creature* pCreature) const
+        {
+            return new npc_valkyr_iccAI(pCreature);
+        }
+};
+
+class npc_vile_spirit_icc : public CreatureScript
+{
+    public:
+        npc_vile_spirit_icc() : CreatureScript("npc_vile_spirit_icc") { }
+
+        struct npc_vile_spirit_iccAI : public ScriptedAI
+        {
+            npc_vile_spirit_iccAI(Creature* pCreature) : ScriptedAI(pCreature) { }
+
+            void Reset()
+            {
+                m_uiMoveTimer = 15000;
+                DoCast(me, SPELL_VILE_SPIRIT_DISTANCE_CHECK);
+                bStartMove = false;
+                DoStartNoMovement(me->getVictim());
+            }
+
+            void UpdateAI(const uint32 uiDiff)
+            {
+                if (!bStartMove && m_uiMoveTimer < uiDiff)
+                {
+                    DoStartMovement(me->getVictim());
+                    DoCast(me, SPELL_VILE_SPIRIT_ACTIVE);
+                    bStartMove = true;
+                    if(Unit* pTarget = SelectTarget(SELECT_TARGET_RANDOM, 1, 100, true))
+                        me->AddThreat(pTarget, 100000.0f);
+                    m_uiMoveTimer = 15000;
+                } else m_uiMoveTimer -= uiDiff;
+            }
+        private:
+            bool bStartMove;
+            uint32 m_uiMoveTimer;
+        };
+
+        CreatureAI* GetAI(Creature* pCreature) const
+        {
+            return new npc_vile_spirit_iccAI(pCreature);
+        }
+};
+
+class spell_lich_king_necrotic_plague : public SpellScriptLoader
+{
+    public:
+        spell_lich_king_necrotic_plague() : SpellScriptLoader("spell_lich_king_necrotic_plague") { } //70338
+
+
+        class spell_lich_king_necrotic_plague_AuraScript : public AuraScript
+        {
+            PrepareAuraScript(spell_lich_king_necrotic_plague_AuraScript)
+
+            void ExtraEffect(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if(!aurApp->GetBase()->GetCaster())
+                    return;
+
+                if (InstanceScript* instance = aurApp->GetBase()->GetCaster()->GetInstanceScript())
+                {
+                    CAST_AI(boss_the_lich_king::boss_the_lich_kingAI, CAST_CRE(aurApp->GetBase()->GetCaster())->AI())->DoCast(SPELL_PLAGUE_SIPHON);
+                    aurApp->GetBase()->GetCaster()->CastSpell(aurApp->GetBase()->GetCaster(), SPELL_NECROTIC_PLAGUE_IMMUNITY, true);
+
+                if (Unit* target = aurApp->GetTarget())
+                    if (Aura* plague = target->AddAura(SPELL_NECROTIC_PLAGUE, target))
+                        plague->SetStackAmount(plague->GetStackAmount() + 1);
+
+                if(aurApp->GetBase()->GetStackAmount() >= 30)
+                    instance->SetData(DATA_BEEN_WAITING, FAIL);
+                }
+            }
+
+            void Register()
+            {
+                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_necrotic_plague_AuraScript::ExtraEffect, EFFECT_0, SPELL_AURA_PERIODIC_DAMAGE, AURA_EFFECT_HANDLE_REAL);
+            }
+        };
+
+        AuraScript* GetAuraScript() const
+        {
+            return new spell_lich_king_necrotic_plague_AuraScript();
+        }
+};
+
+class spell_lich_king_infection : public SpellScriptLoader
+{
+    public:
+        spell_lich_king_infection() : SpellScriptLoader("spell_lich_king_infection") { } //70541
+
+
+        class spell_lich_king_infection_AuraScript : public AuraScript
+        {
+            PrepareAuraScript(spell_lich_king_infection_AuraScript)
+
+            void OnPeriodic(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if (Unit* sick = aurApp->GetBase()->GetCaster())
+                    if(sick->isAlive() && sick->GetHealthPct() > 90)
+                        sick->RemoveAurasDueToSpell(SPELL_INFEST);
+            }
+
+            void Register()
+            {
+                OnEffectPeriodic += AuraEffectPeriodicFn(spell_lich_king_infection_AuraScript::OnPeriodic, EFFECT_0, SPELL_AURA_PERIODIC_DAMAGE);
+            }
+        };
+
+        AuraScript* GetAuraScript() const
+        {
+            return new spell_lich_king_infection_AuraScript();
+        }
+};
+
+class spell_lich_king_valkyr_summon : public SpellScriptLoader
+{
+    public:
+        spell_lich_king_valkyr_summon() : SpellScriptLoader("spell_lich_king_valkyr_summon") { } //74361
+
+
+        class spell_lich_king_valkyr_summon_AuraScript : public AuraScript
+        {
+            PrepareAuraScript(spell_lich_king_valkyr_summon_AuraScript);
+
+            void OnApply(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if (Unit* caster = aurApp->GetBase()->GetCaster())
+                {
+                    uint8 spawnMod = caster->GetMap()->GetSpawnMode();
+                    aurApp->GetBase()->SetDuration(spawnMod == 1 || spawnMod == 3 ? 3000 : 1000);
+                }
+            }
+
+            void HandleTriggerSpell(AuraEffect const* aurEff, AuraApplication const* aurApp)
+            {
+                PreventDefaultAction();
+                if (Unit* caster = aurApp->GetBase()->GetCaster())
+                {
+                    uint32 triggerSpellId = GetSpellProto()->EffectTriggerSpell[aurEff->GetEffIndex()];
+                    float x, y, z;
+                    caster->GetPosition(x, y, z);
+                    caster->CastSpell(x, y, z + 6, triggerSpellId, true, NULL, NULL, GetCasterGUID(), caster);
+                }
+            }
+
+            void Register()
+            {
+                OnEffectPeriodic += AuraEffectPeriodicFn(spell_lich_king_valkyr_summon_AuraScript::HandleTriggerSpell, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL);
+                OnEffectApply += AuraEffectApplyFn(spell_lich_king_valkyr_summon_AuraScript::OnApply, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL, AURA_EFFECT_HANDLE_REAL);
+            }
+        };
+
+        AuraScript* GetAuraScript() const
+        {
+            return new spell_lich_king_valkyr_summon_AuraScript();
+        }
+};
+
+class spell_lich_king_winter : public SpellScriptLoader
+{
+    public:
+        spell_lich_king_winter() : SpellScriptLoader("spell_lich_king_winter") { } //68981
+
+
+        class spell_lich_king_winter_AuraScript : public AuraScript
+        {
+            PrepareAuraScript(spell_lich_king_winter_AuraScript)
+
+            void OnPereodic(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if (InstanceScript* instance = aurApp->GetTarget()->GetInstanceScript())
+                    if (GameObject* floor = GameObject::GetGameObject((*aurApp->GetBase()->GetOwner()), instance->GetData64(DATA_PLATFORM)))
+                        if(floor->HasFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED))
+                            floor->RemoveFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED);
+            }
+
+            void OnRemove(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if (Unit* caster = aurApp->GetBase()->GetCaster())
+                {
+                    caster->CastSpell(caster, SPELL_QUAKE, true);
+                    DoScriptText(SAY_BROKEN_ARENA, caster);
+                }
+            }
+
+            void Register()
+            {
+                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_winter_AuraScript::OnRemove, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL, AURA_EFFECT_HANDLE_REAL);
+                OnEffectPeriodic += AuraEffectPeriodicFn(spell_lich_king_winter_AuraScript::OnPereodic, EFFECT_0, SPELL_AURA_PERIODIC_TRIGGER_SPELL);
+            }
+        };
+
+        AuraScript* GetAuraScript() const
+        {
+            return new spell_lich_king_winter_AuraScript();
+        }
+};
+
+class spell_lich_king_quake : public SpellScriptLoader
+{
+    public:
+        spell_lich_king_quake() : SpellScriptLoader("spell_lich_king_quake") { } //72262
+
+
+        class spell_lich_king_quake_AuraScript : public AuraScript
+        {
+            PrepareAuraScript(spell_lich_king_quake_AuraScript)
+
+            void OnRemove(AuraEffect const* aurEff, AuraApplication const* aurApp, AuraEffectHandleModes /*mode*/)
+            {
+                if(!aurApp->GetBase()->GetCaster())
+                    return;
+
+                if (InstanceScript* instance = aurApp->GetTarget()->GetInstanceScript())
+                {
+                    if (GameObject* floor = GameObject::GetGameObject((*aurApp->GetBase()->GetOwner()), instance->GetData64(DATA_PLATFORM)))
+                    {
+                        floor->SetFlag(GAMEOBJECT_FLAGS, GO_FLAG_DAMAGED);
+                        CAST_AI(boss_the_lich_king::boss_the_lich_kingAI, pLichKing->AI())->NextPhase();
+                    }
+                }
+            }
+
+            void Register()
+            {
+                OnEffectRemove += AuraEffectRemoveFn(spell_lich_king_quake_AuraScript::OnRemove, EFFECT_0, SPELL_AURA_DUMMY, AURA_EFFECT_HANDLE_REAL);
+            }
+        };
+
+        AuraScript* GetAuraScript() const
+        {
+            return new spell_lich_king_quake_AuraScript();
+        }
+};
+
+class spell_vile_spirit_distance_check : public SpellScriptLoader
+{
+    public:
+        spell_vile_spirit_distance_check() : SpellScriptLoader("spell_vile_spirit_distance_check") { }
+
+
+        class spell_vile_spirit_distance_check_SpellScript : public SpellScript
+        {
+            PrepareSpellScript(spell_vile_spirit_distance_check_SpellScript);
+
+
+            void HandleScript(SpellEffIndex /*effIndex*/)
+            {
+                if (!(GetHitUnit() && GetHitUnit()->isAlive()))
+                    return;
+
+                if(Unit* caster = GetCaster())
+                {
+                    caster->CastSpell(caster, SPELL_BURST, true);
+
+                    if (InstanceScript* instance = caster->GetInstanceScript())
+                        instance->SetData(DATA_NECK_DEEP, FAIL);
+                }
+            }
+
+            void Register()
+            {
+                OnEffect += SpellEffectFn(spell_vile_spirit_distance_check_SpellScript::HandleScript, EFFECT_0, SPELL_EFFECT_DUMMY);
+            }
+        };
+
+        SpellScript* GetSpellScript() const
+        {
+            return new spell_vile_spirit_distance_check_SpellScript();
+        }
+};
+
+class spell_ice_burst_distance_check : public SpellScriptLoader
+{
+    public:
+        spell_ice_burst_distance_check() : SpellScriptLoader("spell_ice_burst_distance_check") { }
+
+
+        class spell_ice_burst_distance_check_SpellScript : public SpellScript
+        {
+            PrepareSpellScript(spell_ice_burst_distance_check_SpellScript);
+
+
+            void HandleScript(SpellEffIndex /*effIndex*/)
+            {
+                if (!(GetHitUnit() && GetHitUnit()->isAlive()))
+                    return;
+
+                if(Unit* caster = GetCaster())
+                    caster->CastSpell(caster, SPELL_ICE_BURST, true);
+            }
+
+            void Register()
+            {
+                OnEffect += SpellEffectFn(spell_ice_burst_distance_check_SpellScript::HandleScript, EFFECT_0, SPELL_EFFECT_DUMMY);
+            }
+        };
+
+        SpellScript* GetSpellScript() const
+        {
+            return new spell_ice_burst_distance_check_SpellScript();
+        }
+};
+
+void AddSC_boss_lichking()
+{
+    new boss_the_lich_king();
+    new npc_tirion_icc();
+    new npc_valkyr_icc();
+    new npc_vile_spirit_icc();
+    new spell_lich_king_necrotic_plague();
+    new spell_lich_king_infection();
+    new spell_lich_king_valkyr_summon();
+    new spell_lich_king_winter();
+    new spell_vile_spirit_distance_check();
+    new spell_ice_burst_distance_check();
+    new spell_lich_king_quake();
+}
diff --git a/src/server/scripts/Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp b/src/server/scripts/Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp
--- a/src/server/scripts/Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp
+++ b/src/server/scripts/Northrend/IcecrownCitadel/boss_valithria_dreamwalker.cpp
@@ -129,7 +129,6 @@
                 {
                     DoScriptText(SAY_END, me);
                     me->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_DISABLE_MOVE);
-                    pInstance->SetData(DATA_VALITHRIA_DREAMWALKER_EVENT, DONE);
                     me->SetReactState(REACT_PASSIVE);
                     me->RemoveAurasDueToSpell(SPELL_CORRUPTION);
                     bEnd = true;
@@ -153,6 +152,7 @@
                             break;
                         case 3:
                             me->ForcedDespawn();
+                            pInstance->SetData(DATA_VALITHRIA_DREAMWALKER_EVENT, DONE);
                             m_uiEndTimer = 1000;
                             bEnd = false;
                             ++m_uiStage;
diff --git a/src/server/scripts/Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp b/src/server/scripts/Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp
--- a/src/server/scripts/Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp
+++ b/src/server/scripts/Northrend/IcecrownCitadel/instance_icecrown_citadel.cpp
@@ -728,6 +728,7 @@
                     case DATA_SPAWN:
                         if(data >= 2)
                             Creature* sindragosa = instance->SummonCreature(CREATURE_SINDRAGOSA, SpawnLoc[2]);
+                        break;
                 }
 
                 if (data == DONE)
diff --git a/src/server/scripts/OutdoorPvP/CMakeLists.txt b/src/server/scripts/OutdoorPvP/CMakeLists.txt
--- a/src/server/scripts/OutdoorPvP/CMakeLists.txt
+++ b/src/server/scripts/OutdoorPvP/CMakeLists.txt
@@ -12,6 +12,8 @@
   OutdoorPvP/OutdoorPvPHP.h
   OutdoorPvP/OutdoorPvPZM.h
   OutdoorPvP/OutdoorPvPNA.h
+  OutdoorPvP/OutdoorPvPWG.cpp
+  OutdoorPvP/OutdoorPvPWG.h
 )
 
 message("  -> Prepared: Outdoor PVP Zones")
diff --git a/src/server/scripts/World/CMakeLists.txt b/src/server/scripts/World/CMakeLists.txt
--- a/src/server/scripts/World/CMakeLists.txt
+++ b/src/server/scripts/World/CMakeLists.txt
@@ -15,7 +15,8 @@
   World/boss_taerar.cpp
   World/npc_mount.cpp
  World/go_scripts.cpp
-  World/npc_innkeeper.cpp
+  world/PVP_System_Streaks.cpp
+ World/npc_innkeeper.cpp
   World/dungeon_finder.cpp
  World/achievement_scripts.cpp
 )
diff --git a/src/server/scripts/World/npc_mount.cpp b/src/server/scripts/World/npc_mount.cpp
--- a/src/server/scripts/World/npc_mount.cpp
+++ b/src/server/scripts/World/npc_mount.cpp
@@ -1,79 +1,74 @@
-/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
-* This program is free software; you can redistribute it and/or modify
-* it under the terms of the GNU General Public License as published by
-* the Free Software Foundation; either version 2 of the License, or
-* (at your option) any later version.
-*
-* This program is distributed in the hope that it will be useful,
-* but WITHOUT ANY WARRANTY; without even the implied warranty of
-* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-* GNU General Public License for more details.
-*
-* You should have received a copy of the GNU General Public License
-* along with this program; if not, write to the Free Software
-* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
+/* Copyright (C) 2010 Easy for TrinityCore <http://trinity-core.ru/>
+* This program is free software; you can redistribute it and/or modify
+* it under the terms of the GNU General Public License as published by
+* the Free Software Foundation; either version 2 of the License, or
+* (at your option) any later version.
+*
+* This program is distributed in the hope that it will be useful,
+* but WITHOUT ANY WARRANTY; without even the implied warranty of
+* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+* GNU General Public License for more details.
+*
+* You should have received a copy of the GNU General Public License
+* along with this program; if not, write to the Free Software
+* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+*/
+
+
+
 #include "ScriptPCH.h"
 
-#define MSG_GOSSIP_TEXT_1               "Я бы хотел взять на прокат быстрое средство передвижения за 1 серебряную монету"
-#define MSG_GOSSIP_TEXT_2               "Я бы хотел взять на прокат очень быстрое средство передвижения за 1 золотую монету"
-#define MSG_NOT_MONEY					"У вас не достаточно денег..."
-#define MSG_MOUTED						"Вы уже на средстве передвижения."
-#define COST_MONEY_1					100
-#define COST_MONEY_2					1000
-#define MOUNT_SPELL_ID_1				43899
-#define MOUNT_SPELL_ID_2				43900
+#define MSG_GOSSIP_TEXT_MOUNT           "Прокат ездовых животных"
+#define MSG_HI_LEVEL                    "У вас слишком большой уровень..."
+#define MSG_MOUTED                      "Вы уже на средстве передвижения."
+#define MOUNT_SPELL_MOUNT               64657
 
-class npc_mount : public CreatureScript
-{
-    public:
+
+class npc_mount : public CreatureScript
+{
+    public:
     npc_mount() : CreatureScript("npc_mount") { }
+    
+    bool OnGossipHello(Player* pPlayer, Creature* pCreature)
+    {
+        pPlayer->ADD_GOSSIP_ITEM(GOSSIP_ICON_CHAT, MSG_GOSSIP_TEXT_MOUNT, GOSSIP_SENDER_MAIN, 1);
+        pPlayer->SEND_GOSSIP_MENU(DEFAULT_GOSSIP_MESSAGE, pCreature->GetGUID());
+        return true;
+    }
 
-bool GossipHello_npc_mount(Player *player, Creature *_creature)
-{
-    player->ADD_GOSSIP_ITEM(0, MSG_GOSSIP_TEXT_1, GOSSIP_SENDER_MAIN, 1001);
-	player->ADD_GOSSIP_ITEM(0, MSG_GOSSIP_TEXT_2, GOSSIP_SENDER_MAIN, 1002);
-    player->SEND_GOSSIP_MENU(DEFAULT_GOSSIP_MESSAGE, _creature->GetGUID());
-    return true;
-}
+    bool OnGossipSelect(Player* pPlayer, Creature* pCreature, uint32 uiSender, uint32 uiAction)
+    {
+	    if (uiSender != GOSSIP_SENDER_MAIN)
+            return false;
 
-bool GossipSelect_npc_mount(Player *player, Creature *_creature, uint32 sender, uint32 action )
-{
-    if (sender != GOSSIP_SENDER_MAIN)
-        return false;
+        pPlayer->PlayerTalkClass->ClearMenus();
 
-	if (player->IsMounted()){
-		_creature->MonsterWhisper(MSG_MOUTED, player->GetGUID());
-		return false;
-	}
-
-	switch (action)
-	{
-		case 1001:
-			if (player->GetMoney() < COST_MONEY_1)
-			{
-				_creature->MonsterWhisper(MSG_NOT_MONEY, player->GetGUID());
-			}else{
-				player->AddAura(MOUNT_SPELL_ID_1,	player);
-				player->ModifyMoney(-COST_MONEY_1);
-			}
-			break;
-		case 1002:
-			if (player->GetMoney() < COST_MONEY_2)
-			{
-				_creature->MonsterWhisper(MSG_NOT_MONEY, player->GetGUID());
-			}else{
-				player->AddAura(MOUNT_SPELL_ID_2,	player);
-				player->ModifyMoney(-COST_MONEY_2);
-			}
-			break;
-	}
-    return true;
-   }
+	    switch (uiAction)
+	    {
+		    case 1:
+                if (pPlayer->getLevel()>80)
+                {
+                    pCreature->MonsterWhisper(MSG_HI_LEVEL, pPlayer->GetGUID());
+                    pPlayer->CLOSE_GOSSIP_MENU();
+			        break;
+                }
+                if (pPlayer->IsMounted())
+                {
+                    pCreature->MonsterWhisper(MSG_MOUTED, pPlayer->GetGUID());
+                    pPlayer->CLOSE_GOSSIP_MENU();
+			        break;
+                }
+                pPlayer->AddAura(MOUNT_SPELL_MOUNT, pPlayer);
+			    pPlayer->CLOSE_GOSSIP_MENU();
+			    break;
+		    default: 
+			    pPlayer->CLOSE_GOSSIP_MENU();
+	    }
+        return true;
+    }
 };
 
 void AddSC_npc_mount()
 {
-  new npc_mount;
+    new npc_mount;
 }
diff --git a/src/server/shared/SystemConfig.h b/src/server/shared/SystemConfig.h
--- a/src/server/shared/SystemConfig.h
+++ b/src/server/shared/SystemConfig.h
@@ -27,7 +27,7 @@
 #include "Define.h"
 #include "revision.h"
 
-#define _PACKAGENAME "Trinity@Greedy-core "
+#define _PACKAGENAME "Blizzlike@Sacred-core "
 #define _CODENAME "LONG_COLD_WINTER"
 
 #if TRINITY_ENDIAN == TRINITY_BIGENDIAN
@@ -38,12 +38,12 @@
 
 #if PLATFORM == PLATFORM_WINDOWS
 # ifdef _WIN64
-#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Win64," _ENDIAN_STRING ")"
+#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Win64, made by Stik" _ENDIAN_STRING ")"
 # else
-#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Win32," _ENDIAN_STRING ")"
+#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Win32, made by Stik" _ENDIAN_STRING ")"
 # endif
 #else
-#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Unix," _ENDIAN_STRING ")"
+#  define _FULLVERSION _PACKAGENAME "revision " _REVISION " "  "last update " _HASH " (Unix, made by Stik" _ENDIAN_STRING ")"
 #endif
 #endif
 
diff --git a/src/server/worldserver/worldserver.conf.dist b/src/server/worldserver/worldserver.conf.dist
--- a/src/server/worldserver/worldserver.conf.dist
+++ b/src/server/worldserver/worldserver.conf.dist
@@ -1,2433 +1,2545 @@
-################################################
-# Trinity@Greedy-core World Server configuration file #
-################################################
-[worldserver]
-
-# Note to devs, line breaks should be at column 80
+################################################
+# Trinity@Greedy-core World Server configuration file #
+################################################
+[worldserver]
+
+# Note to devs, line breaks should be at column 80
+###############################################################################
+# CONNECTIONS AND DIRECTORIES
+#
+#    RealmID
+#        RealmID must match the realmlist inside the realmd database
+#
+#    DataDir
+#        Data directory setting.
+#        Important: DataDir needs to be quoted, as it is a string which may
+#         contain space characters.
+#        Example: "@prefix@/share/trinitycore"
+#
+#    LogsDir
+#        Logs directory setting.
+#        Important: Logs dir must exists, or all logs need to be disabled
+#        Default: "" - no log directory prefix, if used log names isn't
+#         absolute path then logs will be stored in current directory.
+#
+#    LoginDatabaseInfo
+#    WorldDatabaseInfo
+#    CharacterDatabaseInfo
+#        Database connection settings for the world server.
+#        Default:
+#                    hostname;port;username;password;database
+#                    .;somenumber;username;password;database
+#                     - use named pipes in Windows
+#                    Named pipes: mySQL required adding
+#                        "enable-named-pipe" to [mysqld] section my.ini
+#                    .;/path/to/unix_socket;username;password;database
+#                     - use Unix sockets in Unix/Linux
+#
+#    LoginDatabase.WorkerThreads
+#    WorldDatabase.WorkerThreads
+#    CharacterDatabase.WorkerThreads
+#        The amount of worker threads spawned to handle
+#        asynchronous (delayed) MySQL statements.
+#        Each worker thread is mirrored with its own
+#        connection to the MySQL server and their own
+#        thread on the MySQL server.
+#        Default: 1
+#
+#    LoginDatabase.SynchThreads
+#    WorldDatabase.SynchThreads
+#    CharacterDatabase.SynchThreads
+#        The amount of MySQL connections spawned to handle
+#        synchronous (blocking) MySQL statements.
+#        Default: 1, 1, 2
+#
+#    MaxPingTime
+#        Settings for maximum database-ping interval (seconds between pings)
+#        Default: 1800 (30 minutes)
+#
+#    WorldServerPort
+#        Default WorldServerPort
+#
+#    BindIP
+#        Bind World Server to IP/hostname
+#
+###############################################################################
+
+RealmID = 1
+DataDir = "."
+LogsDir = ""
+LoginDatabaseInfo     = "127.0.0.1;3306;trinity;trinity;auth"
+WorldDatabaseInfo     = "127.0.0.1;3306;trinity;trinity;world"
+CharacterDatabaseInfo = "127.0.0.1;3306;trinity;trinity;characters"
+LoginDatabase.WorkerThreads = 1
+WorldDatabase.WorkerThreads = 1
+CharacterDatabase.WorkerThreads = 1
+LoginDatabase.SynchThreads = 1
+WorldDatabase.SynchThreads = 1
+CharacterDatabase.SynchThreads = 2
+MaxPingTime = 1800
+WorldServerPort = 8085
+BindIP = "0.0.0.0"
+
+###############################################################################
+# SCRIPTING SETTINGS
+#
+#    Locale
+#        Setting for current (DBC) locale to use
+#
+#    EventAI Error reporting
+#        Default: 0 - Only startup
+#                 1 - Startup errors and Runtime event errors
+#                 2 - Startup errors, Runtime event errors, and Creation errors
+#
+###############################################################################
+
+Locale = 0
+EAIErrorLevel = 2
+
+###############################################################################
+# PERFORMANCE SETINGS
+#
+#    UseProcessors
+#        Processors mask for multi-processor system (Used only in Windows)
+#        Default: 0 (selected by OS)
+#                 number (bitmask value of selected processors)
+#
+#    ProcessPriority
+#        Process priority setting (Used only at Windows)
+#        Default: 1 (HIGH)
+#                 0 (Normal)
+#
+#    Compression
+#        Compression level for update packages sent to client (1..9)
+#        Default: 1 (speed)
+#                 9 (best compression)
+#
+#    PlayerLimit
+#        Maximum number of players in the world. Excluding Mods, GMs and Admins
+#        Default: 100
+#                 0 (for infinite players)
+#                 If you want to block players and enable Mods, GMs or Admins use
+#                 DB field realmd.realmlist.allowedSecurityLevel
+#
+#    SaveRespawnTimeImmediately
+#        Save respawn time for creatures at death and gameobjects at use/open
+#        Default: 1 (save creature/gameobject respawn time immediately)
+#                 0 (save creature/gameobject respawn time at grid unload)
+#
+#    MaxOverspeedPings
+#        Maximum overspeed ping count before player kick
+#         (minimum is 2, 0 used for disable check)
+#        Default: 2
+#
+#    GridUnload
+#        Unload grids
+#         (if you have lot memory you can disable it to speed up
+#         player move to new grids second time)
+#        Default: 1 (unload grids)
+#                 0 (do not unload grids)
+#
+#    SocketSelectTime
+#        Socket select time (in milliseconds)
+#        Default: 10000 (10 secs)
+#
+#    SocketTimeOutTime
+#        Time in milliseconds afer which a connection sitting idle on the character
+#        selection screen is disconnected.
+#        Default: 900000 (15 minutes)
+#
+#    SessionAddDelay
+#        Time in microseconds that a network thread will sleep after authentication
+#        protocol and adding a connection to the world session map.
+#        Default: 10000 (10 milliseconds, 0,01 second)
+#
+#    GridCleanUpDelay
+#        Grid clean up delay (in milliseconds)
+#        Default: 300000 (5 min)
+#
+#    MapUpdateInterval
+#        Map update interval (in milliseconds)
+#        Default: 100
+#
+#    ChangeWeatherInterval
+#        Weather update interval (in milliseconds)
+#        Default: 600000 (10 min)
+#
+#    PlayerSaveInterval
+#        Player save interval (in milliseconds)
+#        Default: 900000 (15 min)
+#
+#    PlayerSave.Stats.MinLevel
+#        Minimum level for saving character stats for external usage in database    
+#        Default: 0  (do not save character stats)    
+#                 1+ (save stats for characters with level 1+)    
+#
+#    PlayerSave.Stats.SaveOnlyOnLogout    
+#        Enable/Disable saving of character stats only on logout
+#        Default: 1 (only save on logout)
+#                 0 (save on every player save)
+#
+#    vmap.enableLOS
+#    vmap.enableHeight
+#        Enable/Disable VMmap support for line of sight and height calculation
+#                 0 (disable)
+#        Default: 1 (enable)
+#
+#    vmap.ignoreMapIds
+#        Map id that will be ignored by VMaps
+#         List of ids with delimiter ','
+#         If more then one id is defined and spaces are included, the string
+#         has to be enclosed by "
+#        Example: "369,0,1,530"
+#
+#    vmap.ignoreSpellIds
+#        These spells are ignored for LoS calculation
+#         List of ids with delimiter ','
+#
+#    vmap.petLOS
+#        Check LOS for pets, to avoid them going through walls etc.
+#                 0 (disable, somewhat less CPU usage)
+#        Default: 1 (enable, each pet attack command will check for LOS)
+#
+#    vmap.enableIndoorCheck
+#        Enable/Disable VMap based indoor check to remove outdoor-only auras (mounts etc.)
+#                 0 (disabled, somewhat less CPU usage)
+#        Default: 1 (enabled)
+#
+#    DetectPosCollision
+#        Check final move position, summon position, etc for visible collision
+#         with other objects or wall (wall only if vmaps are enabled)
+#        Default: 1 (enable, required more CPU usage)
+#                 0 (disable, less position precision but will use less CPU)
+#
+#    TargetPosRecalculateRange
+#        Max distance from movement target point (+moving unit size) and
+#         targeted object (+size) after that new target movement point
+#         calculated. Max: melee attack range (5), min: contact range (0.5)
+#         More distance let have better performence, less distance let have
+#         more sensitive reaction at target move.
+#        Default: 1.5
+#
+#    UpdateUptimeInterval
+#        Update realm uptime period in minutes. Must be > 0
+#        Default: 10 (minutes)
+#
+#    LogDB.Opt.ClearInterval
+#        Time for the WUPDATE_CLEANDB timer that clears the `logs` table
+#         of old entries. Must be > 0.
+#        Default: 10 (minutes)
+#
+#    LogDB.Opt.ClearTime
+#        The maximum time in seconds of old `logs` table entries to keep.
+#        Default: 1209600 (14 days)
+#                 0 - don't clear
+#
+#    MaxCoreStuckTime
+#        Periodically check if the process is frozen, if this is the case
+#         force crash after the specified amount of seconds. Must be > 0.
+#         Recommended > 10 secs if you use this.
+#        Default: 0 (Disabled)
+#
+#    AddonChannel
+#        Permit/disable the use of the addon channel through the server
+#         (some client side addons will not work correctly with disabled
+#         addon channel)
+#        Default: 1 (permit addon channel)
+#                 0 (do not permit addon channel)
+#
+#    MapUpdate.Threads
+#    Number of threads to update maps.
+#    Default: 1
+#
+#    CleanCharacterDB
+#        Perform character db clean ups on start up
+#        Default: 0 (Disabled)
+#                 1 (Enable)
+#
+###############################################################################
+
+UseProcessors = 0
+ProcessPriority = 1
+Compression = 1
+PlayerLimit = 100
+SaveRespawnTimeImmediately = 1
+MaxOverspeedPings = 2
+GridUnload = 1
+SocketSelectTime = 10000
+SocketTimeOutTime = 900000
+SessionAddDelay = 10000
+GridCleanUpDelay = 300000
+MapUpdateInterval = 100
+ChangeWeatherInterval = 600000
+PlayerSaveInterval = 900000
+PlayerSave.Stats.MinLevel = 0
+PlayerSave.Stats.SaveOnlyOnLogout = 1
+vmap.enableLOS = 1
+vmap.enableHeight = 1
+vmap.ignoreMapIds = ""
+vmap.ignoreSpellIds = "7720"
+vmap.petLOS = 1
+vmap.enableIndoorCheck = 1
+DetectPosCollision = 1
+TargetPosRecalculateRange = 1.5
+UpdateUptimeInterval = 10
+LogDB.Opt.ClearInterval = 10
+LogDB.Opt.ClearTime = 1209600
+MaxCoreStuckTime = 0
+AddonChannel = 1
+MapUpdate.Threads = 1
+CleanCharacterDB = 0
+
+###############################################################################
+# SERVER LOGGING
+#
+#    LogSQL
+#        Enable logging of SQL commands from in game
+#         All commands are written to a file: YYYY-MM-DD_logSQL.sql
+#         If a new day starts (00:00:00) then a new file is created
+#         the old file will not be deleted.
+#        Default: 1 - Write SQL code to logfile
+#                 0 - Do not log
+#
+#    PidFile
+#        World daemon PID file
+#        Default: ""             - do not create PID file
+#                 "./worldd.pid" - create PID file (recommended name)
+#
+#    LogLevel
+#        Server console level of logging
+#                 0 = Minimum
+#        Default: 1 = Basic
+#                 2 = Detail
+#                 3 = Full/Debug
+#
+#    LogFile
+#        Logfile name
+#        Default: "Server.log"
+#                 "" - Empty name disable creating log file
+#
+#    ChatLogFile
+#        Log file for chat logs
+#        Default: "chat.log"
+#                 "" - Empty name for disable
+#
+#    LogTimestamp
+#        Logfile with timestamp of server start in name
+#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
+#        Default: 0 - no timestamp in name
+#                 1 - add timestamp in name
+#
+#    LogFileLevel
+#        Server file level of logging
+#        Default: 0 = Minimum
+#                 1 = Basic
+#                 2 = Detail
+#                 3 = Full/Debug
+#
+#    LogFilter_AchievementUpdates
+#    LogFilter_CreatureMoves
+#    LogFilter_TransportMoves
+#    LogFilter_VisibilityChanges
+#        Log filters
+#        Default: 1 - not include with any log level
+#                 0 - include in log if log level permit
+#
+#    WorldLogFile
+#        Packet logging file for the worldserver
+#        Default: "world.log"
+#
+#    DBErrorLogFile
+#        Log file of DB errors detected at server run
+#        Default: "DBErrors.log"
+#
+#    CharLogFile
+#        Character operations logfile name
+#        Default: "Char.log"
+#                 "" - Empty name disable creating log file
+#
+#    CharLogTimestamp
+#        Logfile with timestamp of server start in name
+#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
+#        Default: 0 - no timestamp in name
+#                 1 - add timestamp in name
+#
+#    CharLogDump
+#        Write character dump before deleting in Char.log
+#         For restoration, cut character data from log starting from
+#         line == START DUMP == to line == END DUMP == (exclusive) in file
+#         and load it using the loadpdump command
+#        Default: 0 - don't include dumping chars to log
+#                 1 - include dumping chars to log
+#
+#    CharLogDump.Separate
+#        Write character dump to separate file
+#        Default: 0 - don't write dump to separate file
+#                 1 - write each dump to separate file
+#
+#    CharLogDump.SeparateDir
+#        Subdirectory within logs dir for separate char dumps.
+#
+#    GmLogFile
+#        Log file of gm commands
+#        Default: "gm_commands.log"
+#                 "" - Empty name for disable
+#
+#    GmLogTimestamp
+#        GM Logfile with timestamp of server start in name
+#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
+#        Default: 0 - no timestamp in name
+#                 1 - add timestamp in name
+#
+#    GmLogPerAccount
+#        GM Logfiles with GM account id
+#         (Note: logs not created if GmLogFile not set)
+#        Default: 0 - add gm log data to single log file
+#                 1 - add gm log data to account specific log files with name
+#                     in form Logname_#ID_YYYY-MM-DD_HH-MM-SS.Ext
+#                     or form Logname_#ID.Ext
+#
+#    RaLogFile
+#        Log file of RA commands
+#        Default: "Ra.log"
+#                 "" - Empty name for disable
+#
+#    ArenaLogFile
+#        Log file of arena fights and arena team creations
+#        Default: "" - do not create arena log file
+#
+#    ArenaLog.ExtendedInfo
+#        Include extended info for each player after rated arena (guid, name, team, IP, healing/damage done, killing blows)
+#        Default: 0 - disabled
+#                 1 - enabled
+#
+#    SQLDriverLogFile
+#        Log file of SQL driver events.
+#        For effective query logging you need to build in debug configuration.
+#        Default: "" - Empty name for disable
+#
+#    LogColors
+#        Color for messages (format "normal basic detail debug")
+#        Default: "" - no colors
+#        Colors: 0  - BLACK
+#                1  - RED
+#                2  - GREEN
+#                3  - BROWN
+#                4  - BLUE
+#                5  - MAGENTA
+#                6  - CYAN
+#                7  - GREY
+#                8  - YELLOW
+#                9  - LRED
+#                10 - LGREEN
+#                11 - LBLUE
+#                12 - LMAGENTA
+#                13 - LCYAN
+#                14 - WHITE
+#        Example: "13 11 9 5"
+#
+#    EnableLogDB
+#        Enable/disable logging to database (LogDatabaseInfo).
+#        Default: 0 - disabled
+#                 1 - enabled
+#
+#    DBLogLevel
+#        Log level of DB logging.
+#                 0 = Minimum
+#                 1 = Basic
+#                 2 = Detail
+#        Default: 3 = Full/Debug
+#
+#    LogDB.Char
+#        Enable/disable logging character outputs to DB.
+#        Default: 0 - off
+#                 1 - on
+#
+#    LogDB.GM
+#        Enable/disable logging GM commands to DB.
+#        Default: 0 - off
+#                 1 - on
+#
+#    LogDB.RA
+#        Enable/disable logging remote access events to DB.
+#        Default: 0 - off
+#                 1 - on
+#
+#    LogDB.World
+#        Enable/disable logging world packets to DB.
+#        Default: 0 - off
+#                 1 - on (very heavy)
+#
+#    LogDB.Chat
+#        Enable/disable logging chat messages to the database.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Channel
+#        Enable logging chatting in custom channels.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Whisper
+#        Enable logging whispers between players.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Party
+#        Enable logging party messages.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Raid
+#        Enable logging raid messages.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Guild
+#        Enable logging guild messages.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Public
+#        Enable logging public chat events (say/yell/emote).
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.Addon
+#        Enable logging addon messages.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogs.BattleGround
+#        Enable logging battleground chats.
+#        Default: 0 - off
+#                 1 - on
+#
+#    ChatLogTimestamp
+#        Chat Logfile with timestamp of server start in name
+#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
+#        Default: 0 - no timestamp in name
+#                 1 - add timestamp in name
+#
+###############################################################################
+
+LogSQL = 1
+PidFile = ""
+LogLevel = 1
+LogFile = "Server.log"
+ChatLogFile = "chat.log"
+LogTimestamp = 0
+LogFileLevel = 0
+LogFilter_AchievementUpdates = 1
+LogFilter_CreatureMoves = 1
+LogFilter_TransportMoves = 1
+LogFilter_VisibilityChanges = 1
+WorldLogFile = ""
+DBErrorLogFile = "db_errors.log"
+CharLogFile = "characters.log"
+CharLogTimestamp = 0
+CharLogDump = 0
+CharLogDump.Separate = 0
+CharLogDump.SeparateDir = ""
+GmLogFile = "gm_commands.log"
+GmLogTimestamp = 0
+GmLogPerAccount = 0
+RaLogFile = "ra_commands.log"
+ArenaLogFile = ""
+ArenaLog.ExtendedInfo = 0
+SQLDriverLogFile = ""
+LogColors = ""
+EnableLogDB = 0
+DBLogLevel = 2
+LogDB.Char   = 0
+LogDB.GM     = 0
+LogDB.RA     = 0
+LogDB.World  = 0
+LogDB.Chat   = 0
+ChatLogs.Channel      = 0
+ChatLogs.SysChan      = 0
+ChatLogs.Whisper      = 0
+ChatLogs.Party        = 0
+ChatLogs.Raid         = 0
+ChatLogs.Guild        = 0
+ChatLogs.Public       = 0
+ChatLogs.Addon        = 0
+ChatLogs.BattleGround = 0
+ChatLogTimestamp = 0
+
+###############################################################################
+# SERVER SETTINGS
+#
+#    GameType
+#        Server realm style
+#        Default: 0 = NORMAL
+#                 1 = PVP
+#                 4 = NORMAL
+#                 6 = RP
+#                 8 = RPPVP
+#                 16 FFA_PVP (free for all pvp mode like arena PvP in all
+#                     zones except rest activated places and sanctuaries)
+#
+#    RealmZone
+#        Server realm zone (set allowed alphabet in character names/etc)
+#         See also Strict*Names options.
+#        Default: 1 Development    - any language
+#                 2 United States  - extended-Latin
+#                 3 Oceanic        - extended-Latin
+#                 4 Latin America  - extended-Latin
+#                 5 Tournament     - basic-Latin at create, any at login
+#                 6 Korea          - East-Asian
+#                 7 Tournament     - basic-Latin at create, any at login
+#                 8 English        - extended-Latin
+#                 9 German         - extended-Latin
+#                 10 French        - extended-Latin
+#                 11 Spanish       - extended-Latin
+#                 12 Russian       - Cyrillic
+#                 13 Tournament    - basic-Latin at create, any at login
+#                 14 Taiwan        - East-Asian
+#                 15 Tournament    - basic-Latin at create, any at login
+#                 16 China         - East-Asian
+#                 17 CN1           - basic-Latin at create, any at login
+#                 18 CN2           - basic-Latin at create, any at login
+#                 19 CN3           - basic-Latin at create, any at login
+#                 20 CN4           - basic-Latin at create, any at login
+#                 21 CN5           - basic-Latin at create, any at login
+#                 22 CN6           - basic-Latin at create, any at login
+#                 23 CN7           - basic-Latin at create, any at login
+#                 24 CN8           - basic-Latin at create, any at login
+#                 25 Tournament    - basic-Latin at create, any at login
+#                 26 Test Server   - any language
+#                 27 Tournament    - basic-Latin at create, any at login
+#                 28 QA Server     - any language
+#                 29 CN9           - basic-Latin at create, any at login
+#
+#    Expansion
+#        Allow server use content from expansion
+#        Default: 2 - check expansion 2 maps existence, and if client support
+#                      expansion 2 and account have expansion 2 setting then
+#                      allow visit expansion 2 maps, allow create new class
+#                      character)
+#                 1 - check expansion 1 maps existence, and if client support
+#                      expansion 1 and account have expansion 1 setting then
+#                      allow visit expansion 1 maps, allow create new races
+#                      character)
+#                 0 - don't check expansion maps existence, don't allow visit
+#                      maps, don't allow create new race or new class
+#                      characters, ignore account expansion setting)
+#
+#    DBC.Locale
+#        DBC Language Settings
+#        Default: 255 = Auto Detect
+#                 0   = English
+#                 1   = Korean
+#                 2   = French
+#                 3   = German
+#                 4   = Chinese
+#                 5   = Taiwanese
+#                 6   = Spanish
+#                 7   = Spanish Mexico
+#                 8   = Russian
+#
+#    DeclinedNames
+#        Allow russian clients to set and use declined names
+#        Default: 0 - do not use declined names, except when
+#                      the Russian RealmZone is set
+#                 1 - use declined names
+#
+#    StrictPlayerNames
+#        Limit player name to language specific symbol set, don't allow
+#         character creation, and set rename request and disconnect at not
+#         allowed symbols name
+#        Default: 0 disable (limited server timezone dependent client check)
+#                 1 basic latin characters  (strict)
+#                 2 realm zone specific (strict). See RealmZone setting.
+#                   Note: In any case if you want correctly see character
+#                   name at client this client must have appropriate fonts
+#                   (included in client by default, with active official
+#                   localization or custom localization fonts in
+#                   clientdir/Fonts).
+#                 3 basic latin characters + server timezone specific
+#
+#    StrictCharterNames
+#        Limit guild/arena team charter names to language specific symbol set,
+#          don't allow charter creation with unallowed symbols in name
+#        Default: 0 disable
+#                 1 basic latin characters  (strict)
+#                 2 realm zone specific (strict). See RealmZone setting.
+#                   Note: In any case if you want correctly see character
+#                   name at client this client must have appropriate fonts
+#                   (included in client by default, with active official
+#                   localization or custom localization fonts in
+#                   clientdir/Fonts).
+#                 3 basic latin characters + server timezone specific
+#
+#    StrictPetNames
+#        Limit pet names to language specific symbols set
+#        Default: 0 disable
+#                 1 basic latin characters  (strict)
+#                 2 realm zone specific (strict). See RealmZone setting.
+#                   Note: In any case if you want correctly see character
+#                   name at client this client must have appropriate fonts
+#                   (included in client by default, with active official
+#                   localization or custom localization fonts in
+#                   clientdir/Fonts).
+#                 3 basic latin characters + server timezone specific
+#
+#    MinPlayerName
+#        Minimal name length (1..12)
+#        Default: 2
+#
+#    MinCharterName
+#        Minimal name length (1..24)
+#        Default: 2
+#
+#    MinPetName
+#        Minimal name length (1..12)
+#        Default: 2
+#
+#    MaxWhoListReturns
+#        Set the max number of players returned in the /who list and interface.
+#        Default: 49 (stable)
+#
+#    CharacterCreating.Disabled
+#        Disable characters creating for specific team or any
+#         (non-player accounts not affected)
+#        Default: 0 - enabled
+#                 1 - disabled only for Alliance
+#                 2 - disabled only for Horde
+#                 3 - disabled for both teams
+#
+#    CharacterCreating.Disabled.RaceMask
+#        Mask of races which cannot be created (ignored for GM accounts).
+#        Default: 0 - all races are enabled
+#                 Check http://www.trinitycore.info/index.php/Characters_tc2#race 
+#                 for race mask values.
+#        Example: 1536 = 1024 + 512 - Blood Elf and Draenei races are disabled.
+#
+#    CharacterCreating.Disabled.ClassMask
+#        Mask of classes which cannot be created (ignored for GM accounts).
+#        Default: 0 - all classes are enabled
+#                 Check http://www.trinitycore.info/index.php/Characters_tc2#class 
+#                 for class mask values.
+#        Example: 288 = 32 + 256 - Death Knight and Warlock classes are disabled.
+#
+#    CharactersPerAccount
+#        Limit numbers of characters per account (at all realms).
+#         Note: this setting limit character creating at _current_ realm base
+#         at characters amount at all realms
+#        Default: 50
+#                The number must be >= CharactersPerRealm
+#
+#    CharactersPerRealm
+#        Limit numbers of characters for account at realm
+#        Default: 10 (client limitation)
+#                The number must be between 1 and 10
+#
+#    HeroicCharactersPerRealm
+#        Limit numbers of heroic class characters for account at realm
+#        Default: 1
+#                The number must be between 0 (not allowed) and 10
+#
+#    CharacterCreating.MinLevelForHeroicCharacter
+#        Limit creating heroic characters only for account with another
+#         character of specific level (ignored for GM accounts)
+#                 0  - not require any existed chaarcter
+#                 1  - require at least any character existed
+#        Default: 55 - default requirement
+#
+#    SkipCinematics
+#        Disable in-game script movie at first character's login
+#         (allows to prevent buggy intro in case of custom start
+#         location coordinates)
+#        Default: 0 - show intro for each new characrer
+#                 1 - show intro only for first character of selected race
+#                 2 - disable intro show in all cases
+#
+#    MaxPlayerLevel
+#        Max level that can be reached by player for experience
+#         (in range from 1 to 100). Going past 100 voids your warranty
+#         and you will not receive support for bugs you encounter.
+#        Change not recommended
+#        Default: 80
+#
+#    MinDualSpecLevel
+#        Min level at which players can use Dual Spec functionality
+#        Default: 40
+#
+#    StartPlayerLevel
+#        Staring level that have character upon creation
+#         (in range 1 to MaxPlayerLevel)
+#        Default: 1
+#
+#    StartHeroicPlayerLevel
+#        Staring level that have character of heroic class upon creation
+#         (in range 1 to MaxPlayerLevel)
+#        Default: 55
+#
+#    StartPlayerMoney
+#        Amount of money that new players will start with.
+#         If you want to start with silver, use for example 100
+#         (100 copper = 1 silver)
+#        Default: 0
+#
+#    MaxHonorPoints
+#        Max honor points that player can have.
+#        Default: 75000
+#
+#    StartHonorPoints
+#        Amount of honor that new players will start with
+#        Default: 0
+#
+#    MaxArenaPoints
+#        Max arena points that player can have.
+#        Default: 10000
+#
+#    StartArenaPoints
+#        Amount of arena points that new players will start with
+#        Default: 0
+#
+#    RecruitAFriend.MaxLevel
+#        Highest level at which a player can benefit from the Recruit-A-Friend
+#         XP multiplier
+#        Default: 60
+#
+#    RecruitAFriend.MaxDifference = 3
+#        Highest level difference between linked players for both players to 
+#         benefit from the Recruit-A-Friend XP multiplier
+#        Default: 3
+#
+#    InstantLogout
+#        Enable or disable instant logout for security level (0..4) or higher
+#        (NOT in combat/while dueling/while falling)
+#        Default: 1 (Mods/GMs/Admins)
+#
+#    DisableWaterBreath
+#        Disable/enable waterbreathing for security level (0..4) or higher
+#        Default: 4 (None)
+#
+#    AllFlightPaths
+#        Players will start with all flight paths
+#         (Note: ALL flight paths, not only player's team)
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    InstantFlightPaths
+#        Flight paths will take players to their destination instantly, instead
+#         of making them wait to fly there.
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    AlwaysMaxSkillForLevel
+#        Players will automatically gain max level dependent (weapon/defense)
+#         skill when logging in, leveling up etc.
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    ActivateWeather
+#        Activate weather system
+#        Default: 1 (true)
+#                 0 (false)
+#
+#    CastUnstuck
+#        Allow cast or not Unstuck spell at .start or client Help option use
+#        Default: 1 (true)
+#                 0 (false)
+#
+#    Instance.IgnoreLevel
+#        Ignore level requirement to enter instance
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    Instance.IgnoreRaid
+#        Ignore raid requirement to enter instance
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    Instance.ResetTimeHour
+#        The hour of the day (0-23) when the global instance resets occur.
+#        Default: 4
+#
+#    Instance.UnloadDelay
+#        Unload the instance map from memory after some time
+#         if no players are inside.
+#        Default: 1800000 (miliseconds 30 minutes)
+#                 0 (instance maps are kept in memory until they are reset)
+#
+#    Quests.LowLevelHideDiff
+#        Quest level difference to hide for player low level quests:
+#         if player_level > quest_level + LowLevelQuestsHideDiff then quest
+#         "!" mark not show for quest giver
+#        Default: 4
+#                -1 (show all available quests marks)
+#
+#    Quests.HighLevelHideDiff
+#        Quest level difference to hide for player high level quests:
+#         if player_level < quest_min_level - HighLevelQuestsHideDiff then
+#         quest "!" mark not show for quest giver
+#        Default: 7
+#                -1 (show all available quests marks)
+#
+#    Quests.IgnoreRaid
+#        Allow non-raid quests to be completed when in raid group
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    Guild.EventLogRecordsCount
+#        Count of guild event log records stored in guild_eventlog table
+#         Increase to store more guild events in table, minimum is 100
+#         You can set it to very high value to prevent oldest guild events to
+#         be rewritten by latest guild events; can slow down performance
+#        Default: 100
+#
+#    Guild.BankEventLogRecordsCount
+#        Count of guild_bank event log records stored in
+#         guild_bank_eventlog table
+#         Increase to store more guild_bank events in table - minimum is 25
+#         (GUILD_BANK_MAX_LOGS) for each guild_bank tab
+#         Useful when you don't want old log events to be overwritten by new,
+#         but increasing can slow down performance
+#        Default: 25
+#
+#    MaxPrimaryTradeSkill
+#        Max count that player can learn the primary trade skill.
+#        Default: 2
+#        Max : 10
+#
+#    MinPetitionSigns
+#        Min signatures count to creating guild (0..9).
+#        Default: 9
+#
+#    MaxGroupXPDistance
+#        Max distance to creature for group member to get XP at creature death.
+#        Default: 74
+#
+#    MaxRecruitAFriendBonusDistance
+#        Max distance to player for group member to get RaF bonus for XP.
+#        Default: 100
+#
+#    MailDeliveryDelay
+#        Mail delivery delay time for item sending
+#        Default: 3600 sec (1 hour)
+#
+#    SkillChance.Prospecting
+#        For prospecting skillup impossible by default,
+#         but can be allowed as custom setting
+#        Default: 0 - no skilups
+#                 1 - skilups possible
+#
+#    SkillChance.Milling
+#        For milling skillup impossible by default,
+#         but can be allowed as custom setting
+#        Default: 0 - no skilups
+#                 1 - skilups possible
+#
+#    OffhandCheckAtSpellUnlearn
+#        Unlearning certain spells can change offhand weapon restrictions
+#         for equip slots.
+#        Default: 1 - recheck offhand slot weapon at unlearning a spell
+#                 0 - recheck offhand slot weapon only at zone update
+#
+#    ClientCacheVersion
+#        Client cache version for client cache data reset. Use any different
+#         from DB value and not recently used for triggering reset.
+#        Default: 0 (use DB value from world DB db_version.cache_id field)
+#
+#    Event.Announce
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    BeepAtStart
+#        Beep at core start finished (mostly work only at Unix/Linux systems)
+#        Default: 1 (true)
+#                 0 (false)
+#
+#    Motd
+#        Message of the Day. Displayed at worldlogin for every user
+#         Use '@' for a newline, and be sure to escape special characters.
+#        Example: "Welcome to John\'s Server@WinterGrasp is closed."
+#
+#    Server.LoginInfo
+#        Enable/disable sending server info (core version) on login.
+#        Default: 0 - disable
+#                 1 - enable
+#
+#    Command.LookupMaxResults
+#        The maximum number of results a .lookup command can return
+#        Default: 0 - unlimited
+#
+###############################################################################
+
+GameType = 0
+RealmZone = 1
+Expansion = 2
+DBC.Locale = 255
+DeclinedNames = 0
+StrictPlayerNames = 0
+StrictCharterNames = 0
+StrictPetNames = 0
+MaxWhoListReturns = 49
+MinPlayerName = 2
+MinCharterName = 2
+MinPetName = 2
+CharacterCreating.Disabled = 0
+CharacterCreating.Disabled.RaceMask = 0
+CharacterCreating.Disabled.ClassMask = 0
+CharactersPerAccount = 50
+CharactersPerRealm = 10
+HeroicCharactersPerRealm = 1
+CharacterCreating.MinLevelForHeroicCharacter = 55
+SkipCinematics = 0
+MaxPlayerLevel = 80
+MinDualSpecLevel = 40
+StartPlayerLevel = 1
+StartHeroicPlayerLevel = 55
+StartPlayerMoney = 0
+MaxHonorPoints = 75000
+StartHonorPoints = 0
+MaxArenaPoints = 10000
+StartArenaPoints = 0
+RecruitAFriend.MaxLevel = 60
+RecruitAFriend.MaxDifference = 3
+InstantLogout = 1
+DisableWaterBreath = 4
+AllFlightPaths = 0
+InstantFlightPaths = 0
+AlwaysMaxSkillForLevel = 0
+ActivateWeather = 1
+CastUnstuck = 1
+Instance.IgnoreLevel = 0
+Instance.IgnoreRaid = 0
+Instance.ResetTimeHour = 4
+Instance.UnloadDelay = 1800000
+Quests.LowLevelHideDiff = 4
+Quests.HighLevelHideDiff = 7
+Quests.IgnoreRaid = 0
+Guild.EventLogRecordsCount = 100
+Guild.BankEventLogRecordsCount = 25
+MaxPrimaryTradeSkill = 2
+MinPetitionSigns = 9
+MaxGroupXPDistance = 74
+MaxRecruitAFriendBonusDistance = 100
+MailDeliveryDelay = 3600
+SkillChance.Prospecting = 0
+SkillChance.Milling = 0
+OffhandCheckAtSpellUnlearn = 1
+ClientCacheVersion = 0
+Event.Announce = 0
+BeepAtStart = 1
+Motd = "Welcome to a Trinity Core server."
+Server.LoginInfo = 0
+Command.LookupMaxResults = 0
+
+###############################################################################
+# PLAYER INTERACTION
+#
+#    AllowTwoSide.Accounts
+#        Allow or not accounts to create characters in the 2 teams
+#         in any game type.
+#        Default: 1 (Allowed)
+#                 0 (Not allowed)
+#
+#    AllowTwoSide.Interaction.Chat
+#    AllowTwoSide.Interaction.Channel
+#    AllowTwoSide.Interaction.Group
+#    AllowTwoSide.Interaction.Guild
+#    AllowTwoSide.Interaction.Auction
+#    AllowTwoSide.Interaction.Mail
+#        Allow or not common :chat(say,yell)
+#                             channel(chat)
+#                             group(join)
+#                             guild(join)
+#                             merge all auction houses for players from
+#                             different teams
+#                             send mail to other team.
+#        Default: 0 (Not allowed)
+#                 1 (Allowed)
+#
+#    AllowTwoSide.WhoList
+#        Allow or not show player from both team in who list.
+#        Default: 0 (Not allowed)
+#                 1 (Allowed)
+#
+#    AllowTwoSide.AddFriend
+#        Allow or not adding friends from other team in friend list.
+#        Default: 0 (Not allowed)
+#                 1 (Allowed)
+#
+#    AllowTwoSide.Trade
+#        Allow or not trading with other team in party.
+#        Default: 0 (Not allowed)
+#                 1 (Allowed)
+#
+#    TalentsInspecting
+#        Allow other players see character talents in inspect dialog
+#         (Characters in Gamemaster mode can inspect talents always)
+#        Default: 1 (allow)
+#                 0 (not allow)
+#
+###############################################################################
+
+AllowTwoSide.Accounts = 1
+AllowTwoSide.Interaction.Chat = 0
+AllowTwoSide.Interaction.Channel = 0
+AllowTwoSide.Interaction.Group = 0
+AllowTwoSide.Interaction.Guild = 0
+AllowTwoSide.Interaction.Auction = 0
+AllowTwoSide.Interaction.Mail = 0
+AllowTwoSide.WhoList = 0
+AllowTwoSide.AddFriend = 0
+AllowTwoSide.Trade = 0
+TalentsInspecting = 1
+
+###############################################################################
+# CREATURE SETTINGS
+#
+#    ThreatRadius
+#        Radius for creature to evade after being
+#         pulled away from combat start point
+#         If ThreatRadius is less than creature aggro radius
+#         then aggro radius will be used
+#        Default: 60 yards
+#
+#    Rate.Creature.Aggro
+#        Aggro radius percent or off.
+#        Default: 1   - 100%
+#                 1.5 - 150%
+#                 0   - off (0%)
+#
+#    CreatureFamilyFleeAssistanceRadius
+#        Radius which creature will use to seek for a nearby creature
+#         for assistance. Creature will flee to this creature.
+#        Default: 30
+#                 0   - off
+#
+#    CreatureFamilyAssistanceRadius
+#        Radius which creature will use to call assistance without moving
+#        Default: 10
+#                 0   - off
+#
+#    CreatureFamilyAssistanceDelay
+#        Reaction time for creature assistance call
+#        Default: 1500 (1.5s)
+#
+#    CreatureFamilyFleeDelay
+#        Time during which creature can flee when no assistant found
+#        Default: 7000 (7s)
+#
+#    WorldBossLevelDiff
+#        Difference for boss dynamic level with target
+#        Default: 3
+#
+#    Corpse.Decay.NORMAL
+#    Corpse.Decay.RARE
+#    Corpse.Decay.ELITE
+#    Corpse.Decay.RAREELITE
+#    Corpse.Decay.WORLDBOSS
+#        Seconds until creature corpse will decay if not looted or skinned.
+#        Default: 60, 300, 300, 300, 3600
+#
+#    Rate.Corpse.Decay.Looted
+#         Controls how long the creature corpse stays after it had been looted,
+#          as a multiplier of its Corpse.Decay.* config.
+#         Default: 0.5
+#
+#    Rate.Creature.Normal.Damage
+#    Rate.Creature.Elite.Elite.Damage
+#    Rate.Creature.Elite.RAREELITE.Damage
+#    Rate.Creature.Elite.WORLDBOSS.Damage
+#    Rate.Creature.Elite.RARE.Damage
+#        Creature Damage Rates.
+#        Examples: 2 - creatures will damage 2x, 1.7 - 1.7x.
+#
+#    Rate.Creature.Normal.SpellDamage
+#    Rate.Creature.Elite.Elite.SpellDamage
+#    Rate.Creature.Elite.RAREELITE.SpellDamage
+#    Rate.Creature.Elite.WORLDBOSS.SpellDamag
+#    Rate.Creature.Elite.RARE.SpellDamage
+#        Creature Spell Damage Rates.
+#        Examples: 2 - creatures will damage with spells 2x, 1.7 - 1.7x.
+#
+#    Rate.Creature.Normal.HP
+#    Rate.Creature.Elite.Elite.HP
+#    Rate.Creature.Elite.RAREELITE.HP
+#    Rate.Creature.Elite.WORLDBOSS.HP
+#    Rate.Creature.Elite.RARE.HP
+#        Creature Health Ammount Modifier.
+#        Examples: 2 - creatures have 2x health, 1.7 - 1.7x.
+#
+#    ListenRange.Say
+#        Distance from player to listen text that creature
+#         (or other world object) says
+#        Default: 40
+#
+#    ListenRange.TextEmote
+#        Distance from player to listen textemote that creature
+#         (or other world object) says
+#        Default: 40
+#
+#    ListenRange.Yell
+#        Distance from player to listen text that creature
+#         (or other world object) yells
+#        Default: 300
+#
+###############################################################################
+
+ThreatRadius = 60
+Rate.Creature.Aggro = 1
+CreatureFamilyFleeAssistanceRadius = 30
+CreatureFamilyAssistanceRadius = 10
+CreatureFamilyAssistanceDelay = 1500
+CreatureFamilyFleeDelay = 7000
+WorldBossLevelDiff = 3
+Corpse.Decay.NORMAL = 60
+Corpse.Decay.RARE = 300
+Corpse.Decay.ELITE = 300
+Corpse.Decay.RAREELITE = 300
+Corpse.Decay.WORLDBOSS = 3600
+Rate.Corpse.Decay.Looted = 0.5
+Rate.Creature.Normal.Damage = 1
+Rate.Creature.Elite.Elite.Damage = 1
+Rate.Creature.Elite.RAREELITE.Damage = 1
+Rate.Creature.Elite.WORLDBOSS.Damage = 1
+Rate.Creature.Elite.RARE.Damage = 1
+Rate.Creature.Normal.SpellDamage = 1
+Rate.Creature.Elite.Elite.SpellDamage = 1
+Rate.Creature.Elite.RAREELITE.SpellDamage = 1
+Rate.Creature.Elite.WORLDBOSS.SpellDamage = 1
+Rate.Creature.Elite.RARE.SpellDamage = 1
+Rate.Creature.Normal.HP = 1
+Rate.Creature.Elite.Elite.HP = 1
+Rate.Creature.Elite.RAREELITE.HP = 1
+Rate.Creature.Elite.WORLDBOSS.HP = 1
+Rate.Creature.Elite.RARE.HP = 1
+ListenRange.Say = 40
+ListenRange.TextEmote = 40
+ListenRange.Yell = 300
+
+###############################################################################
+# CHAT SETTINGS
+#
+#    ChatFakeMessagePreventing
+#        Chat protection from creating fake messages using a lot spaces
+#         (other invisible symbols),
+#         not applied to addon language messages, but can cause old addons
+#         that use normal languages for sending data to another clients.
+#        Default: 0 (disible fake messages preventing)
+#                 1 (enabled fake messages preventing)
+#
+#    ChatStrictLinkChecking.Severity
+#        Check chat messages for ingame links to
+#         spells, items, quests, achievements etc.
+#        Default: 0 (disable link checking)
+#                 1 (check if only valid pipe commands are used.
+#                    This prevents posting pictures for example)
+#                 2 (verifiy that pipe commands are used in a correct order)
+#                 3 (check if color, entry and name don't contradict
+#                    each other. For correct work, please assure
+#                    that you have extracted locale DBCs of every language
+#                    specific client playing on this server.)
+#
+#    ChatStrictLinkChecking.Kick
+#        Defines what should be done if a message is considered to contain
+#         invalid pipe commands.
+#        Default: 0 (silently ignore message)
+#                 1 (kick players who sent invalid formed messages)
+#
+#    ChatFlood.MessageCount
+#        Chat anti-flood protection, haste message count to activate protection
+#        Default: 10
+#                 0 (disible anti-flood protection)
+#
+#    ChatFlood.MessageDelay
+#        Chat anti-flood protection, minimum message delay to count message
+#        Default: 1 (in secs)
+#
+#    ChatFlood.MuteTime
+#        Chat anti-flood protection, mute time at activation flood protection
+#        Default: 10 (in secs)
+#
+#    Channel.RestrictedLfg
+#        Restrict LookupForGroup channel to registered in LFG tool players
+#        Default: 1 (allow join to channel only if active in LFG)
+#                 0 (allow join to channel in any time)
+#
+#    Channel.SilentlyGMJoin
+#        Silently join GM characters (security level > 1) to channels
+#        Default: 0 (join announcement in normal way)
+#                 1 (GM join without announcement)
+#
+#    ChatLevelReq.Channel
+#        The required level of character to be able to write in chat channels
+#        Default: 1 (From level 1)
+#
+#    ChatLevelReq.Whisper
+#        The required level of character to be able to whisper
+#        Default: 1 (From level 1)
+#
+#    ChatLevelReq.Say
+#        The required level of character to be able to say/yell/emote
+#        Default: 1 (From level 1)
+#
+#    AllowPlayerCommands
+#        Allowed the players to use commands
+#        Default: 1 (allow)
+#
+###############################################################################
+
+ChatFakeMessagePreventing = 0
+ChatStrictLinkChecking.Severity = 0
+ChatStrictLinkChecking.Kick = 0
+ChatFlood.MessageCount = 10
+ChatFlood.MessageDelay = 1
+ChatFlood.MuteTime = 10
+Channel.RestrictedLfg = 1
+Channel.SilentlyGMJoin = 0
+ChatLevelReq.Channel = 1
+ChatLevelReq.Whisper = 1
+ChatLevelReq.Say = 1
+AllowPlayerCommands = 1
+
+###############################################################################
+# GAME MASTER SETTINGS
+#
+#    GM.LoginState
+#        GM mode at login
+#        Default: 2 (last save state)
+#                 0 (disable)
+#                 1 (enable)
+#
+#    GM.Visible
+#        GM visibility at login
+#        Default: 2 (last save state)
+#                 0 (invisible)
+#                 1 (visible)
+#
+#    GM.AcceptTickets
+#        Is GM accepting tickets from player by default or not.
+#        Default: 2 (last save state)
+#                 0 (disable)
+#                 1 (enable)
+#
+#    GM.Chat
+#        GM chat mode at login
+#        Default: 2 (last save state)
+#                 0 (disable)
+#                 1 (enable)
+#
+#    GM.WhisperingTo
+#        Is GM accepting whispers from player by default or not.
+#        Default: 2 (last save state)
+#                 0 (disable)
+#                 1 (enable)
+#
+#    GM.InGMList.Level
+#        Max GM level showed in GM list (if visible) in non-GM state (.gm off)
+#                 0 (only players)
+#                 1 (only moderators)
+#                 2 (only gamemasters)
+#        Default: 3 (anyone)
+#
+#    GM.InWhoList.Level
+#        Max GM level showed in who list (if visible).
+#                 0 (only players)
+#                 1 (only moderators)
+#                 2 (only gamemasters)
+#        Default: 3 (anyone)
+#
+#    GM.LogTrade
+#        Include GM trade and trade slot enchanting operations in GM log
+#        Default: 1 (include)
+#                 0 (not include)
+#
+#    GM.StartLevel
+#        GM starting level (1-100)
+#        Default: 1
+#
+#    GM.AllowInvite
+#        Is GM accepting invites from players by default or not
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    GM.AllowFriend
+#        Are players allowed to add GMs to their friend list
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    GM.LowerSecurity
+#        Disallow a lower security member to interact with
+#         a higher one using commands
+#        Default: 0 (disable)
+#                 1 (enable)
+#
+#    GM.AllowAchievementGain
+#        If enabled it allows gaining achievements for GM characters
+#        Default: 1 (enable)
+#                 0 (disable)
+#
+#    GM.TicketSystem.ChanceOfGMSurvey
+#        Chance of sending a GM survey with every ticket completion.
+#        Default: 50
+#                 0 (disables surveys)
+#
+###############################################################################
+
+GM.LoginState            = 2
+GM.Visible               = 2
+GM.AcceptTickets         = 2
+GM.Chat                  = 2
+GM.WhisperingTo          = 2
+GM.InGMList.Level        = 3
+GM.InWhoList.Level       = 3
+GM.LogTrade              = 1
+GM.StartLevel            = 80
+GM.AllowInvite           = 0
+GM.AllowFriend           = 0
+GM.LowerSecurity         = 0
+GM.AllowAchievementGain  = 1
+GM.TicketSystem.ChanceOfGMSurvey = 50
+
+###############################################################################
+# VISIBILITY AND RADIUSES
+#
+#    Visibility.GroupMode
+#        Group visibility modes
+#        Default: 1 (raid members 100% auto detect invisible player from
+#                    same raid)
+#                 0 (only members from same group can
+#                    100% auto detect invisible player)
+#                 2 (players from same team can 100% auto detect
+#                    invisible player)
+#
+#    Visibility.Distance.Continents
+#    Visibility.Distance.Instances
+#    Visibility.Distance.BGArenas
+#        Visibility distance for different ingame object in different maps.
+#        Visibility on continents on offy ~90 yards. In BG/Arenas ~180.
+#        For instances default ~120.
+#        Max limited by active player zone: ~ 333
+#        Min limit is max aggro radius (45) * Rate.Creature.Aggro
+#
+#    Visibility.Distance.Object
+#        Visible distance for gameobject, dynobject, bodies, corpses, bones
+#        Min limit is iteraction distance (5)
+#
+#    Visibility.Distance.InFlight
+#        Visible distance for player in flight
+#        Min limit is 0 (not show any objects)
+#
+#    Visibility.Distance.Grey.Unit
+#        Visibility grey distance for creatures/players (fast changing objects)
+#         addition to appropriate object type Visibility.Distance.* use in case
+#         visibility removing to object (except corpse around distances)
+#         If D is distance and G is grey distance then object
+#         make visible if distance to it <= D
+#         but make non visible if distance > D+G
+#        Default: 1 (yard)
+#
+#    Visibility.Distance.Grey.Object
+#        Visibility grey distance for dynobjects/gameobjects/corpses/creatures
+#        Default: 10 (yards)
+#
+###############################################################################
+
+Visibility.GroupMode = 1
+Visibility.Distance.Continents = 90
+Visibility.Distance.Instances = 120
+Visibility.Distance.BGArenas = 180
+Visibility.Distance.Object = 100
+Visibility.Distance.InFlight = 100
+Visibility.Distance.Grey.Unit   = 1
+Visibility.Distance.Grey.Object = 10
+
+Visibility.Notify.Period.OnContinents = 1000
+Visibility.Notify.Period.InInstances  = 1000
+Visibility.Notify.Period.InBGArenas   = 1000
+
+###############################################################################
+# SERVER RATES
+#
+#    Rate.Health
+#    Rate.Mana
+#    Rate.Rage.Income
+#    Rate.Rage.Loss
+#    Rate.RunicPower.Income
+#    Rate.RunicPower.Loss
+#    Rate.Focus
+#    Rate.Energy
+#    Rate.Loyalty
+#        Health and power regeneration and rage income from damage.
+#        Default: 1
+#
+#    Rate.Skill.Discovery
+#        Skill Discovery Rates
+#        Default: 1
+#
+#    Rate.Drop.Item.Poor
+#    Rate.Drop.Item.Normal
+#    Rate.Drop.Item.Uncommon
+#    Rate.Drop.Item.Rare
+#    Rate.Drop.Item.Epic
+#    Rate.Drop.Item.Legendary
+#    Rate.Drop.Item.Artifact
+#    Rate.Drop.Item.Referenced
+#    Rate.Drop.Money
+#        Drop rates (items by quality and money)
+#        Default: 1
+#
+#    Rate.Drop.Item.ReferencedAmount
+#        Multiplier for referenced loot
+#        Default: 1
+#
+#    Rate.Drop.Money
+#        Drop rates
+#        Default: 1
+#
+#    Rate.XP.Kill
+#    Rate.XP.Quest
+#    Rate.XP.Explore
+#        XP rates
+#        Default: 1
+#
+#    Rate.RepairCost
+#        Repair cost rate
+#        Default: 1   - standard cost
+#                 2   - double cost
+#                 0.5 - half cost
+#
+#    Rate.Rest.InGame
+#    Rate.Rest.Offline.InTavernOrCity
+#    Rate.Rest.Offline.InWilderness
+#        Resting points grow rates
+#        Default: 1   - standard rate
+#                 2   - double rate
+#                 0.5 - half rate
+#
+#    Rate.Damage.Fall
+#        Damage after fall rate.
+#        Default: 1   - standard damage
+#                 2   - double damage
+#                 0.5 - half damage
+#
+#    Rate.Auction.Time
+#    Rate.Auction.Deposit
+#    Rate.Auction.Cut
+#        Auction rates
+#         (auction time, deposit get at auction start,
+#         auction cut from price at auction end)
+#
+#    Rate.Honor
+#        Honor gain rate
+#
+#    Rate.Mining.Amount
+#    Rate.Mining.Next
+#        Mining Rates
+#         Mining.Amount changes minimum/maximum use times of a deposit,
+#         Mining.Next changes chance to have next use of a deposit
+#
+#    Rate.Talent
+#        Talent Point rates
+#        Default: 1
+#
+#    Rate.Reputation.Gain
+#        Reputation Gain rate
+#        Default: 1
+#
+#    Rate.Reputation.LowLevel.Kill
+#        Reputation Gain from low level kill (grey creature)
+#        Default: 1
+#
+#    Rate.Reputation.LowLevel.Quest
+#        Reputation Gain rate
+#        Default: 1
+#
+#    Rate.XP.Kill.Premium
+#    Rate.XP.Quest.Premium
+#    Rate.XP.Explore.Premium
+#        XP rates Premium modifier
+#        Default: 1
+#
+#    Rate.Reputation.RecruitAFriendBonus
+#        Reputation bonus amount for recruit-a-friend. 0.1 = 10% bonus.
+#        Default: 0.1 (blizzlike)
+#
+#    Rate.MoveSpeed
+#        Multiply the default movement speed for players
+#         and whatever they're controlling.
+#        Default: 1   - no change
+#                 1.4 - 40% increase
+#
+#    Rate.InstanceResetTime
+#        Multiplier for the number of days in between
+#         global raid/heroic instance resets.
+#        Default: 1
+#
+#    SkillGain.Crafting
+#    SkillGain.Defense
+#    SkillGain.Gathering
+#    SkillGain.Weapon
+#        Crafting/defense/gathering/weapon skills gain at skill grow (1,2,...)
+#        Default: 1
+#
+#    SkillChance.Orange
+#    SkillChance.Yellow
+#    SkillChance.Green
+#    SkillChance.Grey
+#        Skill chance values (0..100)
+#        Default: 100-75-25-0
+#
+#    SkillChance.MiningSteps
+#    SkillChance.SkinningSteps
+#        For skinning and Mining chance decrease with skill level.
+#        Default: 0  - no decrease
+#                 75 - in 2 times each 75 skill points
+#
+#    DurabilityLoss.InPvP
+#        If true, players take durability loss on death in PvP.
+#        Default: 0 (false)
+#                 1 (true)
+#
+#    DurabilityLoss.OnDeath
+#        Durability loss percentage on death
+#        Default: 10 - standard
+#                 20 - double
+#                 5  - half
+#
+#    DurabilityLossChance.Damage
+#        Chance lost one from equiped items durability
+#         point at damage apply or receive.
+#        Default: 0.5 (100/0.5 = 200)
+#         Each 200 damage apply one from 19 possible equipped items
+#
+#    DurabilityLossChance.Absorb
+#         Chance lost one from armor items durability point at damage absorb.
+#         Default: 0.5 (100/0.5 = 200)
+#          Each 200 absorbs apply one from 15 possible armor equipped items
+#
+#    DurabilityLossChance.Parry
+#         Chance lost weapon durability point at parry.
+#         Default: 0.05 (100/0.05 = 2000)
+#          Each 2000 parry attacks main weapon lost point
+#
+#    DurabilityLossChance.Block
+#         Chance lost sheild durability point at damage block.
+#         Default: 0.05 (100/0.05 = 2000)
+#          Each 2000 partly or full blocked attacks shield lost point
+#
+#    Death.SicknessLevel
+#         Starting Character start gain sickness at spirit resurrection (1 min)
+#         Default: 11
+#                  -10 - character will have full time
+#                    (10min) sickness at 1 level
+#                  maxplayerlevel+1
+#                   - character will not have sickess at any level
+#
+#    Death.CorpseReclaimDelay.PvP
+#    Death.CorpseReclaimDelay.PvE
+#         Enabled/disabled increase corpse reclaim delay at PvP/PvE deaths
+#         Default: 1 (enabled)
+#                  0 (disabled)
+#
+#    Death.Bones.World
+#    Death.Bones.BattlegroundOrArena
+#         Enable/disable creating bones instead corpse at resurrection
+#          (in normal zones/instances, or battleground/arenas)
+#         Default: 1 (enabled)
+#                  0 (disabled)
+#
+#    Die.Command.Mode
+#        Switch between two possible .die modes, where mode 1 kills
+#         and does not trigger anything such as loot, and mode 0 does
+#         damage and does trigger things such as loot
+#        Default: 1
+#                  0
+#
+###############################################################################
+
+Rate.Health = 1
+Rate.Mana = 1
+Rate.Rage.Income = 1
+Rate.Rage.Loss = 1
+Rate.RunicPower.Income = 1
+Rate.RunicPower.Loss = 1
+Rate.Focus = 1
+Rate.Energy = 1
+Rate.Loyalty = 1
+Rate.Skill.Discovery = 1
+Rate.Drop.Item.Poor = 1
+Rate.Drop.Item.Normal = 1
+Rate.Drop.Item.Uncommon = 1
+Rate.Drop.Item.Rare = 1
+Rate.Drop.Item.Epic = 1
+Rate.Drop.Item.Legendary = 1
+Rate.Drop.Item.Artifact = 1
+Rate.Drop.Item.Referenced = 1
+Rate.Drop.Item.ReferencedAmount = 1
+Rate.Drop.Money = 1
+Rate.XP.Kill    = 1
+Rate.XP.Quest   = 1
+Rate.XP.Explore = 1
+Rate.XP.Kill.Premium    = 1
+Rate.XP.Quest.Premium   = 1
+Rate.XP.Explore.Premium = 1
+Rate.RepairCost = 1
+Rate.Rest.InGame = 1
+Rate.Rest.Offline.InTavernOrCity = 1
+Rate.Rest.Offline.InWilderness = 1
+Rate.Damage.Fall = 1
+Rate.Auction.Time = 1
+Rate.Auction.Deposit = 1
+Rate.Auction.Cut = 1
+Rate.Honor = 1
+Rate.Mining.Amount = 1
+Rate.Mining.Next   = 1
+Rate.Talent = 1
+Rate.Reputation.Gain = 1
+Rate.Reputation.LowLevel.Kill    = 1
+Rate.Reputation.LowLevel.Quest   = 1
+Rate.Reputation.RecruitAFriendBonus = 0.1
+Rate.MoveSpeed = 1
+Rate.InstanceResetTime = 1
+SkillGain.Crafting = 1
+SkillGain.Defense = 1
+SkillGain.Gathering = 1
+SkillGain.Weapon = 1
+SkillChance.Orange = 100
+SkillChance.Yellow = 75
+SkillChance.Green  = 25
+SkillChance.Grey   = 0
+SkillChance.MiningSteps   = 0
+SkillChance.SkinningSteps = 0
+DurabilityLoss.InPvP = 0
+DurabilityLoss.OnDeath = 10
+DurabilityLossChance.Damage = 0.5
+DurabilityLossChance.Absorb = 0.5
+DurabilityLossChance.Parry  = 0.05
+DurabilityLossChance.Block  = 0.05
+Death.SicknessLevel = 11
+Death.CorpseReclaimDelay.PvP = 1
+Death.CorpseReclaimDelay.PvE = 0
+Death.Bones.World = 1
+Death.Bones.BattlegroundOrArena = 1
+Die.Command.Mode = 1
+
+###############################################################################
+# AUTO BROADCAST
+#
+#    AutoBroadcast.On
+#        Enable auto broadcast
+#        Default: 0 - off
+#                 1 - on
+#
+#    AutoBroadcast.Center
+#        Display method
+#        Default: 0 - announce
+#                 1 - notify
+#                 2 - both
+#
+#    AutoBroadcast.Timer
+#        Timer for auto broadcast (in milliseconds)
+#
+###############################################################################
+
+AutoBroadcast.On = 0
+AutoBroadcast.Center = 0
+AutoBroadcast.Timer = 60000
+
+###############################################################################
+# BATTLEGROUND CONFIG
+#
+#    Battleground.CastDeserter
+#        Cast Deserter spell at player who leave battleground in progress
+#        Default: 1 (enable)
+#                 0 (disable)
+#
+#    Battleground.QueueAnnouncer.Enable
+#        Enable queue announcer posting to chat
+#        Default: 0 (disable)
+#                 1 (enable)
+#
+#    Battleground.QueueAnnouncer.PlayerOnly
+#        Queue announcer type
+#        Default: 0 (system message - all players can see it)
+#                 1 (private - only the queued player can see it)
+#
+#    Battleground.InvitationType
+#        Set Battleground invitation type
+#        Default: 0 (normal - invite as much players to bg as possible,
+#                    don't bother with ballance)
+#                 1 (Experimental - don't allow to invite much more players
+#                    of one faction)
+#
+#    Battleground.PrematureFinishTimer
+#        The time to end the bg if there are less than MinPlayersPerTeam on
+#         one side (in milliseconds)
+#        Default: 300000 (5 minutes)
+#                 0 - disable (not recommended)
+#
+#    BattleGround.PremadeGroupWaitForMatch
+#        The time in which premade group of 1 faction waits in BG Queue
+#         for premade group of other faction
+#        Default: 1800000 (30 minutes)
+#                 0 - disable (not recommended)
+#
+#    Battleground.GiveXPForKills
+#        Give experience for honorable kills in battlegrounds
+#        Default: 0 (disable)
+#                 1 (enable)
+#
+#    Battleground.Random.ResetHour
+#        Reset random battlegrounds at specified hour of the day (0-23)
+#        Default: 6
+#
+###############################################################################
+
+Battleground.CastDeserter = 1
+Battleground.QueueAnnouncer.Enable = 0
+Battleground.QueueAnnouncer.PlayerOnly = 0
+Battleground.InvitationType = 0
+BattleGround.PrematureFinishTimer = 300000
+BattleGround.PremadeGroupWaitForMatch = 1800000
+Battleground.GiveXPForKills = 0
+Battleground.Random.ResetHour = 6
+
+###############################################################################
+# ARENA CONFIG
+#
+#    Arena.MaxRatingDifference
+#        The maximum rating difference between two groups in rated matches
+#        Default: 150 (enable, recommended)
+#                 0 (disable, rating difference is discarded)
+#
+#    Arena.RatingDiscardTimer
+#        After the specified milliseconds has passed,
+#         rating information will be discarded when selecting teams for
+#         matches also initiates an update by this timer
+#        Default: 600000 (10 minutes, recommended)
+#                 0 (disable)
+#
+#    Arena.AutoDistributePoints
+#        Set if arena points should be distributed automatically,
+#         or by GM command
+#        Default: 0 (disable) (recommended):
+#                    use gm command or sql query to distribute the points
+#                 1 (enable)  arena points are distributed automatically
+#
+#    Arena.AutoDistributeInterval
+#        How often should the distribution take place
+#        If automatic distribution is enabled in days
+#        Default: 7 (weekly)
+#
+#    Arena.QueueAnnouncer.Enable
+#        Enable bg queue announcer posting to chat
+#        Default: 0 (disable)
+#                 1 (enable)
+#
+#    Arena.ArenaSeason.ID
+#        Current area season id show in client
+#        Default: 1
+#
+#    Arena.ArenaSeason.InProgress
+#        Current area season state
+#        Default: 1 (active)
+#                 0 (finished)
+#
+#    Arena.ArenaStartRating
+#     Start arena team command rating
+#     Default: 0
+#
+#    Arena.ArenaStartPersonalRating
+#     Start personal rating on entry in team
+#     Default: 0
+#
+#    Arena.ArenaStartMatchmakerRating
+#     Start matchmaker rating for players
+#     Default: 1500
+#
+###############################################################################
+
+Arena.MaxRatingDifference = 150
+Arena.RatingDiscardTimer = 600000
+Arena.AutoDistributePoints = 0
+Arena.AutoDistributeInterval = 7
+Arena.QueueAnnouncer.Enable = 0
+Arena.QueueAnnouncer.PlayerOnly = 0
+Arena.ArenaSeason.ID = 1
+Arena.ArenaSeason.InProgress = 1
+Arena.ArenaStartRating = 0
+Arena.ArenaStartPersonalRating = 0
+Arena.ArenaStartMatchmakerRating = 1500
+
+###############################################################################
+# NETWORK CONFIG
+#
+#    Network.Threads
+#         Number of threads for network,
+#          recommend 1 thread per 1000 connections.
+#         Default: 1
+#
+#    Network.OutKBuff
+#         The size of the output kernel buffer used
+#          ( SO_SNDBUF socket option, tcp manual ).
+#         Default: -1 (Use system default setting)
+#
+#    Network.OutUBuff
+#         Userspace buffer for output.
+#          This is amount of memory reserved per each connection.
+#         Default: 65536
+#
+#    Network.TcpNoDelay:
+#         TCP Nagle algorithm setting
+#         Default: 0 (enable Nagle algorithm, less traffic, more latency)
+#                  1 (TCP_NO_DELAY, disable Nagle algorithm,
+#                     more traffic but less latency)
+#
+###############################################################################
+
+Network.Threads = 1
+Network.OutKBuff = -1
+Network.OutUBuff = 65536
+Network.TcpNodelay = 1
+
+###############################################################################
+# AUCTION HOUSE BOT SETTINGS
+#
+#    AuctionHouseBot.DEBUG
+#        Enable/Disable Debugging output
+#    Default 0 (disabled)
+#
+#    AuctionHouseBot.DEBUG_FILTERS
+#        Enable/Disable Debugging output from Filters
+#    Default 0 (disabled)
+#
+#    AuctionHouseBot.EnableSeller
+#        Enable/Disable the part of AHBot that puts items up for auction
+#    Default 0 (disabled)
+#
+#    AuctionHouseBot.EnableBuyer
+#        Enable/Disable the part of AHBot that buys items from players
+#    Default 0 (disabled)
+#
+#    AuctionHouseBot.UseBuyPriceForSeller
+#        Should the Seller use BuyPrice or SellPrice to determine Bid Prices
+#    Default 0 (use SellPrice)
+#
+#    AuctionHouseBot.UseBuyPriceForBuyer
+#        Should the Buyer use BuyPrice or SellPrice to determine Bid Prices
+#    Default 0 (use SellPrice)
+#
+#    Auction House Bot character data
+#        AuctionHouseBot.Account is the account number
+#         (in realmd->account table) of the player you want to run
+#         as the auction bot.
+#        AuctionHouseBot.GUID is the GUID (in characters->characters table)
+#         of the player you want to run as the auction bot.
+#    Default: 0 (Auction House Bot disabled)
+#
+#    AuctionHouseBot.ItemsPerCycle
+#        Number of Items to Add/Remove from the AH during mass operations
+#    Default 200
+#
+###############################################################################
+
+AuctionHouseBot.DEBUG = 0
+AuctionHouseBot.DEBUG_FILTERS = 0
+AuctionHouseBot.EnableSeller = 0
+AuctionHouseBot.EnableBuyer = 0
+AuctionHouseBot.UseBuyPriceForSeller = 0
+AuctionHouseBot.UseBuyPriceForBuyer = 0
+AuctionHouseBot.Account = 0
+AuctionHouseBot.GUID = 0
+AuctionHouseBot.ItemsPerCycle = 200
+
+###############################################################################
+# AUCTION HOUSE BOT FILTERS PART 1
+#
+#    AuctionHouseBot.VendorItems
+#        Include items that can be bought from vendors.
+#    Default 0 (False)
+#
+#    AuctionHouseBot.VendorTradeGoods
+#        Include Trade Goods that can be bought from vendors.
+#    Default 0 (False)
+#
+#    AuctionHouseBot.LootItems
+#        Include items that can be looted or fished for.
+#    Default 1 (True)
+#
+#    AuctionHouseBot.LootTradeGoods
+#        Include Trade Goods that can be looted or fished for.
+#    Default 1 (True)
+#
+#    AuctionHouseBot.OtherItems
+#        Include misc. items.
+#    Default 0 (False)
+#
+#    AuctionHouseBot.OtherTradeGoods
+#        Include misc. Trade Goods.
+#    Default 0 (False)
+#
+#    AuctionHouseBot.Bonding_types
+#        Indicates which bonding types to allow seller to put up for auction
+#            No_Bind
+#             Default 1 (True)
+#            Bind_When_Picked_Up
+#             Default 0 (False)
+#            Bind_When_Equipped
+#             Default 1 (True)
+#            Bind_When_Use
+#             Default 1 (True)
+#            Bind_Quest_Item
+#             Default 0 (False)
+#
+#    AuctionHouseBot.DisableBeta_PTR_Unused
+#        Disable certain items that are usually unavailable to Players
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisablePermEnchant
+#        Disable Items with a Permanent Enchantment
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableConjured
+#        Disable Conjured Items
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableGems
+#        Disable Gems
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableMoney
+#        Disable Items that are used as money
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableMoneyLoot
+#        Disable Items that have Money as a loot
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableLootable
+#        Disable Items that have other items as loot
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableKeys
+#        Disable Items that are keys
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableDuration
+#        Disable Items with a duration
+#    Default 0 (False)
+#
+#    AuctionHouseBot.DisableBOP_Or_Quest_NoReqLevel
+#        Disable items that are BOP or Quest Item
+#        with a Required level that is less than the Item Level
+#        (This prevents a level 10 with a level 60 weapon or armor)
+#        (May need further refinement)
+#    Default 0 (False)
+#
+###############################################################################
+
+AuctionHouseBot.VendorItems = 0
+AuctionHouseBot.VendorTradeGoods = 0
+AuctionHouseBot.LootItems = 1
+AuctionHouseBot.LootTradeGoods = 1
+AuctionHouseBot.OtherItems = 0
+AuctionHouseBot.OtherTradeGoods = 0
+AuctionHouseBot.No_Bind = 1
+AuctionHouseBot.Bind_When_Picked_Up = 0
+AuctionHouseBot.Bind_When_Equipped = 1
+AuctionHouseBot.Bind_When_Use = 1
+AuctionHouseBot.Bind_Quest_Item = 0
+AuctionHouseBot.DisableBeta_PTR_Unused = 0
+AuctionHouseBot.DisablePermEnchant = 0
+AuctionHouseBot.DisableConjured = 0
+AuctionHouseBot.DisableGems = 0
+AuctionHouseBot.DisableMoney = 0
+AuctionHouseBot.DisableMoneyLoot = 0
+AuctionHouseBot.DisableLootable = 0
+AuctionHouseBot.DisableKeys = 0
+AuctionHouseBot.DisableDuration = 0
+AuctionHouseBot.DisableBOP_Or_Quest_NoReqLevel = 0
+
+###############################################################################
+# AUCTION HOUSE BOT FILTERS PART 2
+#
+#     These Filters are boolean (0 or 1) and will disable items that are
+#     specifically meant for the Class named.
+#     (UnusedClass is Class 10, which was skipped for some reason)
+#     Default 0 (allowed)
+#
+###############################################################################
+
+AuctionHouseBot.DisableWarriorItems = 0
+AuctionHouseBot.DisablePaladinItems = 0
+AuctionHouseBot.DisableHunterItems = 0
+AuctionHouseBot.DisableRogueItems = 0
+AuctionHouseBot.DisablePriestItems = 0
+AuctionHouseBot.DisableDKItems = 0
+AuctionHouseBot.DisableShamanItems = 0
+AuctionHouseBot.DisableMageItems = 0
+AuctionHouseBot.DisableWarlockItems = 0
+AuctionHouseBot.DisableUnusedClassItems = 0
+AuctionHouseBot.DisableDruidItems = 0
+
+###############################################################################
+# AUCTION HOUSE BOT FILTERS PART 3
+#
+#    AuctionHouseBot.DisableItemsBelowLevel
+#        Prevent Seller from listing Items below this Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsAboveLevel
+#        Prevent Seller from listing Items above this Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsBelowLevel
+#        Prevent Seller from listing Trade Goods below this Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsAboveLevel
+#        Prevent Seller from listing Trade Goods above this Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsBelowGUID
+#        Prevent Seller from listing Items below this GUID
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsAboveGUID
+#        Prevent Seller from listing Items above this GUID
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsBelowGUID
+#        Prevent Seller from listing Trade Goods below this GUID
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsAboveGUID
+#        Prevent Seller from listing Trade Goods above this GUID
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsBelowReqLevel
+#        Prevent Seller from listing Items below this Required Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsAboveReqLevel
+#        Prevent Seller from listing Items above this Required Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsBelowReqLevel
+#        Prevent Seller from listing Trade Goods below this Required Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsAboveReqLevel
+#        Prevent Seller from listing Trade Goods above this Required Level
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsBelowReqSkillRank
+#        Prevent Seller from listing Items below this Required Skill Rank
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableItemsAboveReqSkillRank
+#        Prevent Seller from listing Items above this Required Skill Rank
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsBelowReqSkillRank
+#        Prevent Seller from listing Trade Goods below this Required Skill Rank
+#    Default 0 (Off)
+#
+#    AuctionHouseBot.DisableTGsAboveReqSkillRank
+#        Prevent Seller from listing Trade Goods above this Required Skill Rank
+#    Default 0 (Off)
+#
+###############################################################################
+
+AuctionHouseBot.DisableItemsBelowLevel = 0
+AuctionHouseBot.DisableItemsAboveLevel = 0
+AuctionHouseBot.DisableTGsBelowLevel = 0
+AuctionHouseBot.DisableTGsAboveLevel = 0
+AuctionHouseBot.DisableItemsBelowGUID = 0
+AuctionHouseBot.DisableItemsAboveGUID = 0
+AuctionHouseBot.DisableTGsBelowGUID = 0
+AuctionHouseBot.DisableTGsAboveGUID = 0
+AuctionHouseBot.DisableItemsBelowReqLevel = 0
+AuctionHouseBot.DisableItemsAboveReqLevel = 0
+AuctionHouseBot.DisableTGsBelowReqLevel = 0
+AuctionHouseBot.DisableTGsAboveReqLevel = 0
+AuctionHouseBot.DisableItemsBelowReqSkillRank = 0
+AuctionHouseBot.DisableItemsAboveReqSkillRank = 0
+AuctionHouseBot.DisableTGsBelowReqSkillRank = 0
+AuctionHouseBot.DisableTGsAboveReqSkillRank = 0
+
+###############################################################################
+# CONSOLE AND REMOTE ACCESS
+#
+#    Console.Enable
+#        Enable console
+#        Default: 1 - on
+#                 0 - off
+#
+#    Ra.Enable
+#        Enable remote console
+#        Default: 0 - off
+#                 1 - on
+#
+#    Ra.IP
+#        Default remote console ip address, use 0.0.0.0 for every address
+#
+#    Ra.Port
+#        Default remote console port
+#
+#    Ra.MinLevel
+#        Minimum level that's required to login,3 by default
+#
+#    Ra.Secure
+#        Kick client on wrong pass
+#
+#    SOAP.Enable
+#        Enable soap service
+#        Default: 0 - off
+#                 1 - on
+#
+#    SOAP.IP
+#        Bound SOAP service ip address, use 0.0.0.0 to access from everywhere
+#        Default: 127.0.0.1
+#
+#    SOAP.Port
+#        SOAP port
+#        Default: 7878
+#
+###################################################################################################################
+
+Console.Enable = 1
+Ra.Enable = 0
+Ra.IP = 0.0.0.0
+Ra.Port = 3443
+Ra.MinLevel = 3
+Ra.Secure = 1
+SOAP.Enabled = 0
+SOAP.IP = 127.0.0.1
+SOAP.Port = 7878
+
+###################################################################################################################
+#    CharDelete.Method
+#        Character deletion behavior
+#        Default: 0  - Completely remove the character from the database
+#                 1  - Unlinking, the character gets unlinked from the account,
+#                      the name gets freed up and appears as deleted ingame
+#
+#    CharDelete.MinLevel
+#        Character gets deleted by CharDelete.Method=0 when the character
+#        hasn't the specified level yet.
+#        Default: 0  - For all characters the specified mode will be used
+#                 1+ - Only for players which have reached the specified level
+#                      will be deleted by the specified mode.
+#                      the rest will be deleted by CharDelete.Method=0
+#
+#    CharDelete.KeepDays
+#        Define the amount of days for which the characters are kept in the database before
+#        they will be removed
+#        Default: 30
+#                 0  - Don't delete any characters, they stay in the database forever.
+#
+###################################################################################################################
+
+CharDelete.Method = 0
+CharDelete.MinLevel = 0
+CharDelete.KeepDays = 30
+
+###############################################################################
+# MOVEMENT ANTICHEAT
+#
+#    Anticheat.Movement.Enable
+#        Enable Movement Anticheat
+#        Default: 0 - off
+#                 1 - on
+#
+#    Anticheat.Movement.AlarmCount
+#        Count alarms. After AlarmCount is exceeded, actions are taken against
+#        the player. (default 5)
+#
+#    Anticheat.Movement.AlarmTime
+#        Reset alarm-count after this milliseconds. (default 5000)
+#
+#    Anticheat.Movement.Kill
+#        Enable Kill cheater
+#        Default: 0 - off
+#                 1 - on
+#
+#    Anticheat.Movement.Kick
+#        Enable Kick cheater
+#        Default: 0 - off
+#                 1 - on
+#
+#    Anticheat.Movement.BanType
+#        Enable Ban cheater
+#        Default: 0 - off
+#                 1 - Ban Account
+#                 2 - Ban IP
+#                 3 - Ban Account + IP
+#
+#    Anticheat.Movement.BanTime
+#        How long the ban should last.
+#        Default: 1 Minute - 1m
+#
+#    Anticheat.Movement.MaxXYT
+#        Max units a player is allowed to travel per millisecond.
+#        Default: 0.04 (This is ~400% Speed, 0.007 is walk-speed,
+#                 310% is 0.0287)
+#
+#    Anticheat.Movement.IgnoreSecAfterTeleport
+#        After being teleported this number of seconds no cheat is reported.
+#        Default: 10 seconds - 10
+#
+#    Anticheat.Movement.GmLevel
+#        Only accounts that are below this gm-level or exact at the same,
+#        are reported for cheating.
+#        Default: Only normal Players - 0
+#
+###############################################################################
+
+Anticheat.Movement.Enable = 1
+Anticheat.Movement.AlarmCount = 4
+Anticheat.Movement.AlarmTime = 6000
+Anticheat.Movement.Kill = 0
+Anticheat.Movement.Kick = 0
+Anticheat.Movement.BanType = 0
+Anticheat.Movement.BanTime = "1m"
+Anticheat.Movement.MaxXYT = 0.0330
+Anticheat.Movement.IgnoreSecAfterTeleport = 10
+Anticheat.Movement.GmLevel = 1
+
+###############################################################################
+# CUSTOM SERVER OPTIONS
+#
+#    PlayerStart.AllReputation
+#        Players will start with most of the high level reputations that are
+#         needed for items, mounts etc.
+#
+#    PlayerStart.AllSpells
+#        If enabled, players will start with all their class spells
+#         (not talents). Useful for instant 80 servers.
+#        You must populate playercreateinfo_spell_custom table with the spells
+#         you want, or this WILL NOT WORK! The table has data for all
+#         classes / races up to TBC expansion.
+#         Do not enable if you do not know what you are doing!
+#        Default: 0 - off
+#                 1 - on
+#
+#    PlayerStart.MapsExplored
+#        Players will start with all maps explored if enabled
+#
+#    MusicInBattleground
+#        If enabled "L70ETC-Power of the horde" will be played when BG starts
+#
+#    HonorPointsAfterDuel
+#        The amount of honor points the duel winner will get after a duel.
+#        Default: 0 - disable
+#
+#    AlwaysMaxWeaponSkill
+#        Players will automatically gain max weapon/defense skill when
+#         logging in, leveling up etc.
+#
+#    PvPToken.Enable
+#        Enable/disable PvP Token System. Players will get a token
+#         after slaying another player that gives honor.
+#
+#    PvPToken.MapAllowType
+#        Where players can receive the pvp token
+#        4 - In all maps
+#        3 - In battlegrounds only
+#        2 - In FFA areas only (gurubashi arena etc)
+#        1 - In battlegrounds AND FFA areas only
+#
+#    PvPToken.ItemID
+#        The item players will get after killing someone
+#         if PvP Token system is enabled.
+#        Default: 29434 - Badge of justice
+#
+#    PvPToken.ItemCount
+#        Modify the item ID count - Default: 1
+#
+#    NoResetTalentsCost
+#        Enable or disable no cost when reseting talents
+#
+#   Guild.AllowMultipleGuildMaster
+#       Allow override of 1 Guild Master limit. Additional Guild Masters must
+#       be set using the ".guild rank" command, not through the UI
+#       Default: 0 = Only 1 Guild Master per guild
+#                1 = Allow more than one Guild Master
+#
+#   ShowKickInWorld
+#        Determines wether a message is broadcasted to the entire server
+#         when a player gets kicked
+#        Default: 0 = Disable
+#                 1 = Enable
+#
+#   RecordUpdateTimeDiffInterval
+#        Record update time diff to the log file
+#         update diff can be used as a criterion of performance
+#         diff < 300: good performance
+#         diff > 600: bad performance, may be caused by high cpu usage
+#        Default: 60000 (diff is written into log every 60000 ms or 1 minute.
+#                 >0 = Interval
+#                 0 = Disable
+#
+#   MinRecordUpdateTimeDiff
+#        Only record update time diff which is greater than this value
+#        Default: 10
+#
+#   PlayerStart.String
+#       If set to anything other than "", this string will be displayed
+#        to players when they login to a newly created character.
+#       Default: "" - send no text
+#
+#   LevelReq.Trade
+#        The required level of character to be able to trade
+#        Default: 1 (From level 1)
+#
+#   LevelReq.Ticket
+#        The required level of character to be able to write tickets
+#        Default: 1 (From level 1)
+#
+#   LevelReq.Auction
+#        The required level of character to be able to use auction
+#        Default: 1 (From level 1)
+#
+#   LevelReq.Mail
+#        The required level of character to be able to send and receive mail
+#        Default: 1 (From level 1)
+#
+#   DungeonFinder.Enable
+#        Enable Dungeon Finder system. Will enable dungeon finder and raid finder
+#        Default: 0 - off
+#                 1 - on
+#
+###############################################################################
+
+PlayerStart.AllReputation = 0
+PlayerStart.AllSpells = 0
+PlayerStart.MapsExplored = 0
+MusicInBattleground = 0
+HonorPointsAfterDuel = 0
+AlwaysMaxWeaponSkill = 0
+PvPToken.Enable = 0
+PvPToken.MapAllowType = 4
+PvPToken.ItemID = 29434
+PvPToken.ItemCount = 1
+Guild.AllowMultipleGuildMaster = 0
+NoResetTalentsCost = 0
+ShowKickInWorld = 0
+RecordUpdateTimeDiffInterval = 60000
+MinRecordUpdateTimeDiff = 100
+PlayerStart.String = ""
+LevelReq.Trade = 1
+LevelReq.Ticket = 1
+LevelReq.Auction = 1
+LevelReq.Mail = 1
+DungeonFinder.Enable = 1
+
 ###############################################################################
-# CONNECTIONS AND DIRECTORIES
 #
-#    RealmID
-#        RealmID must match the realmlist inside the realmd database
+# 		PVP System
 #
-#    DataDir
-#        Data directory setting.
-#        Important: DataDir needs to be quoted, as it is a string which may
-#         contain space characters.
-#        Example: "@prefix@/share/trinitycore"
-#
-#    LogsDir
-#        Logs directory setting.
-#        Important: Logs dir must exists, or all logs need to be disabled
-#        Default: "" - no log directory prefix, if used log names isn't
-#         absolute path then logs will be stored in current directory.
-#
-#    LoginDatabaseInfo
-#    WorldDatabaseInfo
-#    CharacterDatabaseInfo
-#        Database connection settings for the world server.
-#        Default:
-#                    hostname;port;username;password;database
-#                    .;somenumber;username;password;database
-#                     - use named pipes in Windows
-#                    Named pipes: mySQL required adding
-#                        "enable-named-pipe" to [mysqld] section my.ini
-#                    .;/path/to/unix_socket;username;password;database
-#                     - use Unix sockets in Unix/Linux
-#
-#    LoginDatabase.WorkerThreads
-#    WorldDatabase.WorkerThreads
-#    CharacterDatabase.WorkerThreads
-#        The amount of worker threads spawned to handle
-#        asynchronous (delayed) MySQL statements.
-#        Each worker thread is mirrored with its own
-#        connection to the MySQL server and their own
-#        thread on the MySQL server.
-#        Default: 1
-#
-#    LoginDatabase.SynchThreads
-#    WorldDatabase.SynchThreads
-#    CharacterDatabase.SynchThreads
-#        The amount of MySQL connections spawned to handle
-#        synchronous (blocking) MySQL statements.
-#        Default: 1, 1, 2
-#
-#    MaxPingTime
-#        Settings for maximum database-ping interval (seconds between pings)
-#        Default: 1800 (30 minutes)
-#
-#    WorldServerPort
-#        Default WorldServerPort
-#
-#    BindIP
-#        Bind World Server to IP/hostname
+#		0=Off,  1=On
 #
 ###############################################################################
-
-RealmID = 1
-DataDir = "."
-LogsDir = ""
-LoginDatabaseInfo     = "127.0.0.1;3306;trinity;trinity;auth"
-WorldDatabaseInfo     = "127.0.0.1;3306;trinity;trinity;world"
-CharacterDatabaseInfo = "127.0.0.1;3306;trinity;trinity;characters"
-LoginDatabase.WorkerThreads = 1
-WorldDatabase.WorkerThreads = 1
-CharacterDatabase.WorkerThreads = 1
-LoginDatabase.SynchThreads = 1
-WorldDatabase.SynchThreads = 1
-CharacterDatabase.SynchThreads = 2
-MaxPingTime = 1800
-WorldServerPort = 8085
-BindIP = "0.0.0.0"
-
-###############################################################################
-# SCRIPTING SETTINGS
-#
-#    Locale
-#        Setting for current (DBC) locale to use
-#
-#    EventAI Error reporting
-#        Default: 0 - Only startup
-#                 1 - Startup errors and Runtime event errors
-#                 2 - Startup errors, Runtime event errors, and Creation errors
-#
-###############################################################################
-
-Locale = 0
-EAIErrorLevel = 2
-
-###############################################################################
-# PERFORMANCE SETINGS
-#
-#    UseProcessors
-#        Processors mask for multi-processor system (Used only in Windows)
-#        Default: 0 (selected by OS)
-#                 number (bitmask value of selected processors)
-#
-#    ProcessPriority
-#        Process priority setting (Used only at Windows)
-#        Default: 1 (HIGH)
-#                 0 (Normal)
-#
-#    Compression
-#        Compression level for update packages sent to client (1..9)
-#        Default: 1 (speed)
-#                 9 (best compression)
-#
-#    PlayerLimit
-#        Maximum number of players in the world. Excluding Mods, GMs and Admins
-#        Default: 100
-#                 0 (for infinite players)
-#                 If you want to block players and enable Mods, GMs or Admins use
-#                 DB field realmd.realmlist.allowedSecurityLevel
-#
-#    SaveRespawnTimeImmediately
-#        Save respawn time for creatures at death and gameobjects at use/open
-#        Default: 1 (save creature/gameobject respawn time immediately)
-#                 0 (save creature/gameobject respawn time at grid unload)
-#
-#    MaxOverspeedPings
-#        Maximum overspeed ping count before player kick
-#         (minimum is 2, 0 used for disable check)
-#        Default: 2
-#
-#    GridUnload
-#        Unload grids
-#         (if you have lot memory you can disable it to speed up
-#         player move to new grids second time)
-#        Default: 1 (unload grids)
-#                 0 (do not unload grids)
-#
-#    SocketSelectTime
-#        Socket select time (in milliseconds)
-#        Default: 10000 (10 secs)
-#
-#    SocketTimeOutTime
-#        Time in milliseconds afer which a connection sitting idle on the character
-#        selection screen is disconnected.
-#        Default: 900000 (15 minutes)
-#
-#    SessionAddDelay
-#        Time in microseconds that a network thread will sleep after authentication
-#        protocol and adding a connection to the world session map.
-#        Default: 10000 (10 milliseconds, 0,01 second)
-#
-#    GridCleanUpDelay
-#        Grid clean up delay (in milliseconds)
-#        Default: 300000 (5 min)
-#
-#    MapUpdateInterval
-#        Map update interval (in milliseconds)
-#        Default: 100
-#
-#    ChangeWeatherInterval
-#        Weather update interval (in milliseconds)
-#        Default: 600000 (10 min)
-#
-#    PlayerSaveInterval
-#        Player save interval (in milliseconds)
-#        Default: 900000 (15 min)
-#
-#    PlayerSave.Stats.MinLevel
-#        Minimum level for saving character stats for external usage in database    
-#        Default: 0  (do not save character stats)    
-#                 1+ (save stats for characters with level 1+)    
-#
-#    PlayerSave.Stats.SaveOnlyOnLogout    
-#        Enable/Disable saving of character stats only on logout
-#        Default: 1 (only save on logout)
-#                 0 (save on every player save)
-#
-#    vmap.enableLOS
-#    vmap.enableHeight
-#        Enable/Disable VMmap support for line of sight and height calculation
-#                 0 (disable)
-#        Default: 1 (enable)
-#
-#    vmap.ignoreMapIds
-#        Map id that will be ignored by VMaps
-#         List of ids with delimiter ','
-#         If more then one id is defined and spaces are included, the string
-#         has to be enclosed by "
-#        Example: "369,0,1,530"
-#
-#    vmap.ignoreSpellIds
-#        These spells are ignored for LoS calculation
-#         List of ids with delimiter ','
-#
-#    vmap.petLOS
-#        Check LOS for pets, to avoid them going through walls etc.
-#                 0 (disable, somewhat less CPU usage)
-#        Default: 1 (enable, each pet attack command will check for LOS)
-#
-#    vmap.enableIndoorCheck
-#        Enable/Disable VMap based indoor check to remove outdoor-only auras (mounts etc.)
-#                 0 (disabled, somewhat less CPU usage)
-#        Default: 1 (enabled)
-#
-#    DetectPosCollision
-#        Check final move position, summon position, etc for visible collision
-#         with other objects or wall (wall only if vmaps are enabled)
-#        Default: 1 (enable, required more CPU usage)
-#                 0 (disable, less position precision but will use less CPU)
-#
-#    TargetPosRecalculateRange
-#        Max distance from movement target point (+moving unit size) and
-#         targeted object (+size) after that new target movement point
-#         calculated. Max: melee attack range (5), min: contact range (0.5)
-#         More distance let have better performence, less distance let have
-#         more sensitive reaction at target move.
-#        Default: 1.5
-#
-#    UpdateUptimeInterval
-#        Update realm uptime period in minutes. Must be > 0
-#        Default: 10 (minutes)
-#
-#    LogDB.Opt.ClearInterval
-#        Time for the WUPDATE_CLEANDB timer that clears the `logs` table
-#         of old entries. Must be > 0.
-#        Default: 10 (minutes)
-#
-#    LogDB.Opt.ClearTime
-#        The maximum time in seconds of old `logs` table entries to keep.
-#        Default: 1209600 (14 days)
-#                 0 - don't clear
-#
-#    MaxCoreStuckTime
-#        Periodically check if the process is frozen, if this is the case
-#         force crash after the specified amount of seconds. Must be > 0.
-#         Recommended > 10 secs if you use this.
-#        Default: 0 (Disabled)
-#
-#    AddonChannel
-#        Permit/disable the use of the addon channel through the server
-#         (some client side addons will not work correctly with disabled
-#         addon channel)
-#        Default: 1 (permit addon channel)
-#                 0 (do not permit addon channel)
-#
-#    MapUpdate.Threads
-#    Number of threads to update maps.
-#    Default: 1
-#
-#    CleanCharacterDB
-#        Perform character db clean ups on start up
-#        Default: 0 (Disabled)
-#                 1 (Enable)
-#
-###############################################################################
-
-UseProcessors = 0
-ProcessPriority = 1
-Compression = 1
-PlayerLimit = 100
-SaveRespawnTimeImmediately = 1
-MaxOverspeedPings = 2
-GridUnload = 1
-SocketSelectTime = 10000
-SocketTimeOutTime = 900000
-SessionAddDelay = 10000
-GridCleanUpDelay = 300000
-MapUpdateInterval = 100
-ChangeWeatherInterval = 600000
-PlayerSaveInterval = 900000
-PlayerSave.Stats.MinLevel = 0
-PlayerSave.Stats.SaveOnlyOnLogout = 1
-vmap.enableLOS = 1
-vmap.enableHeight = 1
-vmap.ignoreMapIds = ""
-vmap.ignoreSpellIds = "7720"
-vmap.petLOS = 1
-vmap.enableIndoorCheck = 1
-DetectPosCollision = 1
-TargetPosRecalculateRange = 1.5
-UpdateUptimeInterval = 10
-LogDB.Opt.ClearInterval = 10
-LogDB.Opt.ClearTime = 1209600
-MaxCoreStuckTime = 0
-AddonChannel = 1
-MapUpdate.Threads = 1
-CleanCharacterDB = 0
-
-###############################################################################
-# SERVER LOGGING
-#
-#    LogSQL
-#        Enable logging of SQL commands from in game
-#         All commands are written to a file: YYYY-MM-DD_logSQL.sql
-#         If a new day starts (00:00:00) then a new file is created
-#         the old file will not be deleted.
-#        Default: 1 - Write SQL code to logfile
-#                 0 - Do not log
-#
-#    PidFile
-#        World daemon PID file
-#        Default: ""             - do not create PID file
-#                 "./worldd.pid" - create PID file (recommended name)
-#
-#    LogLevel
-#        Server console level of logging
-#                 0 = Minimum
-#        Default: 1 = Basic
-#                 2 = Detail
-#                 3 = Full/Debug
-#
-#    LogFile
-#        Logfile name
-#        Default: "Server.log"
-#                 "" - Empty name disable creating log file
-#
-#    ChatLogFile
-#        Log file for chat logs
-#        Default: "chat.log"
-#                 "" - Empty name for disable
-#
-#    LogTimestamp
-#        Logfile with timestamp of server start in name
-#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
-#        Default: 0 - no timestamp in name
-#                 1 - add timestamp in name
-#
-#    LogFileLevel
-#        Server file level of logging
-#        Default: 0 = Minimum
-#                 1 = Basic
-#                 2 = Detail
-#                 3 = Full/Debug
-#
-#    LogFilter_AchievementUpdates
-#    LogFilter_CreatureMoves
-#    LogFilter_TransportMoves
-#    LogFilter_VisibilityChanges
-#        Log filters
-#        Default: 1 - not include with any log level
-#                 0 - include in log if log level permit
-#
-#    WorldLogFile
-#        Packet logging file for the worldserver
-#        Default: "world.log"
-#
-#    DBErrorLogFile
-#        Log file of DB errors detected at server run
-#        Default: "DBErrors.log"
-#
-#    CharLogFile
-#        Character operations logfile name
-#        Default: "Char.log"
-#                 "" - Empty name disable creating log file
-#
-#    CharLogTimestamp
-#        Logfile with timestamp of server start in name
-#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
-#        Default: 0 - no timestamp in name
-#                 1 - add timestamp in name
-#
-#    CharLogDump
-#        Write character dump before deleting in Char.log
-#         For restoration, cut character data from log starting from
-#         line == START DUMP == to line == END DUMP == (exclusive) in file
-#         and load it using the loadpdump command
-#        Default: 0 - don't include dumping chars to log
-#                 1 - include dumping chars to log
-#
-#    CharLogDump.Separate
-#        Write character dump to separate file
-#        Default: 0 - don't write dump to separate file
-#                 1 - write each dump to separate file
-#
-#    CharLogDump.SeparateDir
-#        Subdirectory within logs dir for separate char dumps.
-#
-#    GmLogFile
-#        Log file of gm commands
-#        Default: "gm_commands.log"
-#                 "" - Empty name for disable
-#
-#    GmLogTimestamp
-#        GM Logfile with timestamp of server start in name
-#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
-#        Default: 0 - no timestamp in name
-#                 1 - add timestamp in name
-#
-#    GmLogPerAccount
-#        GM Logfiles with GM account id
-#         (Note: logs not created if GmLogFile not set)
-#        Default: 0 - add gm log data to single log file
-#                 1 - add gm log data to account specific log files with name
-#                     in form Logname_#ID_YYYY-MM-DD_HH-MM-SS.Ext
-#                     or form Logname_#ID.Ext
-#
-#    RaLogFile
-#        Log file of RA commands
-#        Default: "Ra.log"
-#                 "" - Empty name for disable
-#
-#    ArenaLogFile
-#        Log file of arena fights and arena team creations
-#        Default: "" - do not create arena log file
-#
-#    ArenaLog.ExtendedInfo
-#        Include extended info for each player after rated arena (guid, name, team, IP, healing/damage done, killing blows)
-#        Default: 0 - disabled
-#                 1 - enabled
-#
-#    SQLDriverLogFile
-#        Log file of SQL driver events.
-#        For effective query logging you need to build in debug configuration.
-#        Default: "" - Empty name for disable
-#
-#    LogColors
-#        Color for messages (format "normal basic detail debug")
-#        Default: "" - no colors
-#        Colors: 0  - BLACK
-#                1  - RED
-#                2  - GREEN
-#                3  - BROWN
-#                4  - BLUE
-#                5  - MAGENTA
-#                6  - CYAN
-#                7  - GREY
-#                8  - YELLOW
-#                9  - LRED
-#                10 - LGREEN
-#                11 - LBLUE
-#                12 - LMAGENTA
-#                13 - LCYAN
-#                14 - WHITE
-#        Example: "13 11 9 5"
-#
-#    EnableLogDB
-#        Enable/disable logging to database (LogDatabaseInfo).
-#        Default: 0 - disabled
-#                 1 - enabled
-#
-#    DBLogLevel
-#        Log level of DB logging.
-#                 0 = Minimum
-#                 1 = Basic
-#                 2 = Detail
-#        Default: 3 = Full/Debug
-#
-#    LogDB.Char
-#        Enable/disable logging character outputs to DB.
-#        Default: 0 - off
-#                 1 - on
-#
-#    LogDB.GM
-#        Enable/disable logging GM commands to DB.
-#        Default: 0 - off
-#                 1 - on
-#
-#    LogDB.RA
-#        Enable/disable logging remote access events to DB.
-#        Default: 0 - off
-#                 1 - on
-#
-#    LogDB.World
-#        Enable/disable logging world packets to DB.
-#        Default: 0 - off
-#                 1 - on (very heavy)
-#
-#    LogDB.Chat
-#        Enable/disable logging chat messages to the database.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Channel
-#        Enable logging chatting in custom channels.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Whisper
-#        Enable logging whispers between players.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Party
-#        Enable logging party messages.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Raid
-#        Enable logging raid messages.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Guild
-#        Enable logging guild messages.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Public
-#        Enable logging public chat events (say/yell/emote).
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.Addon
-#        Enable logging addon messages.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogs.BattleGround
-#        Enable logging battleground chats.
-#        Default: 0 - off
-#                 1 - on
-#
-#    ChatLogTimestamp
-#        Chat Logfile with timestamp of server start in name
-#         in form Logname_YYYY-MM-DD_HH-MM-SS.Ext for Logname.Ext
-#        Default: 0 - no timestamp in name
-#                 1 - add timestamp in name
-#
-###############################################################################
-
-LogSQL = 1
-PidFile = ""
-LogLevel = 1
-LogFile = "Server.log"
-ChatLogFile = "chat.log"
-LogTimestamp = 0
-LogFileLevel = 0
-LogFilter_AchievementUpdates = 1
-LogFilter_CreatureMoves = 1
-LogFilter_TransportMoves = 1
-LogFilter_VisibilityChanges = 1
-WorldLogFile = ""
-DBErrorLogFile = "db_errors.log"
-CharLogFile = "characters.log"
-CharLogTimestamp = 0
-CharLogDump = 0
-CharLogDump.Separate = 0
-CharLogDump.SeparateDir = ""
-GmLogFile = "gm_commands.log"
-GmLogTimestamp = 0
-GmLogPerAccount = 0
-RaLogFile = "ra_commands.log"
-ArenaLogFile = ""
-ArenaLog.ExtendedInfo = 0
-SQLDriverLogFile = ""
-LogColors = ""
-EnableLogDB = 0
-DBLogLevel = 2
-LogDB.Char   = 0
-LogDB.GM     = 0
-LogDB.RA     = 0
-LogDB.World  = 0
-LogDB.Chat   = 0
-ChatLogs.Channel      = 0
-ChatLogs.SysChan      = 0
-ChatLogs.Whisper      = 0
-ChatLogs.Party        = 0
-ChatLogs.Raid         = 0
-ChatLogs.Guild        = 0
-ChatLogs.Public       = 0
-ChatLogs.Addon        = 0
-ChatLogs.BattleGround = 0
-ChatLogTimestamp = 0
-
-###############################################################################
-# SERVER SETTINGS
-#
-#    GameType
-#        Server realm style
-#        Default: 0 = NORMAL
-#                 1 = PVP
-#                 4 = NORMAL
-#                 6 = RP
-#                 8 = RPPVP
-#                 16 FFA_PVP (free for all pvp mode like arena PvP in all
-#                     zones except rest activated places and sanctuaries)
-#
-#    RealmZone
-#        Server realm zone (set allowed alphabet in character names/etc)
-#         See also Strict*Names options.
-#        Default: 1 Development    - any language
-#                 2 United States  - extended-Latin
-#                 3 Oceanic        - extended-Latin
-#                 4 Latin America  - extended-Latin
-#                 5 Tournament     - basic-Latin at create, any at login
-#                 6 Korea          - East-Asian
-#                 7 Tournament     - basic-Latin at create, any at login
-#                 8 English        - extended-Latin
-#                 9 German         - extended-Latin
-#                 10 French        - extended-Latin
-#                 11 Spanish       - extended-Latin
-#                 12 Russian       - Cyrillic
-#                 13 Tournament    - basic-Latin at create, any at login
-#                 14 Taiwan        - East-Asian
-#                 15 Tournament    - basic-Latin at create, any at login
-#                 16 China         - East-Asian
-#                 17 CN1           - basic-Latin at create, any at login
-#                 18 CN2           - basic-Latin at create, any at login
-#                 19 CN3           - basic-Latin at create, any at login
-#                 20 CN4           - basic-Latin at create, any at login
-#                 21 CN5           - basic-Latin at create, any at login
-#                 22 CN6           - basic-Latin at create, any at login
-#                 23 CN7           - basic-Latin at create, any at login
-#                 24 CN8           - basic-Latin at create, any at login
-#                 25 Tournament    - basic-Latin at create, any at login
-#                 26 Test Server   - any language
-#                 27 Tournament    - basic-Latin at create, any at login
-#                 28 QA Server     - any language
-#                 29 CN9           - basic-Latin at create, any at login
-#
-#    Expansion
-#        Allow server use content from expansion
-#        Default: 2 - check expansion 2 maps existence, and if client support
-#                      expansion 2 and account have expansion 2 setting then
-#                      allow visit expansion 2 maps, allow create new class
-#                      character)
-#                 1 - check expansion 1 maps existence, and if client support
-#                      expansion 1 and account have expansion 1 setting then
-#                      allow visit expansion 1 maps, allow create new races
-#                      character)
-#                 0 - don't check expansion maps existence, don't allow visit
-#                      maps, don't allow create new race or new class
-#                      characters, ignore account expansion setting)
-#
-#    DBC.Locale
-#        DBC Language Settings
-#        Default: 255 = Auto Detect
-#                 0   = English
-#                 1   = Korean
-#                 2   = French
-#                 3   = German
-#                 4   = Chinese
-#                 5   = Taiwanese
-#                 6   = Spanish
-#                 7   = Spanish Mexico
-#                 8   = Russian
-#
-#    DeclinedNames
-#        Allow russian clients to set and use declined names
-#        Default: 0 - do not use declined names, except when
-#                      the Russian RealmZone is set
-#                 1 - use declined names
-#
-#    StrictPlayerNames
-#        Limit player name to language specific symbol set, don't allow
-#         character creation, and set rename request and disconnect at not
-#         allowed symbols name
-#        Default: 0 disable (limited server timezone dependent client check)
-#                 1 basic latin characters  (strict)
-#                 2 realm zone specific (strict). See RealmZone setting.
-#                   Note: In any case if you want correctly see character
-#                   name at client this client must have appropriate fonts
-#                   (included in client by default, with active official
-#                   localization or custom localization fonts in
-#                   clientdir/Fonts).
-#                 3 basic latin characters + server timezone specific
-#
-#    StrictCharterNames
-#        Limit guild/arena team charter names to language specific symbol set,
-#          don't allow charter creation with unallowed symbols in name
-#        Default: 0 disable
-#                 1 basic latin characters  (strict)
-#                 2 realm zone specific (strict). See RealmZone setting.
-#                   Note: In any case if you want correctly see character
-#                   name at client this client must have appropriate fonts
-#                   (included in client by default, with active official
-#                   localization or custom localization fonts in
-#                   clientdir/Fonts).
-#                 3 basic latin characters + server timezone specific
-#
-#    StrictPetNames
-#        Limit pet names to language specific symbols set
-#        Default: 0 disable
-#                 1 basic latin characters  (strict)
-#                 2 realm zone specific (strict). See RealmZone setting.
-#                   Note: In any case if you want correctly see character
-#                   name at client this client must have appropriate fonts
-#                   (included in client by default, with active official
-#                   localization or custom localization fonts in
-#                   clientdir/Fonts).
-#                 3 basic latin characters + server timezone specific
-#
-#    MinPlayerName
-#        Minimal name length (1..12)
-#        Default: 2
-#
-#    MinCharterName
-#        Minimal name length (1..24)
-#        Default: 2
-#
-#    MinPetName
-#        Minimal name length (1..12)
-#        Default: 2
-#
-#    MaxWhoListReturns
-#        Set the max number of players returned in the /who list and interface.
-#        Default: 49 (stable)
-#
-#    CharacterCreating.Disabled
-#        Disable characters creating for specific team or any
-#         (non-player accounts not affected)
-#        Default: 0 - enabled
-#                 1 - disabled only for Alliance
-#                 2 - disabled only for Horde
-#                 3 - disabled for both teams
-#
-#    CharacterCreating.Disabled.RaceMask
-#        Mask of races which cannot be created (ignored for GM accounts).
-#        Default: 0 - all races are enabled
-#                 Check http://www.trinitycore.info/index.php/Characters_tc2#race 
-#                 for race mask values.
-#        Example: 1536 = 1024 + 512 - Blood Elf and Draenei races are disabled.
-#
-#    CharacterCreating.Disabled.ClassMask
-#        Mask of classes which cannot be created (ignored for GM accounts).
-#        Default: 0 - all classes are enabled
-#                 Check http://www.trinitycore.info/index.php/Characters_tc2#class 
-#                 for class mask values.
-#        Example: 288 = 32 + 256 - Death Knight and Warlock classes are disabled.
-#
-#    CharactersPerAccount
-#        Limit numbers of characters per account (at all realms).
-#         Note: this setting limit character creating at _current_ realm base
-#         at characters amount at all realms
-#        Default: 50
-#                The number must be >= CharactersPerRealm
-#
-#    CharactersPerRealm
-#        Limit numbers of characters for account at realm
-#        Default: 10 (client limitation)
-#                The number must be between 1 and 10
-#
-#    HeroicCharactersPerRealm
-#        Limit numbers of heroic class characters for account at realm
-#        Default: 1
-#                The number must be between 0 (not allowed) and 10
-#
-#    CharacterCreating.MinLevelForHeroicCharacter
-#        Limit creating heroic characters only for account with another
-#         character of specific level (ignored for GM accounts)
-#                 0  - not require any existed chaarcter
-#                 1  - require at least any character existed
-#        Default: 55 - default requirement
-#
-#    SkipCinematics
-#        Disable in-game script movie at first character's login
-#         (allows to prevent buggy intro in case of custom start
-#         location coordinates)
-#        Default: 0 - show intro for each new characrer
-#                 1 - show intro only for first character of selected race
-#                 2 - disable intro show in all cases
-#
-#    MaxPlayerLevel
-#        Max level that can be reached by player for experience
-#         (in range from 1 to 100). Going past 100 voids your warranty
-#         and you will not receive support for bugs you encounter.
-#        Change not recommended
-#        Default: 80
-#
-#    MinDualSpecLevel
-#        Min level at which players can use Dual Spec functionality
-#        Default: 40
-#
-#    StartPlayerLevel
-#        Staring level that have character upon creation
-#         (in range 1 to MaxPlayerLevel)
-#        Default: 1
-#
-#    StartHeroicPlayerLevel
-#        Staring level that have character of heroic class upon creation
-#         (in range 1 to MaxPlayerLevel)
-#        Default: 55
-#
-#    StartPlayerMoney
-#        Amount of money that new players will start with.
-#         If you want to start with silver, use for example 100
-#         (100 copper = 1 silver)
-#        Default: 0
-#
-#    MaxHonorPoints
-#        Max honor points that player can have.
-#        Default: 75000
-#
-#    StartHonorPoints
-#        Amount of honor that new players will start with
-#        Default: 0
-#
-#    MaxArenaPoints
-#        Max arena points that player can have.
-#        Default: 10000
-#
-#    StartArenaPoints
-#        Amount of arena points that new players will start with
-#        Default: 0
-#
-#    RecruitAFriend.MaxLevel
-#        Highest level at which a player can benefit from the Recruit-A-Friend
-#         XP multiplier
-#        Default: 60
-#
-#    RecruitAFriend.MaxDifference = 3
-#        Highest level difference between linked players for both players to 
-#         benefit from the Recruit-A-Friend XP multiplier
-#        Default: 3
-#
-#    InstantLogout
-#        Enable or disable instant logout for security level (0..4) or higher
-#        (NOT in combat/while dueling/while falling)
-#        Default: 1 (Mods/GMs/Admins)
-#
-#    DisableWaterBreath
-#        Disable/enable waterbreathing for security level (0..4) or higher
-#        Default: 4 (None)
-#
-#    AllFlightPaths
-#        Players will start with all flight paths
-#         (Note: ALL flight paths, not only player's team)
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    InstantFlightPaths
-#        Flight paths will take players to their destination instantly, instead
-#         of making them wait to fly there.
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    AlwaysMaxSkillForLevel
-#        Players will automatically gain max level dependent (weapon/defense)
-#         skill when logging in, leveling up etc.
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    ActivateWeather
-#        Activate weather system
-#        Default: 1 (true)
-#                 0 (false)
-#
-#    CastUnstuck
-#        Allow cast or not Unstuck spell at .start or client Help option use
-#        Default: 1 (true)
-#                 0 (false)
-#
-#    Instance.IgnoreLevel
-#        Ignore level requirement to enter instance
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    Instance.IgnoreRaid
-#        Ignore raid requirement to enter instance
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    Instance.ResetTimeHour
-#        The hour of the day (0-23) when the global instance resets occur.
-#        Default: 4
-#
-#    Instance.UnloadDelay
-#        Unload the instance map from memory after some time
-#         if no players are inside.
-#        Default: 1800000 (miliseconds 30 minutes)
-#                 0 (instance maps are kept in memory until they are reset)
-#
-#    Quests.LowLevelHideDiff
-#        Quest level difference to hide for player low level quests:
-#         if player_level > quest_level + LowLevelQuestsHideDiff then quest
-#         "!" mark not show for quest giver
-#        Default: 4
-#                -1 (show all available quests marks)
-#
-#    Quests.HighLevelHideDiff
-#        Quest level difference to hide for player high level quests:
-#         if player_level < quest_min_level - HighLevelQuestsHideDiff then
-#         quest "!" mark not show for quest giver
-#        Default: 7
-#                -1 (show all available quests marks)
-#
-#    Quests.IgnoreRaid
-#        Allow non-raid quests to be completed when in raid group
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    Guild.EventLogRecordsCount
-#        Count of guild event log records stored in guild_eventlog table
-#         Increase to store more guild events in table, minimum is 100
-#         You can set it to very high value to prevent oldest guild events to
-#         be rewritten by latest guild events; can slow down performance
-#        Default: 100
-#
-#    Guild.BankEventLogRecordsCount
-#        Count of guild_bank event log records stored in
-#         guild_bank_eventlog table
-#         Increase to store more guild_bank events in table - minimum is 25
-#         (GUILD_BANK_MAX_LOGS) for each guild_bank tab
-#         Useful when you don't want old log events to be overwritten by new,
-#         but increasing can slow down performance
-#        Default: 25
-#
-#    MaxPrimaryTradeSkill
-#        Max count that player can learn the primary trade skill.
-#        Default: 2
-#        Max : 10
-#
-#    MinPetitionSigns
-#        Min signatures count to creating guild (0..9).
-#        Default: 9
-#
-#    MaxGroupXPDistance
-#        Max distance to creature for group member to get XP at creature death.
-#        Default: 74
-#
-#    MaxRecruitAFriendBonusDistance
-#        Max distance to player for group member to get RaF bonus for XP.
-#        Default: 100
-#
-#    MailDeliveryDelay
-#        Mail delivery delay time for item sending
-#        Default: 3600 sec (1 hour)
-#
-#    SkillChance.Prospecting
-#        For prospecting skillup impossible by default,
-#         but can be allowed as custom setting
-#        Default: 0 - no skilups
-#                 1 - skilups possible
-#
-#    SkillChance.Milling
-#        For milling skillup impossible by default,
-#         but can be allowed as custom setting
-#        Default: 0 - no skilups
-#                 1 - skilups possible
-#
-#    OffhandCheckAtSpellUnlearn
-#        Unlearning certain spells can change offhand weapon restrictions
-#         for equip slots.
-#        Default: 1 - recheck offhand slot weapon at unlearning a spell
-#                 0 - recheck offhand slot weapon only at zone update
-#
-#    ClientCacheVersion
-#        Client cache version for client cache data reset. Use any different
-#         from DB value and not recently used for triggering reset.
-#        Default: 0 (use DB value from world DB db_version.cache_id field)
-#
-#    Event.Announce
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    BeepAtStart
-#        Beep at core start finished (mostly work only at Unix/Linux systems)
-#        Default: 1 (true)
-#                 0 (false)
-#
-#    Motd
-#        Message of the Day. Displayed at worldlogin for every user
-#         Use '@' for a newline, and be sure to escape special characters.
-#        Example: "Welcome to John\'s Server@WinterGrasp is closed."
-#
-#    Server.LoginInfo
-#        Enable/disable sending server info (core version) on login.
-#        Default: 0 - disable
-#                 1 - enable
-#
-#    Command.LookupMaxResults
-#        The maximum number of results a .lookup command can return
-#        Default: 0 - unlimited
-#
-###############################################################################
-
-GameType = 0
-RealmZone = 1
-Expansion = 2
-DBC.Locale = 255
-DeclinedNames = 0
-StrictPlayerNames = 0
-StrictCharterNames = 0
-StrictPetNames = 0
-MaxWhoListReturns = 49
-MinPlayerName = 2
-MinCharterName = 2
-MinPetName = 2
-CharacterCreating.Disabled = 0
-CharacterCreating.Disabled.RaceMask = 0
-CharacterCreating.Disabled.ClassMask = 0
-CharactersPerAccount = 50
-CharactersPerRealm = 10
-HeroicCharactersPerRealm = 1
-CharacterCreating.MinLevelForHeroicCharacter = 55
-SkipCinematics = 0
-MaxPlayerLevel = 80
-MinDualSpecLevel = 40
-StartPlayerLevel = 1
-StartHeroicPlayerLevel = 55
-StartPlayerMoney = 0
-MaxHonorPoints = 75000
-StartHonorPoints = 0
-MaxArenaPoints = 10000
-StartArenaPoints = 0
-RecruitAFriend.MaxLevel = 60
-RecruitAFriend.MaxDifference = 3
-InstantLogout = 1
-DisableWaterBreath = 4
-AllFlightPaths = 0
-InstantFlightPaths = 0
-AlwaysMaxSkillForLevel = 0
-ActivateWeather = 1
-CastUnstuck = 1
-Instance.IgnoreLevel = 0
-Instance.IgnoreRaid = 0
-Instance.ResetTimeHour = 4
-Instance.UnloadDelay = 1800000
-Quests.LowLevelHideDiff = 4
-Quests.HighLevelHideDiff = 7
-Quests.IgnoreRaid = 0
-Guild.EventLogRecordsCount = 100
-Guild.BankEventLogRecordsCount = 25
-MaxPrimaryTradeSkill = 2
-MinPetitionSigns = 9
-MaxGroupXPDistance = 74
-MaxRecruitAFriendBonusDistance = 100
-MailDeliveryDelay = 3600
-SkillChance.Prospecting = 0
-SkillChance.Milling = 0
-OffhandCheckAtSpellUnlearn = 1
-ClientCacheVersion = 0
-Event.Announce = 0
-BeepAtStart = 1
-Motd = "Welcome to a Trinity Core server."
-Server.LoginInfo = 0
-Command.LookupMaxResults = 0
-
-###############################################################################
-# PLAYER INTERACTION
-#
-#    AllowTwoSide.Accounts
-#        Allow or not accounts to create characters in the 2 teams
-#         in any game type.
-#        Default: 1 (Allowed)
-#                 0 (Not allowed)
-#
-#    AllowTwoSide.Interaction.Chat
-#    AllowTwoSide.Interaction.Channel
-#    AllowTwoSide.Interaction.Group
-#    AllowTwoSide.Interaction.Guild
-#    AllowTwoSide.Interaction.Auction
-#    AllowTwoSide.Interaction.Mail
-#        Allow or not common :chat(say,yell)
-#                             channel(chat)
-#                             group(join)
-#                             guild(join)
-#                             merge all auction houses for players from
-#                             different teams
-#                             send mail to other team.
-#        Default: 0 (Not allowed)
-#                 1 (Allowed)
-#
-#    AllowTwoSide.WhoList
-#        Allow or not show player from both team in who list.
-#        Default: 0 (Not allowed)
-#                 1 (Allowed)
-#
-#    AllowTwoSide.AddFriend
-#        Allow or not adding friends from other team in friend list.
-#        Default: 0 (Not allowed)
-#                 1 (Allowed)
-#
-#    AllowTwoSide.Trade
-#        Allow or not trading with other team in party.
-#        Default: 0 (Not allowed)
-#                 1 (Allowed)
-#
-#    TalentsInspecting
-#        Allow other players see character talents in inspect dialog
-#         (Characters in Gamemaster mode can inspect talents always)
-#        Default: 1 (allow)
-#                 0 (not allow)
-#
-###############################################################################
-
-AllowTwoSide.Accounts = 1
-AllowTwoSide.Interaction.Chat = 0
-AllowTwoSide.Interaction.Channel = 0
-AllowTwoSide.Interaction.Group = 0
-AllowTwoSide.Interaction.Guild = 0
-AllowTwoSide.Interaction.Auction = 0
-AllowTwoSide.Interaction.Mail = 0
-AllowTwoSide.WhoList = 0
-AllowTwoSide.AddFriend = 0
-AllowTwoSide.Trade = 0
-TalentsInspecting = 1
-
-###############################################################################
-# CREATURE SETTINGS
-#
-#    ThreatRadius
-#        Radius for creature to evade after being
-#         pulled away from combat start point
-#         If ThreatRadius is less than creature aggro radius
-#         then aggro radius will be used
-#        Default: 60 yards
-#
-#    Rate.Creature.Aggro
-#        Aggro radius percent or off.
-#        Default: 1   - 100%
-#                 1.5 - 150%
-#                 0   - off (0%)
-#
-#    CreatureFamilyFleeAssistanceRadius
-#        Radius which creature will use to seek for a nearby creature
-#         for assistance. Creature will flee to this creature.
-#        Default: 30
-#                 0   - off
-#
-#    CreatureFamilyAssistanceRadius
-#        Radius which creature will use to call assistance without moving
-#        Default: 10
-#                 0   - off
-#
-#    CreatureFamilyAssistanceDelay
-#        Reaction time for creature assistance call
-#        Default: 1500 (1.5s)
-#
-#    CreatureFamilyFleeDelay
-#        Time during which creature can flee when no assistant found
-#        Default: 7000 (7s)
-#
-#    WorldBossLevelDiff
-#        Difference for boss dynamic level with target
-#        Default: 3
-#
-#    Corpse.Decay.NORMAL
-#    Corpse.Decay.RARE
-#    Corpse.Decay.ELITE
-#    Corpse.Decay.RAREELITE
-#    Corpse.Decay.WORLDBOSS
-#        Seconds until creature corpse will decay if not looted or skinned.
-#        Default: 60, 300, 300, 300, 3600
-#
-#    Rate.Corpse.Decay.Looted
-#         Controls how long the creature corpse stays after it had been looted,
-#          as a multiplier of its Corpse.Decay.* config.
-#         Default: 0.5
-#
-#    Rate.Creature.Normal.Damage
-#    Rate.Creature.Elite.Elite.Damage
-#    Rate.Creature.Elite.RAREELITE.Damage
-#    Rate.Creature.Elite.WORLDBOSS.Damage
-#    Rate.Creature.Elite.RARE.Damage
-#        Creature Damage Rates.
-#        Examples: 2 - creatures will damage 2x, 1.7 - 1.7x.
-#
-#    Rate.Creature.Normal.SpellDamage
-#    Rate.Creature.Elite.Elite.SpellDamage
-#    Rate.Creature.Elite.RAREELITE.SpellDamage
-#    Rate.Creature.Elite.WORLDBOSS.SpellDamag
-#    Rate.Creature.Elite.RARE.SpellDamage
-#        Creature Spell Damage Rates.
-#        Examples: 2 - creatures will damage with spells 2x, 1.7 - 1.7x.
-#
-#    Rate.Creature.Normal.HP
-#    Rate.Creature.Elite.Elite.HP
-#    Rate.Creature.Elite.RAREELITE.HP
-#    Rate.Creature.Elite.WORLDBOSS.HP
-#    Rate.Creature.Elite.RARE.HP
-#        Creature Health Ammount Modifier.
-#        Examples: 2 - creatures have 2x health, 1.7 - 1.7x.
-#
-#    ListenRange.Say
-#        Distance from player to listen text that creature
-#         (or other world object) says
-#        Default: 40
-#
-#    ListenRange.TextEmote
-#        Distance from player to listen textemote that creature
-#         (or other world object) says
-#        Default: 40
-#
-#    ListenRange.Yell
-#        Distance from player to listen text that creature
-#         (or other world object) yells
-#        Default: 300
-#
-###############################################################################
-
-ThreatRadius = 60
-Rate.Creature.Aggro = 1
-CreatureFamilyFleeAssistanceRadius = 30
-CreatureFamilyAssistanceRadius = 10
-CreatureFamilyAssistanceDelay = 1500
-CreatureFamilyFleeDelay = 7000
-WorldBossLevelDiff = 3
-Corpse.Decay.NORMAL = 60
-Corpse.Decay.RARE = 300
-Corpse.Decay.ELITE = 300
-Corpse.Decay.RAREELITE = 300
-Corpse.Decay.WORLDBOSS = 3600
-Rate.Corpse.Decay.Looted = 0.5
-Rate.Creature.Normal.Damage = 1
-Rate.Creature.Elite.Elite.Damage = 1
-Rate.Creature.Elite.RAREELITE.Damage = 1
-Rate.Creature.Elite.WORLDBOSS.Damage = 1
-Rate.Creature.Elite.RARE.Damage = 1
-Rate.Creature.Normal.SpellDamage = 1
-Rate.Creature.Elite.Elite.SpellDamage = 1
-Rate.Creature.Elite.RAREELITE.SpellDamage = 1
-Rate.Creature.Elite.WORLDBOSS.SpellDamage = 1
-Rate.Creature.Elite.RARE.SpellDamage = 1
-Rate.Creature.Normal.HP = 1
-Rate.Creature.Elite.Elite.HP = 1
-Rate.Creature.Elite.RAREELITE.HP = 1
-Rate.Creature.Elite.WORLDBOSS.HP = 1
-Rate.Creature.Elite.RARE.HP = 1
-ListenRange.Say = 40
-ListenRange.TextEmote = 40
-ListenRange.Yell = 300
-
-###############################################################################
-# CHAT SETTINGS
-#
-#    ChatFakeMessagePreventing
-#        Chat protection from creating fake messages using a lot spaces
-#         (other invisible symbols),
-#         not applied to addon language messages, but can cause old addons
-#         that use normal languages for sending data to another clients.
-#        Default: 0 (disible fake messages preventing)
-#                 1 (enabled fake messages preventing)
-#
-#    ChatStrictLinkChecking.Severity
-#        Check chat messages for ingame links to
-#         spells, items, quests, achievements etc.
-#        Default: 0 (disable link checking)
-#                 1 (check if only valid pipe commands are used.
-#                    This prevents posting pictures for example)
-#                 2 (verifiy that pipe commands are used in a correct order)
-#                 3 (check if color, entry and name don't contradict
-#                    each other. For correct work, please assure
-#                    that you have extracted locale DBCs of every language
-#                    specific client playing on this server.)
-#
-#    ChatStrictLinkChecking.Kick
-#        Defines what should be done if a message is considered to contain
-#         invalid pipe commands.
-#        Default: 0 (silently ignore message)
-#                 1 (kick players who sent invalid formed messages)
-#
-#    ChatFlood.MessageCount
-#        Chat anti-flood protection, haste message count to activate protection
-#        Default: 10
-#                 0 (disible anti-flood protection)
-#
-#    ChatFlood.MessageDelay
-#        Chat anti-flood protection, minimum message delay to count message
-#        Default: 1 (in secs)
-#
-#    ChatFlood.MuteTime
-#        Chat anti-flood protection, mute time at activation flood protection
-#        Default: 10 (in secs)
-#
-#    Channel.RestrictedLfg
-#        Restrict LookupForGroup channel to registered in LFG tool players
-#        Default: 1 (allow join to channel only if active in LFG)
-#                 0 (allow join to channel in any time)
-#
-#    Channel.SilentlyGMJoin
-#        Silently join GM characters (security level > 1) to channels
-#        Default: 0 (join announcement in normal way)
-#                 1 (GM join without announcement)
-#
-#    ChatLevelReq.Channel
-#        The required level of character to be able to write in chat channels
-#        Default: 1 (From level 1)
-#
-#    ChatLevelReq.Whisper
-#        The required level of character to be able to whisper
-#        Default: 1 (From level 1)
-#
-#    ChatLevelReq.Say
-#        The required level of character to be able to say/yell/emote
-#        Default: 1 (From level 1)
-#
-#    AllowPlayerCommands
-#        Allowed the players to use commands
-#        Default: 1 (allow)
-#
-###############################################################################
-
-ChatFakeMessagePreventing = 0
-ChatStrictLinkChecking.Severity = 0
-ChatStrictLinkChecking.Kick = 0
-ChatFlood.MessageCount = 10
-ChatFlood.MessageDelay = 1
-ChatFlood.MuteTime = 10
-Channel.RestrictedLfg = 1
-Channel.SilentlyGMJoin = 0
-ChatLevelReq.Channel = 1
-ChatLevelReq.Whisper = 1
-ChatLevelReq.Say = 1
-AllowPlayerCommands = 1
-
-###############################################################################
-# GAME MASTER SETTINGS
-#
-#    GM.LoginState
-#        GM mode at login
-#        Default: 2 (last save state)
-#                 0 (disable)
-#                 1 (enable)
-#
-#    GM.Visible
-#        GM visibility at login
-#        Default: 2 (last save state)
-#                 0 (invisible)
-#                 1 (visible)
-#
-#    GM.AcceptTickets
-#        Is GM accepting tickets from player by default or not.
-#        Default: 2 (last save state)
-#                 0 (disable)
-#                 1 (enable)
-#
-#    GM.Chat
-#        GM chat mode at login
-#        Default: 2 (last save state)
-#                 0 (disable)
-#                 1 (enable)
-#
-#    GM.WhisperingTo
-#        Is GM accepting whispers from player by default or not.
-#        Default: 2 (last save state)
-#                 0 (disable)
-#                 1 (enable)
-#
-#    GM.InGMList.Level
-#        Max GM level showed in GM list (if visible) in non-GM state (.gm off)
-#                 0 (only players)
-#                 1 (only moderators)
-#                 2 (only gamemasters)
-#        Default: 3 (anyone)
-#
-#    GM.InWhoList.Level
-#        Max GM level showed in who list (if visible).
-#                 0 (only players)
-#                 1 (only moderators)
-#                 2 (only gamemasters)
-#        Default: 3 (anyone)
-#
-#    GM.LogTrade
-#        Include GM trade and trade slot enchanting operations in GM log
-#        Default: 1 (include)
-#                 0 (not include)
-#
-#    GM.StartLevel
-#        GM starting level (1-100)
-#        Default: 1
-#
-#    GM.AllowInvite
-#        Is GM accepting invites from players by default or not
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    GM.AllowFriend
-#        Are players allowed to add GMs to their friend list
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    GM.LowerSecurity
-#        Disallow a lower security member to interact with
-#         a higher one using commands
-#        Default: 0 (disable)
-#                 1 (enable)
-#
-#    GM.AllowAchievementGain
-#        If enabled it allows gaining achievements for GM characters
-#        Default: 1 (enable)
-#                 0 (disable)
-#
-#    GM.TicketSystem.ChanceOfGMSurvey
-#        Chance of sending a GM survey with every ticket completion.
-#        Default: 50
-#                 0 (disables surveys)
-#
-###############################################################################
-
-GM.LoginState            = 2
-GM.Visible               = 2
-GM.AcceptTickets         = 2
-GM.Chat                  = 2
-GM.WhisperingTo          = 2
-GM.InGMList.Level        = 3
-GM.InWhoList.Level       = 3
-GM.LogTrade              = 1
-GM.StartLevel            = 80
-GM.AllowInvite           = 0
-GM.AllowFriend           = 0
-GM.LowerSecurity         = 0
-GM.AllowAchievementGain  = 1
-GM.TicketSystem.ChanceOfGMSurvey = 50
-
-###############################################################################
-# VISIBILITY AND RADIUSES
-#
-#    Visibility.GroupMode
-#        Group visibility modes
-#        Default: 1 (raid members 100% auto detect invisible player from
-#                    same raid)
-#                 0 (only members from same group can
-#                    100% auto detect invisible player)
-#                 2 (players from same team can 100% auto detect
-#                    invisible player)
-#
-#    Visibility.Distance.Continents
-#    Visibility.Distance.Instances
-#    Visibility.Distance.BGArenas
-#        Visibility distance for different ingame object in different maps.
-#        Visibility on continents on offy ~90 yards. In BG/Arenas ~180.
-#        For instances default ~120.
-#        Max limited by active player zone: ~ 333
-#        Min limit is max aggro radius (45) * Rate.Creature.Aggro
-#
-#    Visibility.Distance.Object
-#        Visible distance for gameobject, dynobject, bodies, corpses, bones
-#        Min limit is iteraction distance (5)
-#
-#    Visibility.Distance.InFlight
-#        Visible distance for player in flight
-#        Min limit is 0 (not show any objects)
-#
-#    Visibility.Distance.Grey.Unit
-#        Visibility grey distance for creatures/players (fast changing objects)
-#         addition to appropriate object type Visibility.Distance.* use in case
-#         visibility removing to object (except corpse around distances)
-#         If D is distance and G is grey distance then object
-#         make visible if distance to it <= D
-#         but make non visible if distance > D+G
-#        Default: 1 (yard)
-#
-#    Visibility.Distance.Grey.Object
-#        Visibility grey distance for dynobjects/gameobjects/corpses/creatures
-#        Default: 10 (yards)
-#
-###############################################################################
-
-Visibility.GroupMode = 1
-Visibility.Distance.Continents = 90
-Visibility.Distance.Instances = 120
-Visibility.Distance.BGArenas = 180
-Visibility.Distance.Object = 100
-Visibility.Distance.InFlight = 100
-Visibility.Distance.Grey.Unit   = 1
-Visibility.Distance.Grey.Object = 10
-
-Visibility.Notify.Period.OnContinents = 1000
-Visibility.Notify.Period.InInstances  = 1000
-Visibility.Notify.Period.InBGArenas   = 1000
-
-###############################################################################
-# SERVER RATES
-#
-#    Rate.Health
-#    Rate.Mana
-#    Rate.Rage.Income
-#    Rate.Rage.Loss
-#    Rate.RunicPower.Income
-#    Rate.RunicPower.Loss
-#    Rate.Focus
-#    Rate.Energy
-#    Rate.Loyalty
-#        Health and power regeneration and rage income from damage.
-#        Default: 1
-#
-#    Rate.Skill.Discovery
-#        Skill Discovery Rates
-#        Default: 1
-#
-#    Rate.Drop.Item.Poor
-#    Rate.Drop.Item.Normal
-#    Rate.Drop.Item.Uncommon
-#    Rate.Drop.Item.Rare
-#    Rate.Drop.Item.Epic
-#    Rate.Drop.Item.Legendary
-#    Rate.Drop.Item.Artifact
-#    Rate.Drop.Item.Referenced
-#    Rate.Drop.Money
-#        Drop rates (items by quality and money)
-#        Default: 1
-#
-#    Rate.Drop.Item.ReferencedAmount
-#        Multiplier for referenced loot
-#        Default: 1
-#
-#    Rate.Drop.Money
-#        Drop rates
-#        Default: 1
-#
-#    Rate.XP.Kill
-#    Rate.XP.Quest
-#    Rate.XP.Explore
-#        XP rates
-#        Default: 1
-#
-#    Rate.RepairCost
-#        Repair cost rate
-#        Default: 1   - standard cost
-#                 2   - double cost
-#                 0.5 - half cost
-#
-#    Rate.Rest.InGame
-#    Rate.Rest.Offline.InTavernOrCity
-#    Rate.Rest.Offline.InWilderness
-#        Resting points grow rates
-#        Default: 1   - standard rate
-#                 2   - double rate
-#                 0.5 - half rate
-#
-#    Rate.Damage.Fall
-#        Damage after fall rate.
-#        Default: 1   - standard damage
-#                 2   - double damage
-#                 0.5 - half damage
-#
-#    Rate.Auction.Time
-#    Rate.Auction.Deposit
-#    Rate.Auction.Cut
-#        Auction rates
-#         (auction time, deposit get at auction start,
-#         auction cut from price at auction end)
-#
-#    Rate.Honor
-#        Honor gain rate
-#
-#    Rate.Mining.Amount
-#    Rate.Mining.Next
-#        Mining Rates
-#         Mining.Amount changes minimum/maximum use times of a deposit,
-#         Mining.Next changes chance to have next use of a deposit
-#
-#    Rate.Talent
-#        Talent Point rates
-#        Default: 1
-#
-#    Rate.Reputation.Gain
-#        Reputation Gain rate
-#        Default: 1
-#
-#    Rate.Reputation.LowLevel.Kill
-#        Reputation Gain from low level kill (grey creature)
-#        Default: 1
-#
-#    Rate.Reputation.LowLevel.Quest
-#        Reputation Gain rate
-#        Default: 1
-#
-#    Rate.XP.Kill.Premium
-#    Rate.XP.Quest.Premium
-#    Rate.XP.Explore.Premium
-#        XP rates Premium modifier
-#        Default: 1
-#
-#    Rate.Reputation.RecruitAFriendBonus
-#        Reputation bonus amount for recruit-a-friend. 0.1 = 10% bonus.
-#        Default: 0.1 (blizzlike)
-#
-#    Rate.MoveSpeed
-#        Multiply the default movement speed for players
-#         and whatever they're controlling.
-#        Default: 1   - no change
-#                 1.4 - 40% increase
-#
-#    Rate.InstanceResetTime
-#        Multiplier for the number of days in between
-#         global raid/heroic instance resets.
-#        Default: 1
-#
-#    SkillGain.Crafting
-#    SkillGain.Defense
-#    SkillGain.Gathering
-#    SkillGain.Weapon
-#        Crafting/defense/gathering/weapon skills gain at skill grow (1,2,...)
-#        Default: 1
-#
-#    SkillChance.Orange
-#    SkillChance.Yellow
-#    SkillChance.Green
-#    SkillChance.Grey
-#        Skill chance values (0..100)
-#        Default: 100-75-25-0
-#
-#    SkillChance.MiningSteps
-#    SkillChance.SkinningSteps
-#        For skinning and Mining chance decrease with skill level.
-#        Default: 0  - no decrease
-#                 75 - in 2 times each 75 skill points
-#
-#    DurabilityLoss.InPvP
-#        If true, players take durability loss on death in PvP.
-#        Default: 0 (false)
-#                 1 (true)
-#
-#    DurabilityLoss.OnDeath
-#        Durability loss percentage on death
-#        Default: 10 - standard
-#                 20 - double
-#                 5  - half
-#
-#    DurabilityLossChance.Damage
-#        Chance lost one from equiped items durability
-#         point at damage apply or receive.
-#        Default: 0.5 (100/0.5 = 200)
-#         Each 200 damage apply one from 19 possible equipped items
-#
-#    DurabilityLossChance.Absorb
-#         Chance lost one from armor items durability point at damage absorb.
-#         Default: 0.5 (100/0.5 = 200)
-#          Each 200 absorbs apply one from 15 possible armor equipped items
-#
-#    DurabilityLossChance.Parry
-#         Chance lost weapon durability point at parry.
-#         Default: 0.05 (100/0.05 = 2000)
-#          Each 2000 parry attacks main weapon lost point
-#
-#    DurabilityLossChance.Block
-#         Chance lost sheild durability point at damage block.
-#         Default: 0.05 (100/0.05 = 2000)
-#          Each 2000 partly or full blocked attacks shield lost point
-#
-#    Death.SicknessLevel
-#         Starting Character start gain sickness at spirit resurrection (1 min)
-#         Default: 11
-#                  -10 - character will have full time
-#                    (10min) sickness at 1 level
-#                  maxplayerlevel+1
-#                   - character will not have sickess at any level
-#
-#    Death.CorpseReclaimDelay.PvP
-#    Death.CorpseReclaimDelay.PvE
-#         Enabled/disabled increase corpse reclaim delay at PvP/PvE deaths
-#         Default: 1 (enabled)
-#                  0 (disabled)
-#
-#    Death.Bones.World
-#    Death.Bones.BattlegroundOrArena
-#         Enable/disable creating bones instead corpse at resurrection
-#          (in normal zones/instances, or battleground/arenas)
-#         Default: 1 (enabled)
-#                  0 (disabled)
-#
-#    Die.Command.Mode
-#        Switch between two possible .die modes, where mode 1 kills
-#         and does not trigger anything such as loot, and mode 0 does
-#         damage and does trigger things such as loot
-#        Default: 1
-#                  0
-#
-###############################################################################
-
-Rate.Health = 1
-Rate.Mana = 1
-Rate.Rage.Income = 1
-Rate.Rage.Loss = 1
-Rate.RunicPower.Income = 1
-Rate.RunicPower.Loss = 1
-Rate.Focus = 1
-Rate.Energy = 1
-Rate.Loyalty = 1
-Rate.Skill.Discovery = 1
-Rate.Drop.Item.Poor = 1
-Rate.Drop.Item.Normal = 1
-Rate.Drop.Item.Uncommon = 1
-Rate.Drop.Item.Rare = 1
-Rate.Drop.Item.Epic = 1
-Rate.Drop.Item.Legendary = 1
-Rate.Drop.Item.Artifact = 1
-Rate.Drop.Item.Referenced = 1
-Rate.Drop.Item.ReferencedAmount = 1
-Rate.Drop.Money = 1
-Rate.XP.Kill    = 1
-Rate.XP.Quest   = 1
-Rate.XP.Explore = 1
-Rate.XP.Kill.Premium    = 1
-Rate.XP.Quest.Premium   = 1
-Rate.XP.Explore.Premium = 1
-Rate.RepairCost = 1
-Rate.Rest.InGame = 1
-Rate.Rest.Offline.InTavernOrCity = 1
-Rate.Rest.Offline.InWilderness = 1
-Rate.Damage.Fall = 1
-Rate.Auction.Time = 1
-Rate.Auction.Deposit = 1
-Rate.Auction.Cut = 1
-Rate.Honor = 1
-Rate.Mining.Amount = 1
-Rate.Mining.Next   = 1
-Rate.Talent = 1
-Rate.Reputation.Gain = 1
-Rate.Reputation.LowLevel.Kill    = 1
-Rate.Reputation.LowLevel.Quest   = 1
-Rate.Reputation.RecruitAFriendBonus = 0.1
-Rate.MoveSpeed = 1
-Rate.InstanceResetTime = 1
-SkillGain.Crafting = 1
-SkillGain.Defense = 1
-SkillGain.Gathering = 1
-SkillGain.Weapon = 1
-SkillChance.Orange = 100
-SkillChance.Yellow = 75
-SkillChance.Green  = 25
-SkillChance.Grey   = 0
-SkillChance.MiningSteps   = 0
-SkillChance.SkinningSteps = 0
-DurabilityLoss.InPvP = 0
-DurabilityLoss.OnDeath = 10
-DurabilityLossChance.Damage = 0.5
-DurabilityLossChance.Absorb = 0.5
-DurabilityLossChance.Parry  = 0.05
-DurabilityLossChance.Block  = 0.05
-Death.SicknessLevel = 11
-Death.CorpseReclaimDelay.PvP = 1
-Death.CorpseReclaimDelay.PvE = 0
-Death.Bones.World = 1
-Death.Bones.BattlegroundOrArena = 1
-Die.Command.Mode = 1
-
-###############################################################################
-# AUTO BROADCAST
-#
-#    AutoBroadcast.On
-#        Enable auto broadcast
-#        Default: 0 - off
-#                 1 - on
-#
-#    AutoBroadcast.Center
-#        Display method
-#        Default: 0 - announce
-#                 1 - notify
-#                 2 - both
-#
-#    AutoBroadcast.Timer
-#        Timer for auto broadcast (in milliseconds)
-#
-###############################################################################
-
-AutoBroadcast.On = 0
-AutoBroadcast.Center = 0
-AutoBroadcast.Timer = 60000
-
-###############################################################################
-# BATTLEGROUND CONFIG
-#
-#    Battleground.CastDeserter
-#        Cast Deserter spell at player who leave battleground in progress
-#        Default: 1 (enable)
-#                 0 (disable)
-#
-#    Battleground.QueueAnnouncer.Enable
-#        Enable queue announcer posting to chat
-#        Default: 0 (disable)
-#                 1 (enable)
-#
-#    Battleground.QueueAnnouncer.PlayerOnly
-#        Queue announcer type
-#        Default: 0 (system message - all players can see it)
-#                 1 (private - only the queued player can see it)
-#
-#    Battleground.InvitationType
-#        Set Battleground invitation type
-#        Default: 0 (normal - invite as much players to bg as possible,
-#                    don't bother with ballance)
-#                 1 (Experimental - don't allow to invite much more players
-#                    of one faction)
-#
-#    Battleground.PrematureFinishTimer
-#        The time to end the bg if there are less than MinPlayersPerTeam on
-#         one side (in milliseconds)
-#        Default: 300000 (5 minutes)
-#                 0 - disable (not recommended)
-#
-#    BattleGround.PremadeGroupWaitForMatch
-#        The time in which premade group of 1 faction waits in BG Queue
-#         for premade group of other faction
-#        Default: 1800000 (30 minutes)
-#                 0 - disable (not recommended)
-#
-#    Battleground.GiveXPForKills
-#        Give experience for honorable kills in battlegrounds
-#        Default: 0 (disable)
-#                 1 (enable)
-#
-#    Battleground.Random.ResetHour
-#        Reset random battlegrounds at specified hour of the day (0-23)
-#        Default: 6
-#
-###############################################################################
-
-Battleground.CastDeserter = 1
-Battleground.QueueAnnouncer.Enable = 0
-Battleground.QueueAnnouncer.PlayerOnly = 0
-Battleground.InvitationType = 0
-BattleGround.PrematureFinishTimer = 300000
-BattleGround.PremadeGroupWaitForMatch = 1800000
-Battleground.GiveXPForKills = 0
-Battleground.Random.ResetHour = 6
-
-###############################################################################
-# ARENA CONFIG
-#
-#    Arena.MaxRatingDifference
-#        The maximum rating difference between two groups in rated matches
-#        Default: 150 (enable, recommended)
-#                 0 (disable, rating difference is discarded)
-#
-#    Arena.RatingDiscardTimer
-#        After the specified milliseconds has passed,
-#         rating information will be discarded when selecting teams for
-#         matches also initiates an update by this timer
-#        Default: 600000 (10 minutes, recommended)
-#                 0 (disable)
-#
-#    Arena.AutoDistributePoints
-#        Set if arena points should be distributed automatically,
-#         or by GM command
-#        Default: 0 (disable) (recommended):
-#                    use gm command or sql query to distribute the points
-#                 1 (enable)  arena points are distributed automatically
-#
-#    Arena.AutoDistributeInterval
-#        How often should the distribution take place
-#        If automatic distribution is enabled in days
-#        Default: 7 (weekly)
-#
-#    Arena.QueueAnnouncer.Enable
-#        Enable bg queue announcer posting to chat
-#        Default: 0 (disable)
-#                 1 (enable)
-#
-#    Arena.ArenaSeason.ID
-#        Current area season id show in client
-#        Default: 1
-#
-#    Arena.ArenaSeason.InProgress
-#        Current area season state
-#        Default: 1 (active)
-#                 0 (finished)
-#
-#    Arena.ArenaStartRating
-#     Start arena team command rating
-#     Default: 0
-#
-#    Arena.ArenaStartPersonalRating
-#     Start personal rating on entry in team
-#     Default: 0
-#
-#    Arena.ArenaStartMatchmakerRating
-#     Start matchmaker rating for players
-#     Default: 1500
-#
-###############################################################################
-
-Arena.MaxRatingDifference = 150
-Arena.RatingDiscardTimer = 600000
-Arena.AutoDistributePoints = 0
-Arena.AutoDistributeInterval = 7
-Arena.QueueAnnouncer.Enable = 0
-Arena.QueueAnnouncer.PlayerOnly = 0
-Arena.ArenaSeason.ID = 1
-Arena.ArenaSeason.InProgress = 1
-Arena.ArenaStartRating = 0
-Arena.ArenaStartPersonalRating = 0
-Arena.ArenaStartMatchmakerRating = 1500
-
-###############################################################################
-# NETWORK CONFIG
-#
-#    Network.Threads
-#         Number of threads for network,
-#          recommend 1 thread per 1000 connections.
-#         Default: 1
-#
-#    Network.OutKBuff
-#         The size of the output kernel buffer used
-#          ( SO_SNDBUF socket option, tcp manual ).
-#         Default: -1 (Use system default setting)
-#
-#    Network.OutUBuff
-#         Userspace buffer for output.
-#          This is amount of memory reserved per each connection.
-#         Default: 65536
-#
-#    Network.TcpNoDelay:
-#         TCP Nagle algorithm setting
-#         Default: 0 (enable Nagle algorithm, less traffic, more latency)
-#                  1 (TCP_NO_DELAY, disable Nagle algorithm,
-#                     more traffic but less latency)
-#
-###############################################################################
-
-Network.Threads = 1
-Network.OutKBuff = -1
-Network.OutUBuff = 65536
-Network.TcpNodelay = 1
-
-###############################################################################
-# AUCTION HOUSE BOT SETTINGS
-#
-#    AuctionHouseBot.DEBUG
-#        Enable/Disable Debugging output
-#    Default 0 (disabled)
-#
-#    AuctionHouseBot.DEBUG_FILTERS
-#        Enable/Disable Debugging output from Filters
-#    Default 0 (disabled)
-#
-#    AuctionHouseBot.EnableSeller
-#        Enable/Disable the part of AHBot that puts items up for auction
-#    Default 0 (disabled)
-#
-#    AuctionHouseBot.EnableBuyer
-#        Enable/Disable the part of AHBot that buys items from players
-#    Default 0 (disabled)
-#
-#    AuctionHouseBot.UseBuyPriceForSeller
-#        Should the Seller use BuyPrice or SellPrice to determine Bid Prices
-#    Default 0 (use SellPrice)
-#
-#    AuctionHouseBot.UseBuyPriceForBuyer
-#        Should the Buyer use BuyPrice or SellPrice to determine Bid Prices
-#    Default 0 (use SellPrice)
-#
-#    Auction House Bot character data
-#        AuctionHouseBot.Account is the account number
-#         (in realmd->account table) of the player you want to run
-#         as the auction bot.
-#        AuctionHouseBot.GUID is the GUID (in characters->characters table)
-#         of the player you want to run as the auction bot.
-#    Default: 0 (Auction House Bot disabled)
-#
-#    AuctionHouseBot.ItemsPerCycle
-#        Number of Items to Add/Remove from the AH during mass operations
-#    Default 200
-#
-###############################################################################
-
-AuctionHouseBot.DEBUG = 0
-AuctionHouseBot.DEBUG_FILTERS = 0
-AuctionHouseBot.EnableSeller = 0
-AuctionHouseBot.EnableBuyer = 0
-AuctionHouseBot.UseBuyPriceForSeller = 0
-AuctionHouseBot.UseBuyPriceForBuyer = 0
-AuctionHouseBot.Account = 0
-AuctionHouseBot.GUID = 0
-AuctionHouseBot.ItemsPerCycle = 200
-
-###############################################################################
-# AUCTION HOUSE BOT FILTERS PART 1
-#
-#    AuctionHouseBot.VendorItems
-#        Include items that can be bought from vendors.
-#    Default 0 (False)
-#
-#    AuctionHouseBot.VendorTradeGoods
-#        Include Trade Goods that can be bought from vendors.
-#    Default 0 (False)
-#
-#    AuctionHouseBot.LootItems
-#        Include items that can be looted or fished for.
-#    Default 1 (True)
-#
-#    AuctionHouseBot.LootTradeGoods
-#        Include Trade Goods that can be looted or fished for.
-#    Default 1 (True)
-#
-#    AuctionHouseBot.OtherItems
-#        Include misc. items.
-#    Default 0 (False)
-#
-#    AuctionHouseBot.OtherTradeGoods
-#        Include misc. Trade Goods.
-#    Default 0 (False)
-#
-#    AuctionHouseBot.Bonding_types
-#        Indicates which bonding types to allow seller to put up for auction
-#            No_Bind
-#             Default 1 (True)
-#            Bind_When_Picked_Up
-#             Default 0 (False)
-#            Bind_When_Equipped
-#             Default 1 (True)
-#            Bind_When_Use
-#             Default 1 (True)
-#            Bind_Quest_Item
-#             Default 0 (False)
-#
-#    AuctionHouseBot.DisableBeta_PTR_Unused
-#        Disable certain items that are usually unavailable to Players
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisablePermEnchant
-#        Disable Items with a Permanent Enchantment
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableConjured
-#        Disable Conjured Items
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableGems
-#        Disable Gems
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableMoney
-#        Disable Items that are used as money
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableMoneyLoot
-#        Disable Items that have Money as a loot
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableLootable
-#        Disable Items that have other items as loot
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableKeys
-#        Disable Items that are keys
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableDuration
-#        Disable Items with a duration
-#    Default 0 (False)
-#
-#    AuctionHouseBot.DisableBOP_Or_Quest_NoReqLevel
-#        Disable items that are BOP or Quest Item
-#        with a Required level that is less than the Item Level
-#        (This prevents a level 10 with a level 60 weapon or armor)
-#        (May need further refinement)
-#    Default 0 (False)
-#
-###############################################################################
-
-AuctionHouseBot.VendorItems = 0
-AuctionHouseBot.VendorTradeGoods = 0
-AuctionHouseBot.LootItems = 1
-AuctionHouseBot.LootTradeGoods = 1
-AuctionHouseBot.OtherItems = 0
-AuctionHouseBot.OtherTradeGoods = 0
-AuctionHouseBot.No_Bind = 1
-AuctionHouseBot.Bind_When_Picked_Up = 0
-AuctionHouseBot.Bind_When_Equipped = 1
-AuctionHouseBot.Bind_When_Use = 1
-AuctionHouseBot.Bind_Quest_Item = 0
-AuctionHouseBot.DisableBeta_PTR_Unused = 0
-AuctionHouseBot.DisablePermEnchant = 0
-AuctionHouseBot.DisableConjured = 0
-AuctionHouseBot.DisableGems = 0
-AuctionHouseBot.DisableMoney = 0
-AuctionHouseBot.DisableMoneyLoot = 0
-AuctionHouseBot.DisableLootable = 0
-AuctionHouseBot.DisableKeys = 0
-AuctionHouseBot.DisableDuration = 0
-AuctionHouseBot.DisableBOP_Or_Quest_NoReqLevel = 0
-
-###############################################################################
-# AUCTION HOUSE BOT FILTERS PART 2
-#
-#     These Filters are boolean (0 or 1) and will disable items that are
-#     specifically meant for the Class named.
-#     (UnusedClass is Class 10, which was skipped for some reason)
-#     Default 0 (allowed)
-#
-###############################################################################
-
-AuctionHouseBot.DisableWarriorItems = 0
-AuctionHouseBot.DisablePaladinItems = 0
-AuctionHouseBot.DisableHunterItems = 0
-AuctionHouseBot.DisableRogueItems = 0
-AuctionHouseBot.DisablePriestItems = 0
-AuctionHouseBot.DisableDKItems = 0
-AuctionHouseBot.DisableShamanItems = 0
-AuctionHouseBot.DisableMageItems = 0
-AuctionHouseBot.DisableWarlockItems = 0
-AuctionHouseBot.DisableUnusedClassItems = 0
-AuctionHouseBot.DisableDruidItems = 0
-
-###############################################################################
-# AUCTION HOUSE BOT FILTERS PART 3
-#
-#    AuctionHouseBot.DisableItemsBelowLevel
-#        Prevent Seller from listing Items below this Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsAboveLevel
-#        Prevent Seller from listing Items above this Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsBelowLevel
-#        Prevent Seller from listing Trade Goods below this Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsAboveLevel
-#        Prevent Seller from listing Trade Goods above this Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsBelowGUID
-#        Prevent Seller from listing Items below this GUID
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsAboveGUID
-#        Prevent Seller from listing Items above this GUID
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsBelowGUID
-#        Prevent Seller from listing Trade Goods below this GUID
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsAboveGUID
-#        Prevent Seller from listing Trade Goods above this GUID
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsBelowReqLevel
-#        Prevent Seller from listing Items below this Required Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsAboveReqLevel
-#        Prevent Seller from listing Items above this Required Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsBelowReqLevel
-#        Prevent Seller from listing Trade Goods below this Required Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsAboveReqLevel
-#        Prevent Seller from listing Trade Goods above this Required Level
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsBelowReqSkillRank
-#        Prevent Seller from listing Items below this Required Skill Rank
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableItemsAboveReqSkillRank
-#        Prevent Seller from listing Items above this Required Skill Rank
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsBelowReqSkillRank
-#        Prevent Seller from listing Trade Goods below this Required Skill Rank
-#    Default 0 (Off)
-#
-#    AuctionHouseBot.DisableTGsAboveReqSkillRank
-#        Prevent Seller from listing Trade Goods above this Required Skill Rank
-#    Default 0 (Off)
-#
-###############################################################################
-
-AuctionHouseBot.DisableItemsBelowLevel = 0
-AuctionHouseBot.DisableItemsAboveLevel = 0
-AuctionHouseBot.DisableTGsBelowLevel = 0
-AuctionHouseBot.DisableTGsAboveLevel = 0
-AuctionHouseBot.DisableItemsBelowGUID = 0
-AuctionHouseBot.DisableItemsAboveGUID = 0
-AuctionHouseBot.DisableTGsBelowGUID = 0
-AuctionHouseBot.DisableTGsAboveGUID = 0
-AuctionHouseBot.DisableItemsBelowReqLevel = 0
-AuctionHouseBot.DisableItemsAboveReqLevel = 0
-AuctionHouseBot.DisableTGsBelowReqLevel = 0
-AuctionHouseBot.DisableTGsAboveReqLevel = 0
-AuctionHouseBot.DisableItemsBelowReqSkillRank = 0
-AuctionHouseBot.DisableItemsAboveReqSkillRank = 0
-AuctionHouseBot.DisableTGsBelowReqSkillRank = 0
-AuctionHouseBot.DisableTGsAboveReqSkillRank = 0
-
-###############################################################################
-# CONSOLE AND REMOTE ACCESS
-#
-#    Console.Enable
-#        Enable console
-#        Default: 1 - on
-#                 0 - off
-#
-#    Ra.Enable
-#        Enable remote console
-#        Default: 0 - off
-#                 1 - on
-#
-#    Ra.IP
-#        Default remote console ip address, use 0.0.0.0 for every address
-#
-#    Ra.Port
-#        Default remote console port
-#
-#    Ra.MinLevel
-#        Minimum level that's required to login,3 by default
-#
-#    Ra.Secure
-#        Kick client on wrong pass
-#
-#    SOAP.Enable
-#        Enable soap service
-#        Default: 0 - off
-#                 1 - on
-#
-#    SOAP.IP
-#        Bound SOAP service ip address, use 0.0.0.0 to access from everywhere
-#        Default: 127.0.0.1
-#
-#    SOAP.Port
-#        SOAP port
-#        Default: 7878
-#
-###################################################################################################################
-
-Console.Enable = 1
-Ra.Enable = 0
-Ra.IP = 0.0.0.0
-Ra.Port = 3443
-Ra.MinLevel = 3
-Ra.Secure = 1
-SOAP.Enabled = 0
-SOAP.IP = 127.0.0.1
-SOAP.Port = 7878
-
-###################################################################################################################
-#    CharDelete.Method
-#        Character deletion behavior
-#        Default: 0  - Completely remove the character from the database
-#                 1  - Unlinking, the character gets unlinked from the account,
-#                      the name gets freed up and appears as deleted ingame
-#
-#    CharDelete.MinLevel
-#        Character gets deleted by CharDelete.Method=0 when the character
-#        hasn't the specified level yet.
-#        Default: 0  - For all characters the specified mode will be used
-#                 1+ - Only for players which have reached the specified level
-#                      will be deleted by the specified mode.
-#                      the rest will be deleted by CharDelete.Method=0
-#
-#    CharDelete.KeepDays
-#        Define the amount of days for which the characters are kept in the database before
-#        they will be removed
-#        Default: 30
-#                 0  - Don't delete any characters, they stay in the database forever.
-#
-###################################################################################################################
-
-CharDelete.Method = 0
-CharDelete.MinLevel = 0
-CharDelete.KeepDays = 30
-
-###############################################################################
-# MOVEMENT ANTICHEAT
-#
-#    Anticheat.Movement.Enable
-#        Enable Movement Anticheat
-#        Default: 0 - off
-#                 1 - on
-#
-#    Anticheat.Movement.AlarmCount
-#        Count alarms. After AlarmCount is exceeded, actions are taken against
-#        the player. (default 5)
-#
-#    Anticheat.Movement.AlarmTime
-#        Reset alarm-count after this milliseconds. (default 5000)
-#
-#    Anticheat.Movement.Kill
-#        Enable Kill cheater
-#        Default: 0 - off
-#                 1 - on
-#
-#    Anticheat.Movement.Kick
-#        Enable Kick cheater
-#        Default: 0 - off
-#                 1 - on
-#
-#    Anticheat.Movement.BanType
-#        Enable Ban cheater
-#        Default: 0 - off
-#                 1 - Ban Account
-#                 2 - Ban IP
-#                 3 - Ban Account + IP
-#
-#    Anticheat.Movement.BanTime
-#        How long the ban should last.
-#        Default: 1 Minute - 1m
-#
-#    Anticheat.Movement.MaxXYT
-#        Max units a player is allowed to travel per millisecond.
-#        Default: 0.04 (This is ~400% Speed, 0.007 is walk-speed,
-#                 310% is 0.0287)
-#
-#    Anticheat.Movement.IgnoreSecAfterTeleport
-#        After being teleported this number of seconds no cheat is reported.
-#        Default: 10 seconds - 10
-#
-#    Anticheat.Movement.GmLevel
-#        Only accounts that are below this gm-level or exact at the same,
-#        are reported for cheating.
-#        Default: Only normal Players - 0
-#
-###############################################################################
-
-Anticheat.Movement.Enable = 1
-Anticheat.Movement.AlarmCount = 4
-Anticheat.Movement.AlarmTime = 6000
-Anticheat.Movement.Kill = 0
-Anticheat.Movement.Kick = 0
-Anticheat.Movement.BanType = 0
-Anticheat.Movement.BanTime = "1m"
-Anticheat.Movement.MaxXYT = 0.0330
-Anticheat.Movement.IgnoreSecAfterTeleport = 10
-Anticheat.Movement.GmLevel = 1
-
-###############################################################################
-# CUSTOM SERVER OPTIONS
-#
-#    PlayerStart.AllReputation
-#        Players will start with most of the high level reputations that are
-#         needed for items, mounts etc.
-#
-#    PlayerStart.AllSpells
-#        If enabled, players will start with all their class spells
-#         (not talents). Useful for instant 80 servers.
-#        You must populate playercreateinfo_spell_custom table with the spells
-#         you want, or this WILL NOT WORK! The table has data for all
-#         classes / races up to TBC expansion.
-#         Do not enable if you do not know what you are doing!
-#        Default: 0 - off
-#                 1 - on
-#
-#    PlayerStart.MapsExplored
-#        Players will start with all maps explored if enabled
-#
-#    MusicInBattleground
-#        If enabled "L70ETC-Power of the horde" will be played when BG starts
-#
-#    HonorPointsAfterDuel
-#        The amount of honor points the duel winner will get after a duel.
-#        Default: 0 - disable
-#
-#    AlwaysMaxWeaponSkill
-#        Players will automatically gain max weapon/defense skill when
-#         logging in, leveling up etc.
-#
-#    PvPToken.Enable
-#        Enable/disable PvP Token System. Players will get a token
-#         after slaying another player that gives honor.
-#
-#    PvPToken.MapAllowType
-#        Where players can receive the pvp token
-#        4 - In all maps
-#        3 - In battlegrounds only
-#        2 - In FFA areas only (gurubashi arena etc)
-#        1 - In battlegrounds AND FFA areas only
-#
-#    PvPToken.ItemID
-#        The item players will get after killing someone
-#         if PvP Token system is enabled.
-#        Default: 29434 - Badge of justice
-#
-#    PvPToken.ItemCount
-#        Modify the item ID count - Default: 1
-#
-#    NoResetTalentsCost
-#        Enable or disable no cost when reseting talents
-#
-#   Guild.AllowMultipleGuildMaster
-#       Allow override of 1 Guild Master limit. Additional Guild Masters must
-#       be set using the ".guild rank" command, not through the UI
-#       Default: 0 = Only 1 Guild Master per guild
-#                1 = Allow more than one Guild Master
-#
-#   ShowKickInWorld
-#        Determines wether a message is broadcasted to the entire server
-#         when a player gets kicked
-#        Default: 0 = Disable
-#                 1 = Enable
-#
-#   RecordUpdateTimeDiffInterval
-#        Record update time diff to the log file
-#         update diff can be used as a criterion of performance
-#         diff < 300: good performance
-#         diff > 600: bad performance, may be caused by high cpu usage
-#        Default: 60000 (diff is written into log every 60000 ms or 1 minute.
-#                 >0 = Interval
-#                 0 = Disable
-#
-#   MinRecordUpdateTimeDiff
-#        Only record update time diff which is greater than this value
-#        Default: 10
-#
-#   PlayerStart.String
-#       If set to anything other than "", this string will be displayed
-#        to players when they login to a newly created character.
-#       Default: "" - send no text
-#
-#   LevelReq.Trade
-#        The required level of character to be able to trade
-#        Default: 1 (From level 1)
-#
-#   LevelReq.Ticket
-#        The required level of character to be able to write tickets
-#        Default: 1 (From level 1)
-#
-#   LevelReq.Auction
-#        The required level of character to be able to use auction
-#        Default: 1 (From level 1)
-#
-#   LevelReq.Mail
-#        The required level of character to be able to send and receive mail
-#        Default: 1 (From level 1)
-#
-#   DungeonFinder.Enable
-#        Enable Dungeon Finder system. Will enable dungeon finder and raid finder
-#        Default: 0 - off
-#                 1 - on
-#
-###############################################################################
-
-PlayerStart.AllReputation = 0
-PlayerStart.AllSpells = 0
-PlayerStart.MapsExplored = 0
-MusicInBattleground = 0
-HonorPointsAfterDuel = 0
-AlwaysMaxWeaponSkill = 0
-PvPToken.Enable = 0
-PvPToken.MapAllowType = 4
-PvPToken.ItemID = 29434
-PvPToken.ItemCount = 1
-Guild.AllowMultipleGuildMaster = 0
-NoResetTalentsCost = 0
-ShowKickInWorld = 0
-RecordUpdateTimeDiffInterval = 60000
-MinRecordUpdateTimeDiff = 100
-PlayerStart.String = ""
-LevelReq.Trade = 1
-LevelReq.Ticket = 1
-LevelReq.Auction = 1
-LevelReq.Mail = 1
-DungeonFinder.Enable = 0
+PVP.System.Streaks = 2,5,10,20,30,40,50
+PVP.System.Last.Streak = 50
+PVP.System.LoseToken = 0
+PVP.System.AnyPlace = 0
+PVP.System.BattleGounds = 1
+PVP.System.SamePlayer = 0
+PVP_System_AddToken = 0
+PVP.System.Color = cffC400C4
+
+#######################################################################
+#   OutdoorPvP.Wintergrasp.Enabled
+#       Determines whether the Wintergrasp battle is enabled or not.
+#        Default: 0 = Disable
+#                 1 = Enable
+#
+#   OutdoorPvP.Wintergrasp.SaveState.Period
+#      Interval of Save Wintergrasp State Data  to restore it after crash/shutdown/restart
+#      Interval (in milliseconds)
+#      Default (10000 milliseconds)
+#      Warning:  Do not set it less 1 second!
+#
+#   OutdoorPvP.Wintergrasp.StartTime
+#       The start time of the first battle after server starts (in minutes)
+#       Default: 30
+#
+#   OutdoorPvP.Wintergrasp.BattleTime
+#       Time limit of a battle (in minutes)
+#       Default: 30
+#
+#   OutdoorPvP.Wintergrasp.Interval
+#       Interval between battles (in minutes)
+#       Default: 150
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorRewards
+#       Defines whether custom honor rewards should be given to player
+#        for partaking in the Wintergrasp Battle.
+#        Default: 0 = Disable
+#                 1 = Enable
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorBattleWin
+#       Defines the amount of honor points that should be given to the
+#        team winning the Wintergrasp Battle.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 3000
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorBattleLose
+#       Defines the amount of honor points that should be given to the
+#        team losing the Wintergrasp Battle.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 1250
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorDamageTower
+#       Defines the amount of honor points that should be given to the
+#        team for damaging a tower.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 750
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorDestroyedTower
+#       Defines the amount of honor points that should be given to the
+#        team for destroying a tower.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 750
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorDamagedBuilding
+#       Defines the amount of honor points that should be given to the
+#        team for damaged buildings after the battle.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 750
+#
+#   OutdoorPvP.Wintergrasp.CustomHonorIntactBuilding
+#      Defines the amount of honor points that should be given to the
+#        team for intact buildings after the battle.
+#       Requires OutdoorPvP.Wintergrasp.CustomHonorRewards = 1.
+#       Default: 1500
+#
+#   OutdoorPvP.Wintergrasp.Antifarm.Enable
+#		Enable or Disable antifarm system
+#              (Default: 0)
+#
+#   OutdoorPvP.Wintergrasp.Antifarm.Atk
+#		Min count atack players for antifarm
+#              (Default: 5)
+#
+#   OutdoorPvP.Wintergrasp.Antifarm.Def
+#		Min count defense players for antifarm
+#              (Default: 5)
+#
+##########################################################
+
+OutdoorPvP.Wintergrasp.Enabled = 1
+OutdoorPvP.Wintergrasp.SaveState.Period = 10000
+OutdoorPvP.Wintergrasp.StartTime = 30
+OutdoorPvP.Wintergrasp.BattleTime = 30
+OutdoorPvP.Wintergrasp.Interval = 150
+OutdoorPvP.Wintergrasp.CustomHonorRewards = 0
+OutdoorPvP.Wintergrasp.CustomHonorBattleWin = 3000
+OutdoorPvP.Wintergrasp.CustomHonorBattleLose = 1250
+OutdoorPvP.Wintergrasp.CustomHonorDamageTower = 750
+OutdoorPvP.Wintergrasp.CustomHonorDestroyedTower = 750
+OutdoorPvP.Wintergrasp.CustomHonorDamagedBuilding = 750
+OutdoorPvP.Wintergrasp.CustomHonorIntactBuilding = 1500
+OutdoorPvP.Wintergrasp.Antifarm.Enable = 0
+OutdoorPvP.Wintergrasp.Antifarm.Atk = 5
+OutdoorPvP.Wintergrasp.Antifarm.Def = 5
\ No newline at end of file
